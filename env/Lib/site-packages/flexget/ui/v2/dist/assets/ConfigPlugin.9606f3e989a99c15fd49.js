(this.webpackJsonp=this.webpackJsonp||[]).push([[3],{1004:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processSize=function(e){return/^\d+$/.test(e)?"".concat(e,"px"):e},t.noop=function(){}},1005:function(e,t,i){},1083:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"MonacoDiffEditor",{enumerable:!0,get:function(){return o.default}});var n=r(i(1084)),o=r(i(1085));function r(e){return e&&e.__esModule?e:{default:e}}},1084:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,i):{};n.get||n.set?Object.defineProperty(t,i,n):t[i]=e[i]}return t.default=e,t}(i(309)),o=a(i(24)),r=a(i(0)),s=i(1004);function a(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function u(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var f=function(e){function t(e){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=function(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?h(e):t}(this,d(t).call(this,e)),g(h(i),"assignRef",(function(e){i.containerElement=e})),i.containerElement=void 0,i}var i,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),i=t,(o=[{key:"componentDidMount",value:function(){this.initMonaco()}},{key:"componentDidUpdate",value:function(e){var t=this.props,i=t.value,o=t.language,r=t.theme,s=t.height,a=t.options,c=t.width,l=this.editor,u=l.getModel();null!=this.props.value&&this.props.value!==u.getValue()&&(this.__prevent_trigger_change_event=!0,this.editor.pushUndoStop(),u.pushEditOperations([],[{range:u.getFullModelRange(),text:i}]),this.editor.pushUndoStop(),this.__prevent_trigger_change_event=!1),e.language!==o&&n.editor.setModelLanguage(u,o),e.theme!==r&&n.editor.setTheme(r),!l||c===e.width&&s===e.height||l.layout(),e.options!==a&&l.updateOptions(a)}},{key:"componentWillUnmount",value:function(){this.destroyMonaco()}},{key:"destroyMonaco",value:function(){if(this.editor){this.editor.dispose();var e=this.editor.getModel();e&&e.dispose()}this._subscription&&this._subscription.dispose()}},{key:"initMonaco",value:function(){var e=null!=this.props.value?this.props.value:this.props.defaultValue,t=this.props,i=t.language,o=t.theme,r=t.options,s=t.overrideServices;this.containerElement&&(Object.assign(r,this.editorWillMount()),this.editor=n.editor.create(this.containerElement,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(i,!0).forEach((function(t){g(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({value:e,language:i},r,{},o?{theme:o}:{}),s),this.editorDidMount(this.editor))}},{key:"editorWillMount",value:function(){var e=this.props.editorWillMount;return e(n)||{}}},{key:"editorDidMount",value:function(e){var t=this;this.props.editorDidMount(e,n),this._subscription=e.onDidChangeModelContent((function(i){t.__prevent_trigger_change_event||t.props.onChange(e.getValue(),i)}))}},{key:"render",value:function(){var e=this.props,t=e.width,i=e.height,n={width:(0,s.processSize)(t),height:(0,s.processSize)(i)};return r.default.createElement("div",{ref:this.assignRef,style:n,className:"react-monaco-editor-container"})}}])&&u(i.prototype,o),a&&u(i,a),t}(r.default.Component);f.propTypes={width:o.default.oneOfType([o.default.string,o.default.number]),height:o.default.oneOfType([o.default.string,o.default.number]),value:o.default.string,defaultValue:o.default.string,language:o.default.string,theme:o.default.string,options:o.default.object,overrideServices:o.default.object,editorDidMount:o.default.func,editorWillMount:o.default.func,onChange:o.default.func},f.defaultProps={width:"100%",height:"100%",value:null,defaultValue:"",language:"javascript",theme:null,options:{},overrideServices:{},editorDidMount:s.noop,editorWillMount:s.noop,onChange:s.noop};var m=f;t.default=m},1085:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,i):{};n.get||n.set?Object.defineProperty(t,i,n):t[i]=e[i]}return t.default=e,t}(i(309)),o=a(i(24)),r=a(i(0)),s=i(1004);function a(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function u(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var f=function(e){function t(e){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=function(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?h(e):t}(this,d(t).call(this,e)),g(h(i),"assignRef",(function(e){i.containerElement=e})),i.containerElement=void 0,i}var i,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),i=t,(o=[{key:"componentDidMount",value:function(){this.initMonaco()}},{key:"componentDidUpdate",value:function(e){var t=this.props,i=t.language,o=t.theme,r=t.height,s=t.options,a=t.width,c=this.editor.getModel(),l=c.original,u=c.modified;this.props.original!==l.getValue()&&l.setValue(this.props.original),null!=this.props.value&&this.props.value!==u.getValue()&&(this.__prevent_trigger_change_event=!0,this.editor.modifiedEditor.pushUndoStop(),u.pushEditOperations([],[{range:u.getFullModelRange(),text:this.props.value}]),this.editor.modifiedEditor.pushUndoStop(),this.__prevent_trigger_change_event=!1),e.language!==i&&(n.editor.setModelLanguage(l,i),n.editor.setModelLanguage(u,i)),e.theme!==o&&n.editor.setTheme(o),!this.editor||a===e.width&&r===e.height||this.editor.layout(),e.options!==s&&this.editor.updateOptions(s)}},{key:"componentWillUnmount",value:function(){this.destroyMonaco()}},{key:"editorWillMount",value:function(){var e=this.props.editorWillMount;return e(n)||{}}},{key:"editorDidMount",value:function(e){var t=this;this.props.editorDidMount(e,n);var i=e.getModel().modified;this._subscription=i.onDidChangeContent((function(e){t.__prevent_trigger_change_event||t.props.onChange(i.getValue(),e)}))}},{key:"initModels",value:function(e,t){var i=this.props.language,o=n.editor.createModel(t,i),r=n.editor.createModel(e,i);this.editor.setModel({original:o,modified:r})}},{key:"initMonaco",value:function(){var e=null!=this.props.value?this.props.value:this.props.defaultValue,t=this.props,i=t.original,o=t.theme,r=t.options,s=t.overrideServices;this.containerElement&&(this.editorWillMount(),this.editor=n.editor.createDiffEditor(this.containerElement,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(i,!0).forEach((function(t){g(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},r,{},o?{theme:o}:{}),s),this.initModels(e,i),this.editorDidMount(this.editor))}},{key:"destroyMonaco",value:function(){if(this.editor){this.editor.dispose();var e=this.editor.getModel(),t=e.original,i=e.modified;t&&t.dispose(),i&&i.dispose()}this._subscription&&this._subscription.dispose()}},{key:"render",value:function(){var e=this.props,t=e.width,i=e.height,n={width:(0,s.processSize)(t),height:(0,s.processSize)(i)};return r.default.createElement("div",{ref:this.assignRef,style:n,className:"react-monaco-editor-container"})}}])&&u(i.prototype,o),a&&u(i,a),t}(r.default.Component);f.propTypes={width:o.default.oneOfType([o.default.string,o.default.number]),height:o.default.oneOfType([o.default.string,o.default.number]),original:o.default.string,value:o.default.string,defaultValue:o.default.string,language:o.default.string,theme:o.default.string,options:o.default.object,overrideServices:o.default.object,editorDidMount:o.default.func,editorWillMount:o.default.func,onChange:o.default.func},f.defaultProps={width:"100%",height:"100%",original:null,value:null,defaultValue:"",language:"javascript",theme:null,options:{},overrideServices:{},editorDidMount:s.noop,editorWillMount:s.noop,onChange:s.noop};var m=f;t.default=m},1086:function(e,t,i){},1087:function(e,t,i){},1088:function(e,t,i){},1089:function(e,t,i){},1090:function(e,t,i){},1091:function(e,t,i){},1092:function(e,t,i){},1093:function(e,t,i){},1094:function(e,t,i){},1095:function(e,t,i){},1096:function(e,t,i){},1097:function(e,t,i){},1098:function(e,t,i){},1099:function(e,t,i){},1100:function(e,t,i){},1101:function(e,t,i){},1102:function(e,t,i){},1103:function(e,t,i){},1104:function(e,t,i){},1105:function(e,t,i){},1106:function(e,t,i){},1107:function(e,t,i){},1108:function(e,t,i){},1109:function(e,t,i){},1110:function(e,t,i){},1111:function(e,t,i){e.exports=function(){return new Worker(i.p+"68c852c85ea688dfa942.worker.js")}},1112:function(e,t,i){e.exports=function(){return new Worker(i.p+"53d12c0e91af96155a37.worker.js")}},1127:function(e,t,i){"use strict";i.r(t);var n=i(0),o=i.n(n),r=i(389),s=i(275),a=i(871),c=i(503),l=i(13),u=i(3),d=(i(24),i(15)),h=i(66),p=i(19),g=i(387),f=i(394),m=Object(f.a)(o.a.createElement("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),_=Object(f.a)(o.a.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),b=Object(f.a)(o.a.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),v=Object(f.a)(o.a.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),y=i(978),w=i(874),C=i(32),S={success:o.a.createElement(m,{fontSize:"inherit"}),warning:o.a.createElement(_,{fontSize:"inherit"}),error:o.a.createElement(b,{fontSize:"inherit"}),info:o.a.createElement(v,{fontSize:"inherit"})},O=o.a.createElement(y.a,{fontSize:"small"}),k=o.a.forwardRef((function(e,t){var i=e.action,n=e.children,r=e.classes,s=e.className,a=e.closeText,c=void 0===a?"Close":a,h=e.color,p=e.icon,f=e.iconMapping,m=void 0===f?S:f,_=e.onClose,b=e.role,v=void 0===b?"alert":b,y=e.severity,k=void 0===y?"success":y,x=e.variant,D=void 0===x?"standard":x,I=Object(l.a)(e,["action","children","classes","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"]);return o.a.createElement(g.a,Object(u.a)({role:v,square:!0,elevation:0,className:Object(d.a)(r.root,r["".concat(D).concat(Object(C.a)(h||k))],s),ref:t},I),!1!==p?o.a.createElement("div",{className:r.icon},p||m[k]||S[k]):null,o.a.createElement("div",{className:r.message},n),null!=i?o.a.createElement("div",{className:r.action},i):null,null==i&&_?o.a.createElement("div",{className:r.action},o.a.createElement(w.a,{size:"small","aria-label":c,title:c,color:"inherit",onClick:_},O)):null)})),x=Object(p.a)((function(e){return{root:Object(u.a)({},e.typography.body2,{borderRadius:e.shape.borderRadius,backgroundColor:"transparent",display:"flex",padding:"6px 16px"}),standardSuccess:{color:Object(h.a)(e.palette.success.main,.6),backgroundColor:Object(h.e)(e.palette.success.main,.9),"& $icon":{color:e.palette.success.main}},standardInfo:{color:Object(h.a)(e.palette.info.main,.6),backgroundColor:Object(h.e)(e.palette.info.main,.9),"& $icon":{color:e.palette.info.main}},standardWarning:{color:Object(h.a)(e.palette.warning.main,.6),backgroundColor:Object(h.e)(e.palette.warning.main,.9),"& $icon":{color:e.palette.warning.main}},standardError:{color:Object(h.a)(e.palette.error.main,.6),backgroundColor:Object(h.e)(e.palette.error.main,.9),"& $icon":{color:e.palette.error.main}},outlinedSuccess:{color:"light"===e.palette.type?Object(h.a)(e.palette.success.main,.6):Object(h.e)(e.palette.success.main,.6),border:"1px solid ".concat(e.palette.success.main),"& $icon":{color:e.palette.success.main}},outlinedInfo:{color:"light"===e.palette.type?Object(h.a)(e.palette.info.main,.6):Object(h.e)(e.palette.info.main,.6),border:"1px solid ".concat(e.palette.info.main),"& $icon":{color:e.palette.info.main}},outlinedWarning:{color:"light"===e.palette.type?Object(h.a)(e.palette.warning.main,.6):Object(h.e)(e.palette.warning.main,.6),border:"1px solid ".concat(e.palette.warning.main),"& $icon":{color:e.palette.warning.main}},outlinedError:{color:"light"===e.palette.type?Object(h.a)(e.palette.error.main,.6):Object(h.e)(e.palette.error.main,.6),border:"1px solid ".concat(e.palette.error.main),"& $icon":{color:e.palette.error.main}},filledSuccess:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.success.main},filledInfo:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.info.main},filledWarning:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.warning.main},filledError:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.error.main},icon:{marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9},message:{padding:"8px 0",display:"flex",flexDirection:"column",justifyContent:"center"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiAlert"})(k),D=i(99),I=i(276),P=i(5),E=i(456),M=i.n(E),N=i(105),R=i(91);function j(e){return e<26?e+65:e<52?e+71:e<62?e-4:62===e?43:63===e?47:65}var T=function(e){return function(e){for(var t,i=(3-e.length%3)%3,n="",o=e.length,r=0,s=0;s<o;s++)t=s%3,r|=e[s]<<(16>>>t&24),2!==t&&e.length-s!=1||(n+=String.fromCharCode(j(r>>>18&63),j(r>>>12&63),j(r>>>6&63),j(63&r)),r=0);return 0===i?n:n.substring(0,n.length-i)+(1===i?"=":"==")}(function(e){for(var t=e.length,i=0,n=0;n<t;n++){var o=e.charCodeAt(n);i+=o<128?1:o<2048?2:o<65536?3:o<2097152?4:o<67108864?5:6}for(var r=new Uint8Array(i),s=0,a=0;s<i;a++){var c=e.charCodeAt(a);c<128?r[s++]=c:c<2048?(r[s++]=192+(c>>>6),r[s++]=128+(63&c)):c<65536?(r[s++]=224+(c>>>12),r[s++]=128+(c>>>6&63),r[s++]=128+(63&c)):c<2097152?(r[s++]=240+(c>>>18),r[s++]=128+(c>>>12&63),r[s++]=128+(c>>>6&63),r[s++]=128+(63&c)):c<67108864?(r[s++]=248+(c>>>24),r[s++]=128+(c>>>18&63),r[s++]=128+(c>>>12&63),r[s++]=128+(c>>>6&63),r[s++]=128+(63&c)):(r[s++]=252+(c>>>30),r[s++]=128+(c>>>24&63),r[s++]=128+(c>>>18&63),r[s++]=128+(c>>>12&63),r[s++]=128+(c>>>6&63),r[s++]=128+(63&c))}return r}(e))},A=function(e){return function(e){for(var t,i="",n=e.length,o=0;o<n;o++)t=e[o],i+=String.fromCharCode(t>251&&t<254&&o+5<n?1073741824*(t-252)+(e[++o]-128<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:t>247&&t<252&&o+4<n?(t-248<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:t>239&&t<248&&o+3<n?(t-240<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:t>223&&t<240&&o+2<n?(t-224<<12)+(e[++o]-128<<6)+e[++o]-128:t>191&&t<224&&o+1<n?(t-192<<6)+e[++o]-128:t);return i}(function(e,t){for(var i,n,o,r=e.replace(/[^A-Za-z0-9+/]/g,""),s=r.length,a=t?Math.ceil((3*s+1>>>2)/t)*t:3*s+1>>>2,c=new Uint8Array(a),l=0,u=0,d=0;d<s;d++)if(n=3&d,l|=((o=r.charCodeAt(d))>64&&o<91?o-65:o>96&&o<123?o-71:o>47&&o<58?o+4:43===o?62:47===o?63:0)<<18-6*n,3===n||s-d==1){for(i=0;i<3&&u<a;i++,u++)c[u]=l>>>(16>>>i&24)&255;l=0}return c}(e))},F=i(391),L=i(39);function V(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function B(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function W(e,t,i,n,o,r,s){try{var a=e[r](s),c=a.value}catch(e){return void i(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function H(e){return function(){var t=this,i=arguments;return new Promise((function(n,o){var r=e.apply(t,i);function s(e){W(r,n,o,s,a,"next",e)}function a(e){W(r,n,o,s,a,"throw",e)}s(void 0)}))}}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){o=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var U,q=function(){var e=z(Object(N.b)("/schema",R.a.Get,!0),2),t=e[0],i=e[1],o=z(Object(n.useState)([]),2),r=o[0],s=o[1];return Object(n.useEffect)((function(){(function(){var e=H(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:(t=e.sent).ok&&s(t.data.schemas.map((function(e){return{uri:e.id,fileMatch:e.id==="".concat(document.baseURI,"api/schema/config")?["*"]:void 0,schema:e}})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i]),function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?V(Object(i),!0).forEach((function(t){B(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):V(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t,{schemas:r})},G=i(109),Z=i(1083),$=i.n(Z),Y=i(309),J=(i(125),i(310)),Q=(i(1086),i(1)),X=i(33),ee=i(6),te=i(23),ie=i(9),ne=i(7),oe=i(40),re=i(22),se=i(72),ae=i(110),ce=i(45),le=i(10),ue=i(30),de=i(111),he=(U=function(e,t){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}U(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),pe=Object(le.Rb)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},Q.a("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets.")),ge=function(e){function t(){return e.call(this,{id:"editor.action.jumpToBracket",label:Q.a("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:re.a.editorTextFocus,primary:3160,weight:100}})||this}return he(t,e),t.prototype.run=function(e,t){var i=_e.get(t);i&&i.jumpToBracket()},t}(te.b),fe=function(e){function t(){return e.call(this,{id:"editor.action.selectToBracket",label:Q.a("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})||this}return he(t,e),t.prototype.run=function(e,t,i){var n=_e.get(t);if(n){var o=!0;i&&!1===i.selectBrackets&&(o=!1),n.selectToBracket(o)}},t}(te.b),me=function(e,t,i){this.position=e,this.brackets=t,this.options=i},_e=function(e){function t(t){var i=e.call(this)||this;return i._editor=t,i._lastBracketsData=[],i._lastVersionId=0,i._decorations=[],i._updateBracketsSoon=i._register(new X.d((function(){return i._updateBrackets()}),50)),i._matchBrackets=i._editor.getOption(51),i._updateBracketsSoon.schedule(),i._register(t.onDidChangeCursorPosition((function(e){"never"!==i._matchBrackets&&i._updateBracketsSoon.schedule()}))),i._register(t.onDidChangeModelContent((function(e){i._updateBracketsSoon.schedule()}))),i._register(t.onDidChangeModel((function(e){i._lastBracketsData=[],i._decorations=[],i._updateBracketsSoon.schedule()}))),i._register(t.onDidChangeModelLanguageConfiguration((function(e){i._lastBracketsData=[],i._updateBracketsSoon.schedule()}))),i._register(t.onDidChangeConfiguration((function(e){e.hasChanged(51)&&(i._matchBrackets=i._editor.getOption(51),i._decorations=i._editor.deltaDecorations(i._decorations,[]),i._lastBracketsData=[],i._lastVersionId=0,i._updateBracketsSoon.schedule())}))),i}return he(t,e),t.get=function(e){return e.getContribution(t.ID)},t.prototype.jumpToBracket=function(){if(this._editor.hasModel()){var e=this._editor.getModel(),t=this._editor.getSelections().map((function(t){var i=t.getStartPosition(),n=e.matchBracket(i),o=null;if(n)n[0].containsPosition(i)?o=n[1].getStartPosition():n[1].containsPosition(i)&&(o=n[0].getStartPosition());else{var r=e.findEnclosingBrackets(i);if(r)o=r[0].getStartPosition();else{var s=e.findNextBracket(i);s&&s.range&&(o=s.range.getStartPosition())}}return o?new oe.a(o.lineNumber,o.column,o.lineNumber,o.column):new oe.a(i.lineNumber,i.column,i.lineNumber,i.column)}));this._editor.setSelections(t),this._editor.revealRange(t[0])}},t.prototype.selectToBracket=function(e){if(this._editor.hasModel()){var t=this._editor.getModel(),i=[];this._editor.getSelections().forEach((function(n){var o=n.getStartPosition(),r=t.matchBracket(o);if(!r&&!(r=t.findEnclosingBrackets(o))){var s=t.findNextBracket(o);s&&s.range&&(r=t.matchBracket(s.range.getStartPosition()))}var a=null,c=null;if(r){r.sort(ne.a.compareRangesUsingStarts);var l=r[0],u=r[1];a=e?l.getStartPosition():l.getEndPosition(),c=e?u.getEndPosition():u.getStartPosition()}a&&c&&i.push(new oe.a(a.lineNumber,a.column,c.lineNumber,c.column))})),i.length>0&&(this._editor.setSelections(i),this._editor.revealRange(i[0]))}},t.prototype._updateBrackets=function(){if("never"!==this._matchBrackets){this._recomputeBrackets();for(var e=[],t=0,i=0,n=this._lastBracketsData;i<n.length;i++){var o=n[i],r=o.brackets;r&&(e[t++]={range:r[0],options:o.options},e[t++]={range:r[1],options:o.options})}this._decorations=this._editor.deltaDecorations(this._decorations,e)}},t.prototype._recomputeBrackets=function(){if(!this._editor.hasModel())return this._lastBracketsData=[],void(this._lastVersionId=0);var e=this._editor.getSelections();if(e.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);var i=this._editor.getModel(),n=i.getVersionId(),o=[];this._lastVersionId===n&&(o=this._lastBracketsData);for(var r=[],s=0,a=0,c=e.length;a<c;a++){var l=e[a];l.isEmpty()&&(r[s++]=l.getStartPosition())}r.length>1&&r.sort(ie.a.compare);var u=[],d=0,h=0,p=o.length;for(a=0,c=r.length;a<c;a++){for(var g=r[a];h<p&&o[h].position.isBefore(g);)h++;if(h<p&&o[h].position.equals(g))u[d++]=o[h];else{var f=i.matchBracket(g),m=t._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;f||"always"!==this._matchBrackets||(f=i.findEnclosingBrackets(g,20),m=t._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),u[d++]=new me(g,f,m)}}this._lastBracketsData=u,this._lastVersionId=n},t.ID="editor.contrib.bracketMatchingController",t._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=ae.a.register({stickiness:1,className:"bracket-match",overviewRuler:{color:Object(ue.f)(pe),position:se.d.Center}}),t._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=ae.a.register({stickiness:1,className:"bracket-match"}),t}(ee.a);Object(te.h)(_e.ID,_e),Object(te.f)(fe),Object(te.f)(ge),Object(ue.e)((function(e,t){var i=e.getColor(ce.c);i&&t.addRule(".monaco-editor .bracket-match { background-color: "+i+"; }");var n=e.getColor(ce.d);n&&t.addRule(".monaco-editor .bracket-match { border: 1px solid "+n+"; }")})),de.c.appendMenuItem(17,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:Q.a({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});i(1087);var be=i(25),ve=i(12),ye=i(382),we=i(71),Ce=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Se=ve.f||document.queryCommandSupported("cut"),Oe=ve.f||document.queryCommandSupported("copy"),ke=Oe&&!be.f,xe=ve.f||!be.d&&document.queryCommandSupported("paste"),De=function(e){function t(t,i){var n=e.call(this,i)||this;return n.browserCommand=t,n}return Ce(t,e),t.prototype.runCommand=function(e,t){var i=e.get(we.a).getFocusedCodeEditor();i&&i.hasTextFocus()?i.trigger("keyboard",this.id,t):document.execCommand(this.browserCommand)},t.prototype.run=function(e,t){t.focus(),document.execCommand(this.browserCommand)},t}(te.b),Ie=function(e){function t(){var t={kbExpr:re.a.textInputFocus,primary:2102,win:{primary:2102,secondary:[1044]},weight:100};return ve.f||(t=void 0),e.call(this,"cut",{id:"editor.action.clipboardCutAction",label:Q.a("actions.clipboard.cutLabel","Cut"),alias:"Cut",precondition:re.a.writable,kbOpts:t,contextMenuOpts:{group:"9_cutcopypaste",order:1},menuOpts:{menuId:15,group:"2_ccp",title:Q.a({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1}})||this}return Ce(t,e),t.prototype.run=function(t,i){i.hasModel()&&(!i.getOption(24)&&i.getSelection().isEmpty()||e.prototype.run.call(this,t,i))},t}(De),Pe=function(e){function t(){var t={kbExpr:re.a.textInputFocus,primary:2081,win:{primary:2081,secondary:[2067]},weight:100};return ve.f||(t=void 0),e.call(this,"copy",{id:"editor.action.clipboardCopyAction",label:Q.a("actions.clipboard.copyLabel","Copy"),alias:"Copy",precondition:void 0,kbOpts:t,contextMenuOpts:{group:"9_cutcopypaste",order:2},menuOpts:{menuId:15,group:"2_ccp",title:Q.a({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2}})||this}return Ce(t,e),t.prototype.run=function(t,i){i.hasModel()&&(!i.getOption(24)&&i.getSelection().isEmpty()||e.prototype.run.call(this,t,i))},t}(De),Ee=function(e){function t(){var t={kbExpr:re.a.textInputFocus,primary:2100,win:{primary:2100,secondary:[1043]},weight:100};return ve.f||(t=void 0),e.call(this,"paste",{id:"editor.action.clipboardPasteAction",label:Q.a("actions.clipboard.pasteLabel","Paste"),alias:"Paste",precondition:re.a.writable,kbOpts:t,contextMenuOpts:{group:"9_cutcopypaste",order:3},menuOpts:{menuId:15,group:"2_ccp",title:Q.a({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:3}})||this}return Ce(t,e),t}(De),Me=function(e){function t(){return e.call(this,"copy",{id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:Q.a("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:re.a.textInputFocus,primary:0,weight:100}})||this}return Ce(t,e),t.prototype.run=function(t,i){i.hasModel()&&(!i.getOption(24)&&i.getSelection().isEmpty()||(ye.a.forceCopyWithSyntaxHighlighting=!0,e.prototype.run.call(this,t,i),ye.a.forceCopyWithSyntaxHighlighting=!1))},t}(De);Se&&Object(te.f)(Ie),Oe&&Object(te.f)(Pe),xe&&Object(te.f)(Ee),ke&&Object(te.f)(Me);var Ne=i(8),Re=i(68),je=i(114),Te=function(){function e(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}return e.prototype.dispose=function(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null},e.prototype.reset=function(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null},e.prototype.getCount=function(){return this._decorations.length},e.prototype.getFindScope=function(){return this._findScopeDecorationId?this._editor.getModel().getDecorationRange(this._findScopeDecorationId):null},e.prototype.getStartPosition=function(){return this._startPosition},e.prototype.setStartPosition=function(e){this._startPosition=e,this.setCurrentFindMatch(null)},e.prototype._getDecorationIndex=function(e){var t=this._decorations.indexOf(e);return t>=0?t+1:1},e.prototype.getCurrentMatchesPosition=function(t){for(var i=0,n=this._editor.getModel().getDecorationsInRange(t);i<n.length;i++){var o=n[i],r=o.options;if(r===e._FIND_MATCH_DECORATION||r===e._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(o.id)}return 1},e.prototype.setCurrentFindMatch=function(t){var i=this,n=null,o=0;if(t)for(var r=0,s=this._decorations.length;r<s;r++){var a=this._editor.getModel().getDecorationRange(this._decorations[r]);if(t.equalsRange(a)){n=this._decorations[r],o=r+1;break}}return null===this._highlightedDecorationId&&null===n||this._editor.changeDecorations((function(t){if(null!==i._highlightedDecorationId&&(t.changeDecorationOptions(i._highlightedDecorationId,e._FIND_MATCH_DECORATION),i._highlightedDecorationId=null),null!==n&&(i._highlightedDecorationId=n,t.changeDecorationOptions(i._highlightedDecorationId,e._CURRENT_FIND_MATCH_DECORATION)),null!==i._rangeHighlightDecorationId&&(t.removeDecoration(i._rangeHighlightDecorationId),i._rangeHighlightDecorationId=null),null!==n){var o=i._editor.getModel().getDecorationRange(n);if(o.startLineNumber!==o.endLineNumber&&1===o.endColumn){var r=o.endLineNumber-1,s=i._editor.getModel().getLineMaxColumn(r);o=new ne.a(o.startLineNumber,o.startColumn,r,s)}i._rangeHighlightDecorationId=t.addDecoration(o,e._RANGE_HIGHLIGHT_DECORATION)}})),o},e.prototype.set=function(t,i){var n=this;this._editor.changeDecorations((function(o){var r=e._FIND_MATCH_DECORATION,s=[];if(t.length>1e3){r=e._FIND_MATCH_NO_OVERVIEW_DECORATION;for(var a=n._editor.getModel().getLineCount(),c=n._editor.getLayoutInfo().height/a,l=Math.max(2,Math.ceil(3/c)),u=t[0].range.startLineNumber,d=t[0].range.endLineNumber,h=1,p=t.length;h<p;h++){var g=t[h].range;d+l>=g.startLineNumber?g.endLineNumber>d&&(d=g.endLineNumber):(s.push({range:new ne.a(u,1,d,1),options:e._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),u=g.startLineNumber,d=g.endLineNumber)}s.push({range:new ne.a(u,1,d,1),options:e._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}var f=new Array(t.length);for(h=0,p=t.length;h<p;h++)f[h]={range:t[h].range,options:r};n._decorations=o.deltaDecorations(n._decorations,f),n._overviewRulerApproximateDecorations=o.deltaDecorations(n._overviewRulerApproximateDecorations,s),n._rangeHighlightDecorationId&&(o.removeDecoration(n._rangeHighlightDecorationId),n._rangeHighlightDecorationId=null),n._findScopeDecorationId&&(o.removeDecoration(n._findScopeDecorationId),n._findScopeDecorationId=null),i&&(n._findScopeDecorationId=o.addDecoration(i,e._FIND_SCOPE_DECORATION))}))},e.prototype.matchBeforePosition=function(e){if(0===this._decorations.length)return null;for(var t=this._decorations.length-1;t>=0;t--){var i=this._decorations[t],n=this._editor.getModel().getDecorationRange(i);if(n&&!(n.endLineNumber>e.lineNumber)){if(n.endLineNumber<e.lineNumber)return n;if(!(n.endColumn>e.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])},e.prototype.matchAfterPosition=function(e){if(0===this._decorations.length)return null;for(var t=0,i=this._decorations.length;t<i;t++){var n=this._decorations[t],o=this._editor.getModel().getDecorationRange(n);if(o&&!(o.startLineNumber<e.lineNumber)){if(o.startLineNumber>e.lineNumber)return o;if(!(o.startColumn<e.column))return o}}return this._editor.getModel().getDecorationRange(this._decorations[0])},e.prototype._allDecorations=function(){var e=[];return e=(e=e.concat(this._decorations)).concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationId&&e.push(this._findScopeDecorationId),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e},e._CURRENT_FIND_MATCH_DECORATION=ae.a.register({stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:Object(ue.f)(le.Kb),position:se.d.Center},minimap:{color:Object(ue.f)(le.Gb),position:se.c.Inline}}),e._FIND_MATCH_DECORATION=ae.a.register({stickiness:1,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:Object(ue.f)(le.Kb),position:se.d.Center},minimap:{color:Object(ue.f)(le.Gb),position:se.c.Inline}}),e._FIND_MATCH_NO_OVERVIEW_DECORATION=ae.a.register({stickiness:1,className:"findMatch",showIfCollapsed:!0}),e._FIND_MATCH_ONLY_OVERVIEW_DECORATION=ae.a.register({stickiness:1,overviewRuler:{color:Object(ue.f)(le.Kb),position:se.d.Center}}),e._RANGE_HIGHLIGHT_DECORATION=ae.a.register({stickiness:1,className:"rangeHighlight",isWholeLine:!0}),e._FIND_SCOPE_DECORATION=ae.a.register({className:"findScope",isWholeLine:!0}),e}(),Ae=function(){function e(e,t,i){this._editorSelection=e,this._ranges=t,this._replaceStrings=i,this._trackedEditorSelectionId=null}return e.prototype.getEditOperations=function(e,t){if(this._ranges.length>0){for(var i=[],n=0;n<this._ranges.length;n++)i.push({range:this._ranges[n],text:this._replaceStrings[n]});i.sort((function(e,t){return ne.a.compareRangesUsingStarts(e.range,t.range)}));var o=[],r=i[0];for(n=1;n<i.length;n++)r.range.endLineNumber===i[n].range.startLineNumber&&r.range.endColumn===i[n].range.startColumn?(r.range=r.range.plusRange(i[n].range),r.text=r.text+i[n].text):(o.push(r),r=i[n]);o.push(r);for(var s=0,a=o;s<a.length;s++){var c=a[s];t.addEditOperation(c.range,c.text)}}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)},e}();function Fe(e,t){if(e&&""!==e[0]){var i=Le(e,t,"-"),n=Le(e,t,"_");return i&&!n?Ve(e,t,"-"):!i&&n?Ve(e,t,"_"):e[0].toUpperCase()===e[0]?t.toUpperCase():e[0].toLowerCase()===e[0]?t.toLowerCase():Ne.j(e[0][0])?t[0].toUpperCase()+t.substr(1):t}return t}function Le(e,t,i){return-1!==e[0].indexOf(i)&&-1!==t.indexOf(i)&&e[0].split(i).length===t.split(i).length}function Ve(e,t,i){var n=t.split(i),o=e[0].split(i),r="";return n.forEach((function(e,t){r+=Fe([o[t]],e)+i})),r.slice(0,-1)}var Be=function(e){this.staticValue=e,this.kind=0},We=function(e){this.pieces=e,this.kind=1},He=function(){function e(e){e&&0!==e.length?1===e.length&&null!==e[0].staticValue?this._state=new Be(e[0].staticValue):this._state=new We(e):this._state=new Be("")}return e.fromStaticValue=function(t){return new e([ze.staticValue(t)])},Object.defineProperty(e.prototype,"hasReplacementPatterns",{get:function(){return 1===this._state.kind},enumerable:!0,configurable:!0}),e.prototype.buildReplaceString=function(t,i){if(0===this._state.kind)return i?Fe(t,this._state.staticValue):this._state.staticValue;for(var n="",o=0,r=this._state.pieces.length;o<r;o++){var s=this._state.pieces[o];null===s.staticValue?n+=e._substitute(s.matchIndex,t):n+=s.staticValue}return n},e._substitute=function(e,t){if(null===t)return"";if(0===e)return t[0];for(var i="";e>0;){if(e<t.length)return(t[e]||"")+i;i=String(e%10)+i,e=Math.floor(e/10)}return"$"+i},e}(),ze=function(){function e(e,t){this.staticValue=e,this.matchIndex=t}return e.staticValue=function(t){return new e(t,-1)},e.matchIndex=function(t){return new e(null,t)},e}(),Ke=function(){function e(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}return e.prototype.emitUnchanged=function(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e},e.prototype.emitStatic=function(e,t){this._emitStatic(e),this._lastCharIndex=t},e.prototype._emitStatic=function(e){0!==e.length&&(this._currentStaticPiece+=e)},e.prototype.emitMatchIndex=function(e,t){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=ze.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=ze.matchIndex(e),this._lastCharIndex=t},e.prototype.finalize=function(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=ze.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new He(this._result)},e}();var Ue=i(18),qe=new Ue.d("findWidgetVisible",!1),Ge=new Ue.d("findInputFocussed",!1),Ze=new Ue.d("replaceInputFocussed",!1),$e={primary:545,mac:{primary:2593}},Ye={primary:565,mac:{primary:2613}},Je={primary:560,mac:{primary:2608}},Qe={primary:554,mac:{primary:2602}},Xe="actions.find",et="actions.findWithSelection",tt="editor.action.nextMatchFindAction",it="editor.action.previousMatchFindAction",nt="editor.action.nextSelectionMatchFindAction",ot="editor.action.previousSelectionMatchFindAction",rt="editor.action.startFindReplaceAction",st="closeFindWidget",at="toggleFindCaseSensitive",ct="toggleFindWholeWord",lt="toggleFindRegex",ut="toggleFindInSelection",dt="editor.action.replaceOne",ht="editor.action.replaceAll",pt="editor.action.selectAllMatches",gt=function(){function e(e,t){var i=this;this._toDispose=new ee.b,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new X.e,this._decorations=new Te(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new X.d((function(){return i.research(!1)}),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition((function(e){3!==e.reason&&5!==e.reason&&6!==e.reason||i._decorations.setStartPosition(i._editor.getPosition())}))),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent((function(e){i._ignoreModelContentChanged||(e.isFlush&&i._decorations.reset(),i._decorations.setStartPosition(i._editor.getPosition()),i._updateDecorationsScheduler.schedule())}))),this._toDispose.add(this._state.onFindReplaceStateChange((function(e){return i._onStateChanged(e)}))),this.research(!1,this._state.searchScope)}return e.prototype.dispose=function(){this._isDisposed=!0,Object(ee.f)(this._startSearchingTimer),this._toDispose.dispose()},e.prototype._onStateChanged=function(e){var t=this;this._isDisposed||this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet((function(){e.searchScope?t.research(e.moveCursor,t._state.searchScope):t.research(e.moveCursor)}),240)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))},e._getSearchRange=function(e,t){return t||e.getFullModelRange()},e.prototype.research=function(e,t){var i=null;null!==(i=void 0!==t?t:this._decorations.getFindScope())&&i.startLineNumber!==i.endLineNumber&&(i=1===i.endColumn?new ne.a(i.startLineNumber,1,i.endLineNumber-1,this._editor.getModel().getLineMaxColumn(i.endLineNumber-1)):new ne.a(i.startLineNumber,1,i.endLineNumber,this._editor.getModel().getLineMaxColumn(i.endLineNumber)));var n=this._findMatches(i,!1,19999);this._decorations.set(n,i),this._state.changeMatchInfo(this._decorations.getCurrentMatchesPosition(this._editor.getSelection()),this._decorations.getCount(),void 0),e&&this._moveToNextMatch(this._decorations.getStartPosition())},e.prototype._hasMatches=function(){return this._state.matchesCount>0},e.prototype._cannotFind=function(){if(!this._hasMatches()){var e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1},e.prototype._setCurrentFindMatch=function(e){var t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)},e.prototype._prevSearchPosition=function(e){var t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),i=e.lineNumber,n=e.column,o=this._editor.getModel();return t||1===n?(1===i?i=o.getLineCount():i--,n=o.getLineMaxColumn(i)):n--,new ie.a(i,n)},e.prototype._moveToPrevMatch=function(t,i){if(void 0===i&&(i=!1),this._decorations.getCount()<19999){var n=this._decorations.matchBeforePosition(t);return n&&n.isEmpty()&&n.getStartPosition().equals(t)&&(t=this._prevSearchPosition(t),n=this._decorations.matchBeforePosition(t)),void(n&&this._setCurrentFindMatch(n))}if(!this._cannotFind()){var o=this._decorations.getFindScope(),r=e._getSearchRange(this._editor.getModel(),o);r.getEndPosition().isBefore(t)&&(t=r.getEndPosition()),t.isBefore(r.getStartPosition())&&(t=r.getEndPosition());var s=t.lineNumber,a=t.column,c=this._editor.getModel(),l=new ie.a(s,a),u=c.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(92):null,!1);if(u&&u.range.isEmpty()&&u.range.getStartPosition().equals(l)&&(l=this._prevSearchPosition(l),u=c.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(92):null,!1)),u)return i||r.containsRange(u.range)?void this._setCurrentFindMatch(u.range):this._moveToPrevMatch(u.range.getStartPosition(),!0)}},e.prototype.moveToPrevMatch=function(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())},e.prototype._nextSearchPosition=function(e){var t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),i=e.lineNumber,n=e.column,o=this._editor.getModel();return t||n===o.getLineMaxColumn(i)?(i===o.getLineCount()?i=1:i++,n=1):n++,new ie.a(i,n)},e.prototype._moveToNextMatch=function(e){if(this._decorations.getCount()<19999){var t=this._decorations.matchAfterPosition(e);return t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),t=this._decorations.matchAfterPosition(e)),void(t&&this._setCurrentFindMatch(t))}var i=this._getNextMatch(e,!1,!0);i&&this._setCurrentFindMatch(i.range)},e.prototype._getNextMatch=function(t,i,n,o){if(void 0===o&&(o=!1),this._cannotFind())return null;var r=this._decorations.getFindScope(),s=e._getSearchRange(this._editor.getModel(),r);s.getEndPosition().isBefore(t)&&(t=s.getStartPosition()),t.isBefore(s.getStartPosition())&&(t=s.getStartPosition());var a=t.lineNumber,c=t.column,l=this._editor.getModel(),u=new ie.a(a,c),d=l.findNextMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(92):null,i);return n&&d&&d.range.isEmpty()&&d.range.getStartPosition().equals(u)&&(u=this._nextSearchPosition(u),d=l.findNextMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(92):null,i)),d?o||s.containsRange(d.range)?d:this._getNextMatch(d.range.getEndPosition(),i,n,!0):null},e.prototype.moveToNextMatch=function(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())},e.prototype._getReplacePattern=function(){return this._state.isRegex?function(e){if(!e||0===e.length)return new He(null);for(var t=new Ke(e),i=0,n=e.length;i<n;i++){var o=e.charCodeAt(i);if(92!==o){if(36===o){if(++i>=n)break;if(36===(a=e.charCodeAt(i))){t.emitUnchanged(i-1),t.emitStatic("$",i+1);continue}if(48===a||38===a){t.emitUnchanged(i-1),t.emitMatchIndex(0,i+1);continue}if(49<=a&&a<=57){var r=a-48;if(i+1<n){var s=e.charCodeAt(i+1);if(48<=s&&s<=57){i++,r=10*r+(s-48),t.emitUnchanged(i-2),t.emitMatchIndex(r,i+1);continue}}t.emitUnchanged(i-1),t.emitMatchIndex(r,i+1);continue}}}else{if(++i>=n)break;var a;switch(a=e.charCodeAt(i)){case 92:t.emitUnchanged(i-1),t.emitStatic("\\",i+1);break;case 110:t.emitUnchanged(i-1),t.emitStatic("\n",i+1);break;case 116:t.emitUnchanged(i-1),t.emitStatic("\t",i+1)}}}return t.finalize()}(this._state.replaceString):He.fromStaticValue(this._state.replaceString)},e.prototype.replace=function(){if(this._hasMatches()){var e=this._getReplacePattern(),t=this._editor.getSelection(),i=this._getNextMatch(t.getStartPosition(),!0,!1);if(i)if(t.equalsRange(i.range)){var n=e.buildReplaceString(i.matches,this._state.preserveCase),o=new Re.a(t,n);this._executeEditorCommand("replace",o),this._decorations.setStartPosition(new ie.a(t.startLineNumber,t.startColumn+n.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(i.range)}},e.prototype._findMatches=function(t,i,n){var o=e._getSearchRange(this._editor.getModel(),t);return this._editor.getModel().findMatches(this._state.searchString,o,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(92):null,i,n)},e.prototype.replaceAll=function(){if(this._hasMatches()){var e=this._decorations.getFindScope();null===e&&this._state.matchesCount>=19999?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}},e.prototype._largeReplaceAll=function(){var e=new je.a(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(92):null).parseSearchRequest();if(e){var t=e.regex;if(!t.multiline){var i="mu";t.ignoreCase&&(i+="i"),t.global&&(i+="g"),t=new RegExp(t.source,i)}var n,o=this._editor.getModel(),r=o.getValue(1),s=o.getFullModelRange(),a=this._getReplacePattern(),c=this._state.preserveCase;n=a.hasReplacementPatterns||c?r.replace(t,(function(){return a.buildReplaceString(arguments,c)})):r.replace(t,a.buildReplaceString(null,c));var l=new Re.b(s,n,this._editor.getSelection());this._executeEditorCommand("replaceAll",l)}},e.prototype._regularReplaceAll=function(e){for(var t=this._getReplacePattern(),i=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),n=[],o=0,r=i.length;o<r;o++)n[o]=t.buildReplaceString(i[o].matches,this._state.preserveCase);var s=new Ae(this._editor.getSelection(),i.map((function(e){return e.range})),n);this._executeEditorCommand("replaceAll",s)},e.prototype.selectAllMatches=function(){if(this._hasMatches()){for(var e=this._decorations.getFindScope(),t=this._findMatches(e,!1,1073741824).map((function(e){return new oe.a(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)})),i=this._editor.getSelection(),n=0,o=t.length;n<o;n++){if(t[n].equalsRange(i)){t=[i].concat(t.slice(0,n)).concat(t.slice(n+1));break}}this._editor.setSelections(t)}},e.prototype._executeEditorCommand=function(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}},e}(),ft=i(2),mt=(i(1088),i(228)),_t=i(17),bt=i(4),vt=i(80),yt=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),wt={inputActiveOptionBorder:_t.a.fromHex("#007ACC00"),inputActiveOptionBackground:_t.a.fromHex("#0E639C50")},Ct=function(e){function t(t){var i=e.call(this)||this;return i._onChange=i._register(new bt.a),i.onChange=i._onChange.event,i._onKeyDown=i._register(new bt.a),i.onKeyDown=i._onKeyDown.event,i._opts=vt.c(t),vt.g(i._opts,wt,!1),i._checked=i._opts.isChecked,i.domNode=document.createElement("div"),i.domNode.title=i._opts.title,i.domNode.className="monaco-custom-checkbox codicon "+(i._opts.actionClassName||"")+" "+(i._checked?"checked":"unchecked"),i.domNode.tabIndex=0,i.domNode.setAttribute("role","checkbox"),i.domNode.setAttribute("aria-checked",String(i._checked)),i.domNode.setAttribute("aria-label",i._opts.title),i.applyStyles(),i.onclick(i.domNode,(function(e){i.checked=!i._checked,i._onChange.fire(!1),e.preventDefault()})),i.ignoreGesture(i.domNode),i.onkeydown(i.domNode,(function(e){if(10===e.keyCode||3===e.keyCode)return i.checked=!i._checked,i._onChange.fire(!0),void e.preventDefault();i._onKeyDown.fire(e)})),i}return yt(t,e),Object.defineProperty(t.prototype,"enabled",{get:function(){return"true"!==this.domNode.getAttribute("aria-disabled")},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this.domNode.focus()},Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this._checked?this.domNode.classList.add("checked"):this.domNode.classList.remove("checked"),this.applyStyles()},enumerable:!0,configurable:!0}),t.prototype.width=function(){return 22},t.prototype.style=function(e){e.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=e.inputActiveOptionBorder),e.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=e.inputActiveOptionBackground),this.applyStyles()},t.prototype.applyStyles=function(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")},t.prototype.enable=function(){this.domNode.tabIndex=0,this.domNode.setAttribute("aria-disabled",String(!1))},t.prototype.disable=function(){ft.O(this.domNode),this.domNode.setAttribute("aria-disabled",String(!0))},t}(mt.a),St=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ot=Q.a("caseDescription","Match Case"),kt=Q.a("wordsDescription","Match Whole Word"),xt=Q.a("regexDescription","Use Regular Expression"),Dt=function(e){function t(t){return e.call(this,{actionClassName:"codicon-case-sensitive",title:Ot+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionBackground:t.inputActiveOptionBackground})||this}return St(t,e),t}(Ct),It=function(e){function t(t){return e.call(this,{actionClassName:"codicon-whole-word",title:kt+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionBackground:t.inputActiveOptionBackground})||this}return St(t,e),t}(Ct),Pt=function(e){function t(t){return e.call(this,{actionClassName:"codicon-regex",title:xt+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionBackground:t.inputActiveOptionBackground})||this}return St(t,e),t}(Ct),Et=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Mt=function(e){function t(t,i,n,o){var r=e.call(this)||this;r._hideSoon=r._register(new X.d((function(){return r._hide()}),2e3)),r._isVisible=!1,r._editor=t,r._state=i,r._keybindingService=n,r._domNode=document.createElement("div"),r._domNode.className="findOptionsWidget",r._domNode.style.display="none",r._domNode.style.top="10px",r._domNode.setAttribute("role","presentation"),r._domNode.setAttribute("aria-hidden","true");var s=o.getTheme().getColor(le.X),a=o.getTheme().getColor(le.W);return r.caseSensitive=r._register(new Dt({appendTitle:r._keybindingLabelFor(at),isChecked:r._state.matchCase,inputActiveOptionBorder:s,inputActiveOptionBackground:a})),r._domNode.appendChild(r.caseSensitive.domNode),r._register(r.caseSensitive.onChange((function(){r._state.change({matchCase:r.caseSensitive.checked},!1)}))),r.wholeWords=r._register(new It({appendTitle:r._keybindingLabelFor(ct),isChecked:r._state.wholeWord,inputActiveOptionBorder:s,inputActiveOptionBackground:a})),r._domNode.appendChild(r.wholeWords.domNode),r._register(r.wholeWords.onChange((function(){r._state.change({wholeWord:r.wholeWords.checked},!1)}))),r.regex=r._register(new Pt({appendTitle:r._keybindingLabelFor(lt),isChecked:r._state.isRegex,inputActiveOptionBorder:s,inputActiveOptionBackground:a})),r._domNode.appendChild(r.regex.domNode),r._register(r.regex.onChange((function(){r._state.change({isRegex:r.regex.checked},!1)}))),r._editor.addOverlayWidget(r),r._register(r._state.onFindReplaceStateChange((function(e){var t=!1;e.isRegex&&(r.regex.checked=r._state.isRegex,t=!0),e.wholeWord&&(r.wholeWords.checked=r._state.wholeWord,t=!0),e.matchCase&&(r.caseSensitive.checked=r._state.matchCase,t=!0),!r._state.isRevealed&&t&&r._revealTemporarily()}))),r._register(ft.j(r._domNode,(function(e){return r._onMouseOut()}))),r._register(ft.i(r._domNode,"mouseover",(function(e){return r._onMouseOver()}))),r._applyTheme(o.getTheme()),r._register(o.onThemeChange(r._applyTheme.bind(r))),r}return Et(t,e),t.prototype._keybindingLabelFor=function(e){var t=this._keybindingService.lookupKeybinding(e);return t?" ("+t.getLabel()+")":""},t.prototype.dispose=function(){this._editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},t.prototype.getId=function(){return t.ID},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return{preference:0}},t.prototype.highlightFindOptions=function(){this._revealTemporarily()},t.prototype._revealTemporarily=function(){this._show(),this._hideSoon.schedule()},t.prototype._onMouseOut=function(){this._hideSoon.schedule()},t.prototype._onMouseOver=function(){this._hideSoon.cancel()},t.prototype._show=function(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")},t.prototype._hide=function(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")},t.prototype._applyTheme=function(e){var t={inputActiveOptionBorder:e.getColor(le.X),inputActiveOptionBackground:e.getColor(le.W)};this.caseSensitive.style(t),this.wholeWords.style(t),this.regex.style(t)},t.ID="editor.contrib.findOptionsWidget",t}(mt.a);Object(ue.e)((function(e,t){var i=e.getColor(le.P);i&&t.addRule(".monaco-editor .findOptionsWidget { background-color: "+i+"; }");var n=e.getColor(le.R);n&&t.addRule(".monaco-editor .findOptionsWidget { color: "+n+"; }");var o=e.getColor(le.ec);o&&t.addRule(".monaco-editor .findOptionsWidget { box-shadow: 0 2px 8px "+o+"; }");var r=e.getColor(le.e);r&&t.addRule(".monaco-editor .findOptionsWidget { border: 2px solid "+r+"; }")}));var Nt=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();function Rt(e,t){return 1===e||2!==e&&t}var jt=function(e){function t(){var t=e.call(this)||this;return t._onFindReplaceStateChange=t._register(new bt.a),t.onFindReplaceStateChange=t._onFindReplaceStateChange.event,t._searchString="",t._replaceString="",t._isRevealed=!1,t._isReplaceRevealed=!1,t._isRegex=!1,t._isRegexOverride=0,t._wholeWord=!1,t._wholeWordOverride=0,t._matchCase=!1,t._matchCaseOverride=0,t._preserveCase=!1,t._preserveCaseOverride=0,t._searchScope=null,t._matchesPosition=0,t._matchesCount=0,t._currentMatch=null,t}return Nt(t,e),Object.defineProperty(t.prototype,"searchString",{get:function(){return this._searchString},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"replaceString",{get:function(){return this._replaceString},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRevealed",{get:function(){return this._isRevealed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReplaceRevealed",{get:function(){return this._isReplaceRevealed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRegex",{get:function(){return Rt(this._isRegexOverride,this._isRegex)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wholeWord",{get:function(){return Rt(this._wholeWordOverride,this._wholeWord)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"matchCase",{get:function(){return Rt(this._matchCaseOverride,this._matchCase)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveCase",{get:function(){return Rt(this._preserveCaseOverride,this._preserveCase)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actualIsRegex",{get:function(){return this._isRegex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actualWholeWord",{get:function(){return this._wholeWord},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actualMatchCase",{get:function(){return this._matchCase},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actualPreserveCase",{get:function(){return this._preserveCase},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchScope",{get:function(){return this._searchScope},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"matchesPosition",{get:function(){return this._matchesPosition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"matchesCount",{get:function(){return this._matchesCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentMatch",{get:function(){return this._currentMatch},enumerable:!0,configurable:!0}),t.prototype.changeMatchInfo=function(e,t,i){var n={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1},o=!1;0===t&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,n.matchesPosition=!0,o=!0),this._matchesCount!==t&&(this._matchesCount=t,n.matchesCount=!0,o=!0),void 0!==i&&(ne.a.equalsRange(this._currentMatch,i)||(this._currentMatch=i,n.currentMatch=!0,o=!0)),o&&this._onFindReplaceStateChange.fire(n)},t.prototype.change=function(e,t,i){void 0===i&&(i=!0);var n={moveCursor:t,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1},o=!1,r=this.isRegex,s=this.wholeWord,a=this.matchCase,c=this.preserveCase;void 0!==e.searchString&&this._searchString!==e.searchString&&(this._searchString=e.searchString,n.searchString=!0,o=!0),void 0!==e.replaceString&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,n.replaceString=!0,o=!0),void 0!==e.isRevealed&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,n.isRevealed=!0,o=!0),void 0!==e.isReplaceRevealed&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,n.isReplaceRevealed=!0,o=!0),void 0!==e.isRegex&&(this._isRegex=e.isRegex),void 0!==e.wholeWord&&(this._wholeWord=e.wholeWord),void 0!==e.matchCase&&(this._matchCase=e.matchCase),void 0!==e.preserveCase&&(this._preserveCase=e.preserveCase),void 0!==e.searchScope&&(ne.a.equalsRange(this._searchScope,e.searchScope)||(this._searchScope=e.searchScope,n.searchScope=!0,o=!0)),this._isRegexOverride=void 0!==e.isRegexOverride?e.isRegexOverride:0,this._wholeWordOverride=void 0!==e.wholeWordOverride?e.wholeWordOverride:0,this._matchCaseOverride=void 0!==e.matchCaseOverride?e.matchCaseOverride:0,this._preserveCaseOverride=void 0!==e.preserveCaseOverride?e.preserveCaseOverride:0,r!==this.isRegex&&(o=!0,n.isRegex=!0),s!==this.wholeWord&&(o=!0,n.wholeWord=!0),a!==this.matchCase&&(o=!0,n.matchCase=!0),c!==this.preserveCase&&(o=!0,n.preserveCase=!0),o&&this._onFindReplaceStateChange.fire(n)},t}(ee.a),Tt=(i(1089),i(393)),At=i(397),Ft=i(28);i(1005),i(1090);function Lt(e,t){void 0===t&&(t={});var i=Vt(t);return function e(t,i,n){var o;if(2===i.type)o=document.createTextNode(i.content||"");else if(3===i.type)o=document.createElement("b");else if(4===i.type)o=document.createElement("i");else if(5===i.type&&n){var r=document.createElement("a");r.href="#",n.disposeables.add(ft.n(r,"click",(function(e){n.callback(String(i.index),e)}))),o=r}else 7===i.type?o=document.createElement("br"):1===i.type&&(o=t);o&&t!==o&&t.appendChild(o);o&&Array.isArray(i.children)&&i.children.forEach((function(t){e(o,t,n)}))}(i,function(e){var t={type:1,children:[]},i=0,n=t,o=[],r=new Bt(e);for(;!r.eos();){var s=r.next(),a="\\"===s&&0!==Wt(r.peek());if(a&&(s=r.next()),a||0===Wt(s)||s!==r.peek())if("\n"===s)2===n.type&&(n=o.pop()),n.children.push({type:7});else if(2!==n.type){var c={type:2,content:s};n.children.push(c),o.push(n),n=c}else n.content+=s;else{r.advance(),2===n.type&&(n=o.pop());var l=Wt(s);if(n.type===l||5===n.type&&6===l)n=o.pop();else{var u={type:l,children:[]};5===l&&(u.index=i,i++),n.children.push(u),o.push(n),n=u}}}2===n.type&&(n=o.pop());o.length;return t}(e),t.actionHandler),i}function Vt(e){var t=e.inline?"span":"div",i=document.createElement(t);return e.className&&(i.className=e.className),i}var Bt=function(){function e(e){this.source=e,this.index=0}return e.prototype.eos=function(){return this.index>=this.source.length},e.prototype.next=function(){var e=this.peek();return this.advance(),e},e.prototype.peek=function(){return this.source[this.index]},e.prototype.advance=function(){this.index++},e}();function Wt(e){switch(e){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;default:return 0}}var Ht=i(202),zt=i(42),Kt=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t=10),this._initialize(e),this._limit=t,this._onChange()}return e.prototype.add=function(e){this._history.delete(e),this._history.add(e),this._onChange()},e.prototype.next=function(){return this._navigator.next()},e.prototype.previous=function(){return this._navigator.previous()},e.prototype.current=function(){return this._navigator.current()},e.prototype.parent=function(){return null},e.prototype.first=function(){return this._navigator.first()},e.prototype.last=function(){return this._navigator.last()},e.prototype.has=function(e){return this._history.has(e)},e.prototype._onChange=function(){this._reduceToLimit();var e=this._elements;this._navigator=new zt.a(e,0,e.length,e.length)},e.prototype._reduceToLimit=function(){var e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))},e.prototype._initialize=function(e){this._history=new Set;for(var t=0,i=e;t<i.length;t++){var n=i[t];this._history.add(n)}},Object.defineProperty(e.prototype,"_elements",{get:function(){var e=[];return this._history.forEach((function(t){return e.push(t)})),e},enumerable:!0,configurable:!0}),e}(),Ut=i(187),qt=i(36),Gt=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Zt=ft.a,$t={inputBackground:_t.a.fromHex("#3C3C3C"),inputForeground:_t.a.fromHex("#CCCCCC"),inputValidationInfoBorder:_t.a.fromHex("#55AAFF"),inputValidationInfoBackground:_t.a.fromHex("#063B49"),inputValidationWarningBorder:_t.a.fromHex("#B89500"),inputValidationWarningBackground:_t.a.fromHex("#352A05"),inputValidationErrorBorder:_t.a.fromHex("#BE1100"),inputValidationErrorBackground:_t.a.fromHex("#5A1D1D")},Yt=function(e){function t(t,i,n){var o=e.call(this,t,i,n)||this;return o.history=new Kt(n.history,100),o}return Gt(t,e),t.prototype.addToHistory=function(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)},t.prototype.showNextValue=function(){this.history.has(this.value)||this.addToHistory();var e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),e&&(this.value=e,Tt.c(this.value))},t.prototype.showPreviousValue=function(){this.history.has(this.value)||this.addToHistory();var e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,Tt.c(this.value))},t.prototype.getCurrentValue=function(){var e=this.history.current();return e||(e=this.history.last(),this.history.next()),e},t.prototype.getPreviousValue=function(){return this.history.previous()||this.history.first()},t.prototype.getNextValue=function(){return this.history.next()||this.history.last()},t}(function(e){function t(t,i,n){var o=e.call(this)||this;o.state="idle",o.maxHeight=Number.POSITIVE_INFINITY,o._onDidChange=o._register(new bt.a),o.onDidChange=o._onDidChange.event,o._onDidHeightChange=o._register(new bt.a),o.onDidHeightChange=o._onDidHeightChange.event,o.contextViewProvider=i,o.options=n||Object.create(null),Object(vt.g)(o.options,$t,!1),o.message=null,o.placeholder=o.options.placeholder||"",o.ariaLabel=o.options.ariaLabel||"",o.inputBackground=o.options.inputBackground,o.inputForeground=o.options.inputForeground,o.inputBorder=o.options.inputBorder,o.inputValidationInfoBorder=o.options.inputValidationInfoBorder,o.inputValidationInfoBackground=o.options.inputValidationInfoBackground,o.inputValidationInfoForeground=o.options.inputValidationInfoForeground,o.inputValidationWarningBorder=o.options.inputValidationWarningBorder,o.inputValidationWarningBackground=o.options.inputValidationWarningBackground,o.inputValidationWarningForeground=o.options.inputValidationWarningForeground,o.inputValidationErrorBorder=o.options.inputValidationErrorBorder,o.inputValidationErrorBackground=o.options.inputValidationErrorBackground,o.inputValidationErrorForeground=o.options.inputValidationErrorForeground,o.options.validationOptions&&(o.validation=o.options.validationOptions.validation),o.element=ft.p(t,Zt(".monaco-inputbox.idle"));var r=o.options.flexibleHeight?"textarea":"input",s=ft.p(o.element,Zt(".wrapper"));if(o.input=ft.p(s,Zt(r+".input.empty")),o.input.setAttribute("autocorrect","off"),o.input.setAttribute("autocapitalize","off"),o.input.setAttribute("spellcheck","false"),o.onfocus(o.input,(function(){return ft.e(o.element,"synthetic-focus")})),o.onblur(o.input,(function(){return ft.L(o.element,"synthetic-focus")})),o.options.flexibleHeight){o.maxHeight="number"==typeof o.options.flexibleMaxHeight?o.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,o.mirror=ft.p(s,Zt("div.mirror")),o.mirror.innerHTML="&#160;",o.scrollableElement=new Ut.b(o.element,{vertical:1}),o.options.flexibleWidth&&(o.input.setAttribute("wrap","off"),o.mirror.style.whiteSpace="pre",o.mirror.style.wordWrap="initial"),ft.p(t,o.scrollableElement.getDomNode()),o._register(o.scrollableElement),o._register(o.scrollableElement.onScroll((function(e){return o.input.scrollTop=e.scrollTop})));var a=bt.b.filter(Object(qt.a)(document,"selectionchange"),(function(){var e;return(null===(e=document.getSelection())||void 0===e?void 0:e.anchorNode)===s}));o._register(a(o.updateScrollDimensions,o)),o._register(o.onDidHeightChange(o.updateScrollDimensions,o))}else o.input.type=o.options.type||"text",o.input.setAttribute("wrap","off");return o.ariaLabel&&o.input.setAttribute("aria-label",o.ariaLabel),o.placeholder&&o.setPlaceHolder(o.placeholder),o.oninput(o.input,(function(){return o.onValueChange()})),o.onblur(o.input,(function(){return o.onBlur()})),o.onfocus(o.input,(function(){return o.onFocus()})),o.placeholder&&be.i&&o.onclick(o.input,(function(e){ft.b.stop(e,!0),o.input.focus()})),o.ignoreGesture(o.input),setTimeout((function(){return o.updateMirror()}),0),o.options.actions&&(o.actionbar=o._register(new Ht.a(o.element)),o.actionbar.push(o.options.actions,{icon:!0,label:!1})),o.applyStyles(),o}return Gt(t,e),t.prototype.onBlur=function(){this._hideMessage()},t.prototype.onFocus=function(){this._showMessage()},t.prototype.setPlaceHolder=function(e){this.placeholder=e,this.input.setAttribute("placeholder",e),this.input.title=e},t.prototype.setAriaLabel=function(e){this.ariaLabel=e,e?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")},Object.defineProperty(t.prototype,"inputElement",{get:function(){return this.input},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.input.value},set:function(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return"number"==typeof this.cachedHeight?this.cachedHeight:ft.D(this.element)},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this.input.focus()},t.prototype.blur=function(){this.input.blur()},t.prototype.hasFocus=function(){return document.activeElement===this.input},t.prototype.select=function(e){void 0===e&&(e=null),this.input.select(),e&&this.input.setSelectionRange(e.start,e.end)},t.prototype.enable=function(){this.input.removeAttribute("disabled")},t.prototype.disable=function(){this.blur(),this.input.disabled=!0,this._hideMessage()},Object.defineProperty(t.prototype,"width",{get:function(){return ft.E(this.input)},set:function(e){if(this.options.flexibleHeight&&this.options.flexibleWidth){var t=0;if(this.mirror)t=(parseFloat(this.mirror.style.paddingLeft||"")||0)+(parseFloat(this.mirror.style.paddingRight||"")||0);this.input.style.width=e-t+"px"}else this.input.style.width=e+"px";this.mirror&&(this.mirror.style.width=e+"px")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingRight",{set:function(e){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width="calc(100% - "+e+"px)":this.input.style.paddingRight=e+"px",this.mirror&&(this.mirror.style.paddingRight=e+"px")},enumerable:!0,configurable:!0}),t.prototype.updateScrollDimensions=function(){if("number"==typeof this.cachedContentHeight&&"number"==typeof this.cachedHeight&&this.scrollableElement){var e=this.cachedContentHeight,t=this.cachedHeight,i=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:i})}},t.prototype.showMessage=function(e,t){this.message=e,ft.L(this.element,"idle"),ft.L(this.element,"info"),ft.L(this.element,"warning"),ft.L(this.element,"error"),ft.e(this.element,this.classForType(e.type));var i,n=this.stylesForType(this.message.type);this.element.style.border=n.border?"1px solid "+n.border:"",i=3===e.type?Q.a("alertErrorMessage","Error: {0}",e.content):2===e.type?Q.a("alertWarningMessage","Warning: {0}",e.content):Q.a("alertInfoMessage","Info: {0}",e.content),Tt.a(i),(this.hasFocus()||t)&&this._showMessage()},t.prototype.hideMessage=function(){this.message=null,ft.L(this.element,"info"),ft.L(this.element,"warning"),ft.L(this.element,"error"),ft.e(this.element,"idle"),this._hideMessage(),this.applyStyles()},t.prototype.validate=function(){var e=null;return this.validation&&((e=this.validation(this.value))?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),!e},t.prototype.stylesForType=function(e){switch(e){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}},t.prototype.classForType=function(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}},t.prototype._showMessage=function(){var e=this;if(this.contextViewProvider&&this.message){var t,i=function(){return t.style.width=ft.E(e.element)+"px"};this.contextViewProvider.showContextView({getAnchor:function(){return e.element},anchorAlignment:1,render:function(n){if(!e.message)return null;t=ft.p(n,Zt(".monaco-inputbox-container")),i();var o={inline:!0,className:"monaco-inputbox-message"},r=e.message.formatContent?Lt(e.message.content,o):function(e,t){void 0===t&&(t={});var i=Vt(t);return i.textContent=e,i}(e.message.content,o);ft.e(r,e.classForType(e.message.type));var s=e.stylesForType(e.message.type);return r.style.backgroundColor=s.background?s.background.toString():"",r.style.color=s.foreground?s.foreground.toString():null,r.style.border=s.border?"1px solid "+s.border:"",ft.p(t,r),null},onHide:function(){e.state="closed"},layout:i}),this.state="open"}},t.prototype._hideMessage=function(){this.contextViewProvider&&("open"===this.state&&this.contextViewProvider.hideContextView(),this.state="idle")},t.prototype.onValueChange=function(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),ft.U(this.input,"empty",!this.value),"open"===this.state&&this.contextViewProvider&&this.contextViewProvider.layout()},t.prototype.updateMirror=function(){if(this.mirror){var e=this.value,t=10===e.charCodeAt(e.length-1)?" ":"";e+t?this.mirror.textContent=e+t:this.mirror.innerHTML="&#160;",this.layout()}},t.prototype.style=function(e){this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()},t.prototype.applyStyles=function(){var e=this.inputBackground?this.inputBackground.toString():"",t=this.inputForeground?this.inputForeground.toString():"",i=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.input.style.backgroundColor=e,this.input.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i},t.prototype.layout=function(){if(this.mirror){var e=this.cachedContentHeight;this.cachedContentHeight=ft.D(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}},t.prototype.insertAtCursor=function(e){var t=this.inputElement,i=t.selectionStart,n=t.selectionEnd,o=t.value;null!==i&&null!==n&&(this.value=o.substr(0,i)+e+o.substr(n),t.setSelectionRange(i+1,i+1),this.layout())},t.prototype.dispose=function(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),e.prototype.dispose.call(this)},t}(mt.a)),Jt=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Qt=Q.a("defaultLabel","input"),Xt=function(e){function t(t,i,n,o){var r=e.call(this)||this;r._showOptionButtons=n,r.fixFocusOnOptionClickEnabled=!0,r._onDidOptionChange=r._register(new bt.a),r.onDidOptionChange=r._onDidOptionChange.event,r._onKeyDown=r._register(new bt.a),r.onKeyDown=r._onKeyDown.event,r._onMouseDown=r._register(new bt.a),r.onMouseDown=r._onMouseDown.event,r._onInput=r._register(new bt.a),r._onKeyUp=r._register(new bt.a),r._onCaseSensitiveKeyDown=r._register(new bt.a),r.onCaseSensitiveKeyDown=r._onCaseSensitiveKeyDown.event,r._onRegexKeyDown=r._register(new bt.a),r.onRegexKeyDown=r._onRegexKeyDown.event,r._lastHighlightFindOptions=0,r.contextViewProvider=i,r.placeholder=o.placeholder||"",r.validation=o.validation,r.label=o.label||Qt,r.inputActiveOptionBorder=o.inputActiveOptionBorder,r.inputActiveOptionBackground=o.inputActiveOptionBackground,r.inputBackground=o.inputBackground,r.inputForeground=o.inputForeground,r.inputBorder=o.inputBorder,r.inputValidationInfoBorder=o.inputValidationInfoBorder,r.inputValidationInfoBackground=o.inputValidationInfoBackground,r.inputValidationInfoForeground=o.inputValidationInfoForeground,r.inputValidationWarningBorder=o.inputValidationWarningBorder,r.inputValidationWarningBackground=o.inputValidationWarningBackground,r.inputValidationWarningForeground=o.inputValidationWarningForeground,r.inputValidationErrorBorder=o.inputValidationErrorBorder,r.inputValidationErrorBackground=o.inputValidationErrorBackground,r.inputValidationErrorForeground=o.inputValidationErrorForeground;var s=o.appendCaseSensitiveLabel||"",a=o.appendWholeWordsLabel||"",c=o.appendRegexLabel||"",l=o.history||[],u=!!o.flexibleHeight,d=!!o.flexibleWidth,h=o.flexibleMaxHeight;r.domNode=document.createElement("div"),ft.e(r.domNode,"monaco-findInput"),r.inputBox=r._register(new Yt(r.domNode,r.contextViewProvider,{placeholder:r.placeholder||"",ariaLabel:r.label||"",validationOptions:{validation:r.validation},inputBackground:r.inputBackground,inputForeground:r.inputForeground,inputBorder:r.inputBorder,inputValidationInfoBackground:r.inputValidationInfoBackground,inputValidationInfoForeground:r.inputValidationInfoForeground,inputValidationInfoBorder:r.inputValidationInfoBorder,inputValidationWarningBackground:r.inputValidationWarningBackground,inputValidationWarningForeground:r.inputValidationWarningForeground,inputValidationWarningBorder:r.inputValidationWarningBorder,inputValidationErrorBackground:r.inputValidationErrorBackground,inputValidationErrorForeground:r.inputValidationErrorForeground,inputValidationErrorBorder:r.inputValidationErrorBorder,history:l,flexibleHeight:u,flexibleWidth:d,flexibleMaxHeight:h})),r.regex=r._register(new Pt({appendTitle:c,isChecked:!1,inputActiveOptionBorder:r.inputActiveOptionBorder,inputActiveOptionBackground:r.inputActiveOptionBackground})),r._register(r.regex.onChange((function(e){r._onDidOptionChange.fire(e),!e&&r.fixFocusOnOptionClickEnabled&&r.inputBox.focus(),r.validate()}))),r._register(r.regex.onKeyDown((function(e){r._onRegexKeyDown.fire(e)}))),r.wholeWords=r._register(new It({appendTitle:a,isChecked:!1,inputActiveOptionBorder:r.inputActiveOptionBorder,inputActiveOptionBackground:r.inputActiveOptionBackground})),r._register(r.wholeWords.onChange((function(e){r._onDidOptionChange.fire(e),!e&&r.fixFocusOnOptionClickEnabled&&r.inputBox.focus(),r.validate()}))),r.caseSensitive=r._register(new Dt({appendTitle:s,isChecked:!1,inputActiveOptionBorder:r.inputActiveOptionBorder,inputActiveOptionBackground:r.inputActiveOptionBackground})),r._register(r.caseSensitive.onChange((function(e){r._onDidOptionChange.fire(e),!e&&r.fixFocusOnOptionClickEnabled&&r.inputBox.focus(),r.validate()}))),r._register(r.caseSensitive.onKeyDown((function(e){r._onCaseSensitiveKeyDown.fire(e)}))),r._showOptionButtons&&(r.inputBox.paddingRight=r.caseSensitive.width()+r.wholeWords.width()+r.regex.width());var p=[r.caseSensitive.domNode,r.wholeWords.domNode,r.regex.domNode];r.onkeydown(r.domNode,(function(e){if(e.equals(15)||e.equals(17)||e.equals(9)){var t=p.indexOf(document.activeElement);if(t>=0){var i=-1;e.equals(17)?i=(t+1)%p.length:e.equals(15)&&(i=0===t?p.length-1:t-1),e.equals(9)?p[t].blur():i>=0&&p[i].focus(),ft.b.stop(e,!0)}}}));var g=document.createElement("div");return g.className="controls",g.style.display=r._showOptionButtons?"block":"none",g.appendChild(r.caseSensitive.domNode),g.appendChild(r.wholeWords.domNode),g.appendChild(r.regex.domNode),r.domNode.appendChild(g),t&&t.appendChild(r.domNode),r.onkeydown(r.inputBox.inputElement,(function(e){return r._onKeyDown.fire(e)})),r.onkeyup(r.inputBox.inputElement,(function(e){return r._onKeyUp.fire(e)})),r.oninput(r.inputBox.inputElement,(function(e){return r._onInput.fire()})),r.onmousedown(r.inputBox.inputElement,(function(e){return r._onMouseDown.fire(e)})),r}return Jt(t,e),t.prototype.enable=function(){ft.L(this.domNode,"disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()},t.prototype.disable=function(){ft.e(this.domNode,"disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()},t.prototype.setFocusInputOnOptionClick=function(e){this.fixFocusOnOptionClickEnabled=e},t.prototype.setEnabled=function(e){e?this.enable():this.disable()},t.prototype.getValue=function(){return this.inputBox.value},t.prototype.setValue=function(e){this.inputBox.value!==e&&(this.inputBox.value=e)},t.prototype.style=function(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()},t.prototype.applyStyles=function(){if(this.domNode){var e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(e),this.wholeWords.style(e),this.caseSensitive.style(e);var t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}},t.prototype.select=function(){this.inputBox.select()},t.prototype.focus=function(){this.inputBox.focus()},t.prototype.getCaseSensitive=function(){return this.caseSensitive.checked},t.prototype.setCaseSensitive=function(e){this.caseSensitive.checked=e},t.prototype.getWholeWords=function(){return this.wholeWords.checked},t.prototype.setWholeWords=function(e){this.wholeWords.checked=e},t.prototype.getRegex=function(){return this.regex.checked},t.prototype.setRegex=function(e){this.regex.checked=e,this.validate()},t.prototype.focusOnCaseSensitive=function(){this.caseSensitive.focus()},t.prototype.highlightFindOptions=function(){ft.L(this.domNode,"highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,ft.e(this.domNode,"highlight-"+this._lastHighlightFindOptions)},t.prototype.validate=function(){this.inputBox.validate()},t.prototype.clearMessage=function(){this.inputBox.hideMessage()},t}(mt.a),ei=i(279),ti=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ii=Q.a("defaultLabel","input"),ni=Q.a("label.preserveCaseCheckbox","Preserve Case"),oi=function(e){function t(t){return e.call(this,{actionClassName:"codicon-preserve-case",title:ni+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionBackground:t.inputActiveOptionBackground})||this}return ti(t,e),t}(Ct),ri=function(e){function t(t,i,n,o){var r=e.call(this)||this;r._showOptionButtons=n,r.fixFocusOnOptionClickEnabled=!0,r.cachedOptionsWidth=0,r._onDidOptionChange=r._register(new bt.a),r.onDidOptionChange=r._onDidOptionChange.event,r._onKeyDown=r._register(new bt.a),r.onKeyDown=r._onKeyDown.event,r._onMouseDown=r._register(new bt.a),r._onInput=r._register(new bt.a),r._onKeyUp=r._register(new bt.a),r._onPreserveCaseKeyDown=r._register(new bt.a),r.onPreserveCaseKeyDown=r._onPreserveCaseKeyDown.event,r.contextViewProvider=i,r.placeholder=o.placeholder||"",r.validation=o.validation,r.label=o.label||ii,r.inputActiveOptionBorder=o.inputActiveOptionBorder,r.inputActiveOptionBackground=o.inputActiveOptionBackground,r.inputBackground=o.inputBackground,r.inputForeground=o.inputForeground,r.inputBorder=o.inputBorder,r.inputValidationInfoBorder=o.inputValidationInfoBorder,r.inputValidationInfoBackground=o.inputValidationInfoBackground,r.inputValidationInfoForeground=o.inputValidationInfoForeground,r.inputValidationWarningBorder=o.inputValidationWarningBorder,r.inputValidationWarningBackground=o.inputValidationWarningBackground,r.inputValidationWarningForeground=o.inputValidationWarningForeground,r.inputValidationErrorBorder=o.inputValidationErrorBorder,r.inputValidationErrorBackground=o.inputValidationErrorBackground,r.inputValidationErrorForeground=o.inputValidationErrorForeground;var s=o.history||[],a=!!o.flexibleHeight,c=!!o.flexibleWidth,l=o.flexibleMaxHeight;r.domNode=document.createElement("div"),ft.e(r.domNode,"monaco-findInput"),r.inputBox=r._register(new Yt(r.domNode,r.contextViewProvider,{ariaLabel:r.label||"",placeholder:r.placeholder||"",validationOptions:{validation:r.validation},inputBackground:r.inputBackground,inputForeground:r.inputForeground,inputBorder:r.inputBorder,inputValidationInfoBackground:r.inputValidationInfoBackground,inputValidationInfoForeground:r.inputValidationInfoForeground,inputValidationInfoBorder:r.inputValidationInfoBorder,inputValidationWarningBackground:r.inputValidationWarningBackground,inputValidationWarningForeground:r.inputValidationWarningForeground,inputValidationWarningBorder:r.inputValidationWarningBorder,inputValidationErrorBackground:r.inputValidationErrorBackground,inputValidationErrorForeground:r.inputValidationErrorForeground,inputValidationErrorBorder:r.inputValidationErrorBorder,history:s,flexibleHeight:a,flexibleWidth:c,flexibleMaxHeight:l})),r.preserveCase=r._register(new oi({appendTitle:"",isChecked:!1,inputActiveOptionBorder:r.inputActiveOptionBorder,inputActiveOptionBackground:r.inputActiveOptionBackground})),r._register(r.preserveCase.onChange((function(e){r._onDidOptionChange.fire(e),!e&&r.fixFocusOnOptionClickEnabled&&r.inputBox.focus(),r.validate()}))),r._register(r.preserveCase.onKeyDown((function(e){r._onPreserveCaseKeyDown.fire(e)}))),r._showOptionButtons?r.cachedOptionsWidth=r.preserveCase.width():r.cachedOptionsWidth=0;var u=[r.preserveCase.domNode];r.onkeydown(r.domNode,(function(e){if(e.equals(15)||e.equals(17)||e.equals(9)){var t=u.indexOf(document.activeElement);if(t>=0){var i=-1;e.equals(17)?i=(t+1)%u.length:e.equals(15)&&(i=0===t?u.length-1:t-1),e.equals(9)?u[t].blur():i>=0&&u[i].focus(),ft.b.stop(e,!0)}}}));var d=document.createElement("div");return d.className="controls",d.style.display=r._showOptionButtons?"block":"none",d.appendChild(r.preserveCase.domNode),r.domNode.appendChild(d),t&&t.appendChild(r.domNode),r.onkeydown(r.inputBox.inputElement,(function(e){return r._onKeyDown.fire(e)})),r.onkeyup(r.inputBox.inputElement,(function(e){return r._onKeyUp.fire(e)})),r.oninput(r.inputBox.inputElement,(function(e){return r._onInput.fire()})),r.onmousedown(r.inputBox.inputElement,(function(e){return r._onMouseDown.fire(e)})),r}return ti(t,e),t.prototype.enable=function(){ft.L(this.domNode,"disabled"),this.inputBox.enable(),this.preserveCase.enable()},t.prototype.disable=function(){ft.e(this.domNode,"disabled"),this.inputBox.disable(),this.preserveCase.disable()},t.prototype.setEnabled=function(e){e?this.enable():this.disable()},t.prototype.style=function(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()},t.prototype.applyStyles=function(){if(this.domNode){var e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(e);var t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}},t.prototype.select=function(){this.inputBox.select()},t.prototype.focus=function(){this.inputBox.focus()},t.prototype.getPreserveCase=function(){return this.preserveCase.checked},t.prototype.setPreserveCase=function(e){this.preserveCase.checked=e},t.prototype.focusOnPreserve=function(){this.preserveCase.focus()},t.prototype.validate=function(){this.inputBox&&this.inputBox.validate()},Object.defineProperty(t.prototype,"width",{set:function(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=e,this.domNode.style.width=e+"px"},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t}(mt.a),si=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ai=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},ci=function(e,t){return function(i,n){t(i,n,e)}};function li(e,t){return e.getContext(document.activeElement).getValue(t)}function ui(e,t){var i=function(e,t){return e.createScoped(t.target)}(e,t);return function(e,t,i){new Ue.d(i,t).bindTo(e)}(i,t,"historyNavigationWidget"),{scopedContextKeyService:i,historyNavigationEnablement:new Ue.d("historyNavigationEnabled",!0).bindTo(i)}}var di=function(e){function t(t,i,n,o,r){void 0===r&&(r=!1);var s=e.call(this,t,i,r,n)||this;return s._register(ui(o,{target:s.inputBox.element,historyNavigator:s.inputBox}).scopedContextKeyService),s}return si(t,e),t=ai([ci(3,Ue.c)],t)}(Xt),hi=function(e){function t(t,i,n,o,r){void 0===r&&(r=!1);var s=e.call(this,t,i,r,n)||this;return s._register(ui(o,{target:s.inputBox.element,historyNavigator:s.inputBox}).scopedContextKeyService),s}return si(t,e),t=ai([ci(3,Ue.c)],t)}(ri);ei.a.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:Ue.a.and(Ue.a.has("historyNavigationWidget"),Ue.a.equals("historyNavigationEnabled",!0)),primary:16,secondary:[528],handler:function(e,t){var i=li(e.get(Ue.c),"historyNavigationWidget");i&&i.historyNavigator.showPreviousValue()}}),ei.a.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:Ue.a.and(Ue.a.has("historyNavigationWidget"),Ue.a.equals("historyNavigationEnabled",!0)),primary:18,secondary:[530],handler:function(e,t){var i=li(e.get(Ue.c),"historyNavigationWidget");i&&i.historyNavigator.showNextValue()}});var pi=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),gi=Q.a("label.find","Find"),fi=Q.a("placeholder.find","Find"),mi=Q.a("label.previousMatchButton","Previous match"),_i=Q.a("label.nextMatchButton","Next match"),bi=Q.a("label.toggleSelectionFind","Find in selection"),vi=Q.a("label.closeButton","Close"),yi=Q.a("label.replace","Replace"),wi=Q.a("placeholder.replace","Replace"),Ci=Q.a("label.replaceButton","Replace"),Si=Q.a("label.replaceAllButton","Replace All"),Oi=Q.a("label.toggleReplaceButton","Toggle Replace mode"),ki=Q.a("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",19999),xi=Q.a("label.matchesLocation","{0} of {1}"),Di=Q.a("label.noResults","No Results"),Ii=69,Pi=ve.e?256:2048,Ei=function(e){this.afterLineNumber=e,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"};function Mi(e,t,i){var n=!!t.match(/\n/);i&&n&&i.selectionStart>0&&e.stopPropagation()}function Ni(e,t,i){var n=!!t.match(/\n/);i&&n&&i.selectionEnd<i.value.length&&e.stopPropagation()}var Ri=function(e){function t(t,i,n,o,r,s,a,c,l){var u=e.call(this)||this;return u._cachedHeight=null,u._codeEditor=t,u._controller=i,u._state=n,u._contextViewProvider=o,u._keybindingService=r,u._contextKeyService=s,u._storageService=c,u._notificationService=l,u._ctrlEnterReplaceAllWarningPrompted=!!c.getBoolean("ctrlEnterReplaceAll.windows.donotask",0),u._isVisible=!1,u._isReplaceVisible=!1,u._ignoreChangeEvent=!1,u._updateHistoryDelayer=new X.a(500),u._register(Object(ee.h)((function(){return u._updateHistoryDelayer.cancel()}))),u._register(u._state.onFindReplaceStateChange((function(e){return u._onStateChanged(e)}))),u._buildDomNode(),u._updateButtons(),u._tryUpdateWidgetWidth(),u._findInput.inputBox.layout(),u._register(u._codeEditor.onDidChangeConfiguration((function(e){if(e.hasChanged(65)&&(u._codeEditor.getOption(65)&&u._state.change({isReplaceRevealed:!1},!1),u._updateButtons()),e.hasChanged(103)&&u._tryUpdateWidgetWidth(),e.hasChanged(2)&&u.updateAccessibilitySupport(),e.hasChanged(27)){var t=u._codeEditor.getOption(27).addExtraSpaceOnTop;t&&!u._viewZone&&(u._viewZone=new Ei(0),u._showViewZone()),!t&&u._viewZone&&u._removeViewZone()}}))),u.updateAccessibilitySupport(),u._register(u._codeEditor.onDidChangeCursorSelection((function(){u._isVisible&&u._updateToggleSelectionFindButton()}))),u._register(u._codeEditor.onDidFocusEditorWidget((function(){if(u._isVisible){var e=u._controller.getGlobalBufferTerm();e&&e!==u._state.searchString&&(u._state.change({searchString:e},!0),u._findInput.select())}}))),u._findInputFocused=Ge.bindTo(s),u._findFocusTracker=u._register(ft.V(u._findInput.inputBox.inputElement)),u._register(u._findFocusTracker.onDidFocus((function(){u._findInputFocused.set(!0),u._updateSearchScope()}))),u._register(u._findFocusTracker.onDidBlur((function(){u._findInputFocused.set(!1)}))),u._replaceInputFocused=Ze.bindTo(s),u._replaceFocusTracker=u._register(ft.V(u._replaceInput.inputBox.inputElement)),u._register(u._replaceFocusTracker.onDidFocus((function(){u._replaceInputFocused.set(!0),u._updateSearchScope()}))),u._register(u._replaceFocusTracker.onDidBlur((function(){u._replaceInputFocused.set(!1)}))),u._codeEditor.addOverlayWidget(u),u._codeEditor.getOption(27).addExtraSpaceOnTop&&(u._viewZone=new Ei(0)),u._applyTheme(a.getTheme()),u._register(a.onThemeChange(u._applyTheme.bind(u))),u._register(u._codeEditor.onDidChangeModel((function(){u._isVisible&&(u._viewZoneId=void 0)}))),u._register(u._codeEditor.onDidScrollChange((function(e){e.scrollTopChanged?u._layoutViewZone():setTimeout((function(){u._layoutViewZone()}),0)}))),u}return pi(t,e),t.prototype.getId=function(){return t.ID},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return this._isVisible?{preference:0}:null},t.prototype._onStateChanged=function(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?this._codeEditor.getOption(65)||this._isReplaceVisible||(this._isReplaceVisible=!0,this._replaceInput.width=ft.E(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){var t=this._state.searchString.length>0&&0===this._state.matchesCount;ft.U(this._domNode,"no-results",t),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory()},t.prototype._delayedUpdateHistory=function(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this))},t.prototype._updateHistory=function(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()},t.prototype._updateMatchesCount=function(){var e;if(this._matchesCount.style.minWidth=Ii+"px",this._state.matchesCount>=19999?this._matchesCount.title=ki:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){var t=String(this._state.matchesCount);this._state.matchesCount>=19999&&(t+="+");var i=String(this._state.matchesPosition);"0"===i&&(i="?"),e=Ne.r(xi,i,t)}else e=Di;this._matchesCount.appendChild(document.createTextNode(e)),Object(Tt.a)(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString),!0),Ii=Math.max(Ii,this._matchesCount.clientWidth)},t.prototype._getAriaLabel=function(e,t,i){return e===Di?""===i?Q.a("ariaSearchNoResultEmpty","{0} found",e):Q.a("ariaSearchNoResult","{0} found for {1}",e,i):t?Q.a("ariaSearchNoResultWithLineNum","{0} found for {1} at {2}",e,i,t.startLineNumber+":"+t.startColumn):Q.a("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for {1}",e,i)},t.prototype._updateToggleSelectionFindButton=function(){var e=this._codeEditor.getSelection(),t=!!e&&(e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn),i=this._toggleSelectionFind.checked;this._isVisible&&(i||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()},t.prototype._updateButtons=function(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);var e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t),this._nextBtn.setEnabled(this._isVisible&&e&&t),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),ft.U(this._domNode,"replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("codicon-chevron-right",!this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("codicon-chevron-down",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);var i=!this._codeEditor.getOption(65);this._toggleReplaceBtn.setEnabled(this._isVisible&&i)},t.prototype._reveal=function(){var e=this;if(!this._isVisible){this._isVisible=!0;var t=this._codeEditor.getSelection();switch(this._codeEditor.getOption(27).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":var i=!!t&&t.startLineNumber!==t.endLineNumber;this._toggleSelectionFind.checked=i}this._tryUpdateWidgetWidth(),this._updateButtons(),setTimeout((function(){ft.e(e._domNode,"visible"),e._domNode.setAttribute("aria-hidden","false")}),0),setTimeout((function(){e._findInput.validate()}),200),this._codeEditor.layoutOverlayWidget(this);var n=!0;if(this._codeEditor.getOption(27).seedSearchStringFromSelection&&t){var o=this._codeEditor.getDomNode();if(o){var r=ft.A(o),s=this._codeEditor.getScrolledVisiblePosition(t.getStartPosition()),a=r.left+(s?s.left:0),c=s?s.top:0;if(this._viewZone&&c<this._viewZone.heightInPx){t.endLineNumber>t.startLineNumber&&(n=!1);var l=ft.C(this._domNode).left;a>l&&(n=!1);var u=this._codeEditor.getScrolledVisiblePosition(t.getEndPosition());r.left+(u?u.left:0)>l&&(n=!1)}}}this._showViewZone(n)}},t.prototype._hide=function(e){this._isVisible&&(this._isVisible=!1,this._updateButtons(),ft.L(this._domNode,"visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())},t.prototype._layoutViewZone=function(){var e=this;if(this._codeEditor.getOption(27).addExtraSpaceOnTop){if(this._isVisible){var t=this._viewZone;void 0===this._viewZoneId&&t&&this._codeEditor.changeViewZones((function(i){t.heightInPx=e._getHeight(),e._viewZoneId=i.addZone(t),e._codeEditor.setScrollTop(e._codeEditor.getScrollTop()+t.heightInPx)}))}}else this._removeViewZone()},t.prototype._showViewZone=function(e){var t=this;if((void 0===e&&(e=!0),this._isVisible)&&this._codeEditor.getOption(27).addExtraSpaceOnTop){void 0===this._viewZone&&(this._viewZone=new Ei(0));var i=this._viewZone;this._codeEditor.changeViewZones((function(n){if(void 0!==t._viewZoneId){var o=t._getHeight();if(o===i.heightInPx)return;var r=o-i.heightInPx;return i.heightInPx=o,n.layoutZone(t._viewZoneId),void(e&&t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()+r))}r=t._getHeight();i.heightInPx=r,t._viewZoneId=n.addZone(i),e&&t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()+r)}))}},t.prototype._removeViewZone=function(){var e=this;this._codeEditor.changeViewZones((function(t){void 0!==e._viewZoneId&&(t.removeZone(e._viewZoneId),e._viewZoneId=void 0,e._viewZone&&(e._codeEditor.setScrollTop(e._codeEditor.getScrollTop()-e._viewZone.heightInPx),e._viewZone=void 0))}))},t.prototype._applyTheme=function(e){var t={inputActiveOptionBorder:e.getColor(le.X),inputActiveOptionBackground:e.getColor(le.W),inputBackground:e.getColor(le.Y),inputForeground:e.getColor(le.ab),inputBorder:e.getColor(le.Z),inputValidationInfoBackground:e.getColor(le.eb),inputValidationInfoForeground:e.getColor(le.gb),inputValidationInfoBorder:e.getColor(le.fb),inputValidationWarningBackground:e.getColor(le.hb),inputValidationWarningForeground:e.getColor(le.jb),inputValidationWarningBorder:e.getColor(le.ib),inputValidationErrorBackground:e.getColor(le.bb),inputValidationErrorForeground:e.getColor(le.db),inputValidationErrorBorder:e.getColor(le.cb)};this._findInput.style(t),this._replaceInput.style(t),this._toggleSelectionFind.style(t)},t.prototype._tryUpdateWidgetWidth=function(){if(this._isVisible&&ft.J(this._domNode)){var e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0)ft.e(this._domNode,"hiddenEditor");else{ft.F(this._domNode,"hiddenEditor")&&ft.L(this._domNode,"hiddenEditor");var t=e.width,i=e.minimapWidth,n=!1,o=!1,r=!1;if(this._resized)if(ft.E(this._domNode)>419)return this._domNode.style.maxWidth=t-28-i-15+"px",void(this._replaceInput.width=ft.E(this._findInput.domNode));if(447+i>=t&&(o=!0),447+i-Ii>=t&&(r=!0),447+i-Ii>=t+50&&(n=!0),ft.U(this._domNode,"collapsed-find-widget",n),ft.U(this._domNode,"narrow-find-widget",r),ft.U(this._domNode,"reduced-find-widget",o),r||n||(this._domNode.style.maxWidth=t-28-i-15+"px"),this._resized){this._findInput.inputBox.layout();var s=this._findInput.inputBox.element.clientWidth;s>0&&(this._replaceInput.width=s)}else this._isReplaceVisible&&(this._replaceInput.width=ft.E(this._findInput.domNode))}}},t.prototype._getHeight=function(){var e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4},t.prototype._tryUpdateHeight=function(){var e=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==e)&&(this._cachedHeight=e,this._domNode.style.height=e+"px",!0)},t.prototype.focusFindInput=function(){this._findInput.select(),this._findInput.focus()},t.prototype.focusReplaceInput=function(){this._replaceInput.select(),this._replaceInput.focus()},t.prototype.highlightFindOptions=function(){this._findInput.highlightFindOptions()},t.prototype._updateSearchScope=function(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){var e=this._codeEditor.getSelection();1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(e.endLineNumber-1)));var t=this._state.currentMatch;e.startLineNumber!==e.endLineNumber&&(ne.a.equalsRange(e,t)||this._state.change({searchScope:e},!0))}},t.prototype._onFindInputMouseDown=function(e){e.middleButton&&e.stopPropagation()},t.prototype._onFindInputKeyDown=function(e){return e.equals(3|Pi)?(this._findInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?Mi(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):e.equals(18)?Ni(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0},t.prototype._onReplaceInputKeyDown=function(e){return e.equals(3|Pi)?(ve.h&&ve.f&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(Q.a("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store("ctrlEnterReplaceAll.windows.donotask",!0,0)),this._replaceInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(1026)?(this._findInput.focus(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?Mi(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):e.equals(18)?Ni(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0},t.prototype.getHorizontalSashTop=function(e){return 0},t.prototype.getHorizontalSashLeft=function(e){return 0},t.prototype.getHorizontalSashWidth=function(e){return 500},t.prototype._keybindingLabelFor=function(e){var t=this._keybindingService.lookupKeybinding(e);return t?" ("+t.getLabel()+")":""},t.prototype._buildDomNode=function(){var e=this;this._findInput=this._register(new di(null,this._contextViewProvider,{width:221,label:gi,placeholder:fi,appendCaseSensitiveLabel:this._keybindingLabelFor(at),appendWholeWordsLabel:this._keybindingLabelFor(ct),appendRegexLabel:this._keybindingLabelFor(lt),validation:function(t){if(0===t.length||!e._findInput.getRegex())return null;try{return new RegExp(t),null}catch(e){return{content:e.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown((function(t){return e._onFindInputKeyDown(t)}))),this._register(this._findInput.inputBox.onDidChange((function(){e._ignoreChangeEvent||e._state.change({searchString:e._findInput.getValue()},!0)}))),this._register(this._findInput.onDidOptionChange((function(){e._state.change({isRegex:e._findInput.getRegex(),wholeWord:e._findInput.getWholeWords(),matchCase:e._findInput.getCaseSensitive()},!0)}))),this._register(this._findInput.onCaseSensitiveKeyDown((function(t){t.equals(1026)&&e._isReplaceVisible&&(e._replaceInput.focus(),t.preventDefault())}))),this._register(this._findInput.onRegexKeyDown((function(t){t.equals(2)&&e._isReplaceVisible&&(e._replaceInput.focusOnPreserve(),t.preventDefault())}))),this._register(this._findInput.inputBox.onDidHeightChange((function(t){e._tryUpdateHeight()&&e._showViewZone()}))),ve.d&&this._register(this._findInput.onMouseDown((function(t){return e._onFindInputMouseDown(t)}))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new ji({label:mi+this._keybindingLabelFor(it),className:"codicon codicon-arrow-up",onTrigger:function(){e._codeEditor.getAction(it).run().then(void 0,Ft.e)}})),this._nextBtn=this._register(new ji({label:_i+this._keybindingLabelFor(tt),className:"codicon codicon-arrow-down",onTrigger:function(){e._codeEditor.getAction(tt).run().then(void 0,Ft.e)}}));var t=document.createElement("div");t.className="find-part",t.appendChild(this._findInput.domNode);var i=document.createElement("div");i.className="find-actions",t.appendChild(i),i.appendChild(this._matchesCount),i.appendChild(this._prevBtn.domNode),i.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new Ct({actionClassName:"codicon codicon-selection",title:bi+this._keybindingLabelFor(ut),isChecked:!1})),this._register(this._toggleSelectionFind.onChange((function(){if(e._toggleSelectionFind.checked){if(e._codeEditor.hasModel()){var t=e._codeEditor.getSelection();1===t.endColumn&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,e._codeEditor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()||e._state.change({searchScope:t},!0)}}else e._state.change({searchScope:null},!0)}))),i.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new ji({label:vi+this._keybindingLabelFor(st),className:"codicon codicon-close",onTrigger:function(){e._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:function(t){t.equals(2)&&e._isReplaceVisible&&(e._replaceBtn.isEnabled()?e._replaceBtn.focus():e._codeEditor.focus(),t.preventDefault())}})),i.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new hi(null,void 0,{label:yi,placeholder:wi,history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown((function(t){return e._onReplaceInputKeyDown(t)}))),this._register(this._replaceInput.inputBox.onDidChange((function(){e._state.change({replaceString:e._replaceInput.inputBox.value},!1)}))),this._register(this._replaceInput.inputBox.onDidHeightChange((function(t){e._isReplaceVisible&&e._tryUpdateHeight()&&e._showViewZone()}))),this._register(this._replaceInput.onDidOptionChange((function(){e._state.change({preserveCase:e._replaceInput.getPreserveCase()},!0)}))),this._register(this._replaceInput.onPreserveCaseKeyDown((function(t){t.equals(2)&&(e._prevBtn.isEnabled()?e._prevBtn.focus():e._nextBtn.isEnabled()?e._nextBtn.focus():e._toggleSelectionFind.enabled?e._toggleSelectionFind.focus():e._closeBtn.isEnabled()&&e._closeBtn.focus(),t.preventDefault())}))),this._replaceBtn=this._register(new ji({label:Ci+this._keybindingLabelFor(dt),className:"codicon codicon-replace",onTrigger:function(){e._controller.replace()},onKeyDown:function(t){t.equals(1026)&&(e._closeBtn.focus(),t.preventDefault())}})),this._replaceAllBtn=this._register(new ji({label:Si+this._keybindingLabelFor(ht),className:"codicon codicon-replace-all",onTrigger:function(){e._controller.replaceAll()}}));var n=document.createElement("div");n.className="replace-part",n.appendChild(this._replaceInput.domNode);var o=document.createElement("div");o.className="replace-actions",n.appendChild(o),o.appendChild(this._replaceBtn.domNode),o.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new ji({label:Oi,className:"codicon toggle left",onTrigger:function(){e._state.change({isReplaceRevealed:!e._isReplaceVisible},!1),e._isReplaceVisible&&(e._replaceInput.width=ft.E(e._findInput.domNode),e._replaceInput.inputBox.layout()),e._showViewZone()}})),this._toggleReplaceBtn.toggleClass("codicon-chevron-down",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("codicon-chevron-right",!this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width="419px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(t),this._domNode.appendChild(n),this._resizeSash=new At.a(this._domNode,this,{orientation:0}),this._resized=!1;var r=419;this._register(this._resizeSash.onDidStart((function(){r=ft.E(e._domNode)}))),this._register(this._resizeSash.onDidChange((function(t){e._resized=!0;var i=r+t.startX-t.currentX;i<419||(i>(parseFloat(ft.x(e._domNode).maxWidth)||0)||(e._domNode.style.width=i+"px",e._isReplaceVisible&&(e._replaceInput.width=ft.E(e._findInput.domNode)),e._findInput.inputBox.layout(),e._tryUpdateHeight()))}))),this._register(this._resizeSash.onDidReset((function(){var t=ft.E(e._domNode);if(!(t<419)){var i=419;if(!e._resized||419===t){var n=e._codeEditor.getLayoutInfo();i=n.width-28-n.minimapWidth-15,e._resized=!0}e._domNode.style.width=i+"px",e._isReplaceVisible&&(e._replaceInput.width=ft.E(e._findInput.domNode)),e._findInput.inputBox.layout()}})))},t.prototype.updateAccessibilitySupport=function(){var e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==e)},t.ID="editor.contrib.findWidget",t}(mt.a),ji=function(e){function t(t){var i=e.call(this)||this;return i._opts=t,i._domNode=document.createElement("div"),i._domNode.title=i._opts.label,i._domNode.tabIndex=0,i._domNode.className="button "+i._opts.className,i._domNode.setAttribute("role","button"),i._domNode.setAttribute("aria-label",i._opts.label),i.onclick(i._domNode,(function(e){i._opts.onTrigger(),e.preventDefault()})),i.onkeydown(i._domNode,(function(e){if(e.equals(10)||e.equals(3))return i._opts.onTrigger(),void e.preventDefault();i._opts.onKeyDown&&i._opts.onKeyDown(e)})),i}return pi(t,e),Object.defineProperty(t.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),t.prototype.isEnabled=function(){return this._domNode.tabIndex>=0},t.prototype.focus=function(){this._domNode.focus()},t.prototype.setEnabled=function(e){ft.U(this._domNode,"disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1},t.prototype.setExpanded=function(e){this._domNode.setAttribute("aria-expanded",String(!!e))},t.prototype.toggleClass=function(e,t){ft.U(this._domNode,e,t)},t}(mt.a);Object(ue.e)((function(e,t){var i=function(e,i){i&&t.addRule(".monaco-editor "+e+" { background-color: "+i+"; }")};i(".findMatch",e.getColor(le.t)),i(".currentFindMatch",e.getColor(le.r)),i(".findScope",e.getColor(le.v)),i(".find-widget",e.getColor(le.P));var n=e.getColor(le.ec);n&&t.addRule(".monaco-editor .find-widget { box-shadow: 0 2px 8px "+n+"; }");var o=e.getColor(le.u);o&&t.addRule(".monaco-editor .findMatch { border: 1px "+("hc"===e.type?"dotted":"solid")+" "+o+"; box-sizing: border-box; }");var r=e.getColor(le.s);r&&t.addRule(".monaco-editor .currentFindMatch { border: 2px solid "+r+"; padding: 1px; box-sizing: border-box; }");var s=e.getColor(le.w);s&&t.addRule(".monaco-editor .findScope { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+s+"; }");var a=e.getColor(le.e);a&&t.addRule(".monaco-editor .find-widget { border: 1px solid "+a+"; }");var c=e.getColor(le.R);c&&t.addRule(".monaco-editor .find-widget { color: "+c+"; }");var l=e.getColor(le.T);l&&t.addRule(".monaco-editor .find-widget.no-results .matchesCount { color: "+l+"; }");var u=e.getColor(le.S);if(u)t.addRule(".monaco-editor .find-widget .monaco-sash { background-color: "+u+"; width: 3px !important; margin-left: -4px;}");else{var d=e.getColor(le.Q);d&&t.addRule(".monaco-editor .find-widget .monaco-sash { background-color: "+d+"; width: 3px !important; margin-left: -4px;}")}var h=e.getColor(le.U);h&&t.addRule(".monaco-workbench .monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: "+h+"; }")}));var Ti=i(401),Ai=i(118),Fi=i(21),Li=i(108),Vi=i(334),Bi=i(93),Wi=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Hi=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},zi=function(e,t){return function(i,n){t(i,n,e)}};function Ki(e){if(!e.hasModel())return null;var t=e.getSelection();if(t.startLineNumber===t.endLineNumber)if(t.isEmpty()){var i=e.getModel().getWordAtPosition(t.getStartPosition());if(i)return i.word}else if(e.getModel().getValueLengthInRange(t)<524288)return e.getModel().getValueInRange(t);return null}var Ui=function(e){function t(t,i,n,o){var r=e.call(this)||this;return r._editor=t,r._findWidgetVisible=qe.bindTo(i),r._contextKeyService=i,r._storageService=n,r._clipboardService=o,r._updateHistoryDelayer=new X.a(500),r._state=r._register(new jt),r.loadQueryState(),r._register(r._state.onFindReplaceStateChange((function(e){return r._onStateChanged(e)}))),r._model=null,r._register(r._editor.onDidChangeModel((function(){var e=r._editor.getModel()&&r._state.isRevealed;r.disposeModel(),r._state.change({searchScope:null,matchCase:r._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:r._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:r._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:r._storageService.getBoolean("editor.preserveCase",1,!1)},!1),e&&r._start({forceRevealReplace:!1,seedSearchStringFromSelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1})}))),r}return Wi(t,e),t.get=function(e){return e.getContribution(t.ID)},t.prototype.dispose=function(){this.disposeModel(),e.prototype.dispose.call(this)},t.prototype.disposeModel=function(){this._model&&(this._model.dispose(),this._model=null)},t.prototype._onStateChanged=function(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)},t.prototype.saveQueryState=function(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1)},t.prototype.loadQueryState=function(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)},t.prototype.isFindInputFocused=function(){return!!Ge.getValue(this._contextKeyService)},t.prototype.getState=function(){return this._state},t.prototype.closeFindWidget=function(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()},t.prototype.toggleCaseSensitive=function(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()},t.prototype.toggleWholeWords=function(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()},t.prototype.toggleRegex=function(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()},t.prototype.toggleSearchScope=function(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){var e=this._editor.getSelection();1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._editor.getModel().getLineMaxColumn(e.endLineNumber-1))),e.isEmpty()||this._state.change({searchScope:e},!0)}},t.prototype.setSearchString=function(e){this._state.isRegex&&(e=Ne.p(e)),this._state.change({searchString:e},!1)},t.prototype.highlightFindOptions=function(){},t.prototype._start=function(e){if(this.disposeModel(),this._editor.hasModel()){var t,i={isRevealed:!0};if(e.seedSearchStringFromSelection)(t=Ki(this._editor))&&(this._state.isRegex?i.searchString=Ne.p(t):i.searchString=t);if(!i.searchString&&e.seedSearchStringFromGlobalClipboard)(t=this.getGlobalBufferTerm())&&(i.searchString=t);if(e.forceRevealReplace?i.isReplaceRevealed=!0:this._findWidgetVisible.get()||(i.isReplaceRevealed=!1),e.updateSearchScope){var n=this._editor.getSelection();n.isEmpty()||(i.searchScope=n)}this._state.change(i,!1),this._model||(this._model=new gt(this._editor,this._state))}},t.prototype.start=function(e){this._start(e)},t.prototype.moveToNextMatch=function(){return!!this._model&&(this._model.moveToNextMatch(),!0)},t.prototype.moveToPrevMatch=function(){return!!this._model&&(this._model.moveToPrevMatch(),!0)},t.prototype.replace=function(){return!!this._model&&(this._model.replace(),!0)},t.prototype.replaceAll=function(){return!!this._model&&(this._model.replaceAll(),!0)},t.prototype.selectAllMatches=function(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)},t.prototype.getGlobalBufferTerm=function(){return this._editor.getOption(27).globalFindClipboard&&this._clipboardService&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""},t.prototype.setGlobalBufferTerm=function(e){this._editor.getOption(27).globalFindClipboard&&this._clipboardService&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)},t.ID="editor.contrib.findController",t=Hi([zi(1,Ue.c),zi(2,Vi.a),zi(3,Ti.a)],t)}(ee.a),qi=function(e){function t(t,i,n,o,r,s,a,c){var l=e.call(this,t,n,a,c)||this;return l._contextViewService=i,l._keybindingService=o,l._themeService=r,l._notificationService=s,l._widget=null,l._findOptionsWidget=null,l}return Wi(t,e),t.prototype._start=function(t){this._widget||this._createFindWidget();var i=this._editor.getSelection(),n=!1;switch(this._editor.getOption(27).autoFindInSelection){case"always":n=!0;break;case"never":n=!1;break;case"multiline":n=!!i&&i.startLineNumber!==i.endLineNumber}t.updateSearchScope=n,e.prototype._start.call(this,t),2===t.shouldFocus?this._widget.focusReplaceInput():1===t.shouldFocus&&this._widget.focusFindInput()},t.prototype.highlightFindOptions=function(){this._widget||this._createFindWidget(),this._state.isRevealed?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()},t.prototype._createFindWidget=function(){this._widget=this._register(new Ri(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new Mt(this._editor,this._state,this._keybindingService,this._themeService))},t=Hi([zi(1,Ai.b),zi(2,Ue.c),zi(3,Li.a),zi(4,ue.c),zi(5,Bi.a),zi(6,Vi.a),zi(7,Object(Fi.d)(Ti.a))],t)}(Ui),Gi=function(e){function t(){return e.call(this,{id:Xe,label:Q.a("startFindAction","Find"),alias:"Find",precondition:void 0,kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:15,group:"3_find",title:Q.a({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})||this}return Wi(t,e),t.prototype.run=function(e,t){var i=Ui.get(t);i&&i.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getOption(27).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:t.getOption(27).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1})},t}(te.b),Zi=function(e){function t(){return e.call(this,{id:et,label:Q.a("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})||this}return Wi(t,e),t.prototype.run=function(e,t){var i=Ui.get(t);i&&(i.start({forceRevealReplace:!1,seedSearchStringFromSelection:!0,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1}),i.setGlobalBufferTerm(i.getState().searchString))},t}(te.b),$i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wi(t,e),t.prototype.run=function(e,t){var i=Ui.get(t);i&&!this._run(i)&&(i.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===i.getState().searchString.length&&t.getOption(27).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1}),this._run(i))},t}(te.b),Yi=function(e){function t(){return e.call(this,{id:tt,label:Q.a("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:re.a.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100}})||this}return Wi(t,e),t.prototype._run=function(e){return e.moveToNextMatch()},t}($i),Ji=function(e){function t(){return e.call(this,{id:tt,label:Q.a("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:Ue.a.and(re.a.focus,Ge),primary:3,weight:100}})||this}return Wi(t,e),t.prototype._run=function(e){return e.moveToNextMatch()},t}($i),Qi=function(e){function t(){return e.call(this,{id:it,label:Q.a("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:re.a.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100}})||this}return Wi(t,e),t.prototype._run=function(e){return e.moveToPrevMatch()},t}($i),Xi=function(e){function t(){return e.call(this,{id:it,label:Q.a("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:Ue.a.and(re.a.focus,Ge),primary:1027,weight:100}})||this}return Wi(t,e),t.prototype._run=function(e){return e.moveToPrevMatch()},t}($i),en=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wi(t,e),t.prototype.run=function(e,t){var i=Ui.get(t);if(i){var n=Ki(t);n&&i.setSearchString(n),this._run(i)||(i.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getOption(27).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1}),this._run(i))}},t}(te.b),tn=function(e){function t(){return e.call(this,{id:nt,label:Q.a("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:re.a.focus,primary:2109,weight:100}})||this}return Wi(t,e),t.prototype._run=function(e){return e.moveToNextMatch()},t}(en),nn=function(e){function t(){return e.call(this,{id:ot,label:Q.a("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:re.a.focus,primary:3133,weight:100}})||this}return Wi(t,e),t.prototype._run=function(e){return e.moveToPrevMatch()},t}(en),on=function(e){function t(){return e.call(this,{id:rt,label:Q.a("startReplace","Replace"),alias:"Replace",precondition:void 0,kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:15,group:"3_find",title:Q.a({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})||this}return Wi(t,e),t.prototype.run=function(e,t){if(t.hasModel()&&!t.getOption(65)){var i=Ui.get(t),n=t.getSelection(),o=i.isFindInputFocused(),r=!n.isEmpty()&&n.startLineNumber===n.endLineNumber&&t.getOption(27).seedSearchStringFromSelection&&!o,s=o||r?2:1;i&&i.start({forceRevealReplace:!0,seedSearchStringFromSelection:r,seedSearchStringFromGlobalClipboard:t.getOption(27).seedSearchStringFromSelection,shouldFocus:s,shouldAnimate:!0,updateSearchScope:!1})}},t}(te.b);Object(te.h)(Ui.ID,qi),Object(te.f)(Gi),Object(te.f)(Zi),Object(te.f)(Yi),Object(te.f)(Ji),Object(te.f)(Qi),Object(te.f)(Xi),Object(te.f)(tn),Object(te.f)(nn),Object(te.f)(on);var rn=te.c.bindToContribution(Ui.get);Object(te.g)(new rn({id:st,precondition:qe,handler:function(e){return e.closeFindWidget()},kbOpts:{weight:105,kbExpr:re.a.focus,primary:9,secondary:[1033]}})),Object(te.g)(new rn({id:at,precondition:void 0,handler:function(e){return e.toggleCaseSensitive()},kbOpts:{weight:105,kbExpr:re.a.focus,primary:$e.primary,mac:$e.mac,win:$e.win,linux:$e.linux}})),Object(te.g)(new rn({id:ct,precondition:void 0,handler:function(e){return e.toggleWholeWords()},kbOpts:{weight:105,kbExpr:re.a.focus,primary:Ye.primary,mac:Ye.mac,win:Ye.win,linux:Ye.linux}})),Object(te.g)(new rn({id:lt,precondition:void 0,handler:function(e){return e.toggleRegex()},kbOpts:{weight:105,kbExpr:re.a.focus,primary:Je.primary,mac:Je.mac,win:Je.win,linux:Je.linux}})),Object(te.g)(new rn({id:ut,precondition:void 0,handler:function(e){return e.toggleSearchScope()},kbOpts:{weight:105,kbExpr:re.a.focus,primary:Qe.primary,mac:Qe.mac,win:Qe.win,linux:Qe.linux}})),Object(te.g)(new rn({id:dt,precondition:qe,handler:function(e){return e.replace()},kbOpts:{weight:105,kbExpr:re.a.focus,primary:3094}})),Object(te.g)(new rn({id:dt,precondition:qe,handler:function(e){return e.replace()},kbOpts:{weight:105,kbExpr:Ue.a.and(re.a.focus,Ze),primary:3}})),Object(te.g)(new rn({id:ht,precondition:qe,handler:function(e){return e.replaceAll()},kbOpts:{weight:105,kbExpr:re.a.focus,primary:2563}})),Object(te.g)(new rn({id:ht,precondition:qe,handler:function(e){return e.replaceAll()},kbOpts:{weight:105,kbExpr:Ue.a.and(re.a.focus,Ze),primary:void 0,mac:{primary:2051}}})),Object(te.g)(new rn({id:pt,precondition:qe,handler:function(e){return e.selectAllMatches()},kbOpts:{weight:105,kbExpr:re.a.focus,primary:515}}));i(1091);var sn=i(94),an=i(395),cn=i(163),ln=i(29),un=function(){function e(e,t){void 0===e&&(e=""),void 0===t&&(t=!1),this._value=e,this._isTrusted=t}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTrusted",{get:function(){return this._isTrusted},enumerable:!0,configurable:!0}),e.prototype.appendText=function(e){return this._value+=e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&").replace("\n","\n\n"),this},e.prototype.appendMarkdown=function(e){return this._value+=e,this},e.prototype.appendCodeblock=function(e,t){return this._value+="\n```",this._value+=e,this._value+="\n",this._value+=t,this._value+="\n```\n",this},e}();function dn(e){return hn(e)?!e.value:!Array.isArray(e)||e.every(dn)}function hn(e){return e instanceof un||!(!e||"object"!=typeof e)&&("string"==typeof e.value&&("boolean"==typeof e.isTrusted||void 0===e.isTrusted))}function pn(e,t){return e===t||!(!e||!t)&&(e.value===t.value&&e.isTrusted===t.isTrusted)}function gn(e){return e?e.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1"):e}var fn=i(16),mn=i(49),_n=i(158);function bn(e,t,i,n){return Promise.resolve(i.provideColorPresentations(e,t,n))}Object(te.i)("_executeDocumentColorProvider",(function(e,t){var i=t.resource;if(!(i instanceof mn.a))throw Object(Ft.b)();var n=e.get(_n.a).getModel(i);if(!n)throw Object(Ft.b)();var o=[],r=fn.c.ordered(n).reverse().map((function(e){return Promise.resolve(e.provideDocumentColors(n,cn.a.None)).then((function(e){if(Array.isArray(e))for(var t=0,i=e;t<i.length;t++){var n=i[t];o.push({range:n.range,color:[n.color.red,n.color.green,n.color.blue,n.color.alpha]})}}))}));return Promise.all(r).then((function(){return o}))})),Object(te.i)("_executeColorPresentationProvider",(function(e,t){var i=t.resource,n=t.color,o=t.range;if(!(i instanceof mn.a&&Array.isArray(n)&&4===n.length&&ne.a.isIRange(o)))throw Object(Ft.b)();var r=n[0],s=n[1],a=n[2],c=n[3],l=e.get(_n.a).getModel(i);if(!l)throw Object(Ft.b)();var u={range:o,color:{red:r,green:s,blue:a,alpha:c}},d=[],h=fn.c.ordered(l).reverse().map((function(e){return Promise.resolve(e.provideColorPresentations(l,u,cn.a.None)).then((function(e){Array.isArray(e)&&d.push.apply(d,e)}))}));return Promise.all(h).then((function(){return d}))}));var vn=i(451),yn=i(44),wn=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Cn=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Sn=function(e,t){return function(i,n){t(i,n,e)}},On=function(e){function t(t,i,n){var o=e.call(this)||this;return o._editor=t,o._codeEditorService=i,o._configurationService=n,o._localToDispose=o._register(new ee.b),o._decorationsIds=[],o._colorDatas=new Map,o._colorDecoratorIds=[],o._decorationsTypes=new Set,o._register(t.onDidChangeModel((function(e){o._isEnabled=o.isEnabled(),o.onModelChanged()}))),o._register(t.onDidChangeModelLanguage((function(e){return o.onModelChanged()}))),o._register(fn.c.onDidChange((function(e){return o.onModelChanged()}))),o._register(t.onDidChangeConfiguration((function(e){var t=o._isEnabled;o._isEnabled=o.isEnabled(),t!==o._isEnabled&&(o._isEnabled?o.onModelChanged():o.removeAllDecorations())}))),o._timeoutTimer=null,o._computePromise=null,o._isEnabled=o.isEnabled(),o.onModelChanged(),o}return wn(t,e),t.prototype.isEnabled=function(){var e=this._editor.getModel();if(!e)return!1;var t=e.getLanguageIdentifier(),i=this._configurationService.getValue(t.language);if(i){var n=i.colorDecorators;if(n&&void 0!==n.enable&&!n.enable)return n.enable}return this._editor.getOption(12)},t.get=function(e){return e.getContribution(this.ID)},t.prototype.dispose=function(){this.stop(),this.removeAllDecorations(),e.prototype.dispose.call(this)},t.prototype.onModelChanged=function(){var e=this;if(this.stop(),this._isEnabled){var i=this._editor.getModel();i&&fn.c.has(i)&&(this._localToDispose.add(this._editor.onDidChangeModelContent((function(i){e._timeoutTimer||(e._timeoutTimer=new X.e,e._timeoutTimer.cancelAndSet((function(){e._timeoutTimer=null,e.beginCompute()}),t.RECOMPUTE_TIME))}))),this.beginCompute())}},t.prototype.beginCompute=function(){var e=this;this._computePromise=Object(X.f)((function(t){var i=e._editor.getModel();return i?function(e,t){var i=[],n=fn.c.ordered(e).reverse().map((function(n){return Promise.resolve(n.provideDocumentColors(e,t)).then((function(e){if(Array.isArray(e))for(var t=0,o=e;t<o.length;t++){var r=o[t];i.push({colorInfo:r,provider:n})}}))}));return Promise.all(n).then((function(){return i}))}(i,t):Promise.resolve([])})),this._computePromise.then((function(t){e.updateDecorations(t),e.updateColorDecorators(t),e._computePromise=null}),Ft.e)},t.prototype.stop=function(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()},t.prototype.updateDecorations=function(e){var t=this,i=e.map((function(e){return{range:{startLineNumber:e.colorInfo.range.startLineNumber,startColumn:e.colorInfo.range.startColumn,endLineNumber:e.colorInfo.range.endLineNumber,endColumn:e.colorInfo.range.endColumn},options:ae.a.EMPTY}}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,i),this._colorDatas=new Map,this._decorationsIds.forEach((function(i,n){return t._colorDatas.set(i,e[n])}))},t.prototype.updateColorDecorators=function(e){for(var t=this,i=[],n={},o=0;o<e.length&&i.length<500;o++){var r=e[o].colorInfo.color,s=r.red,a=r.green,c=r.blue,l=r.alpha,u=new _t.c(Math.round(255*s),Math.round(255*a),Math.round(255*c),l),d=Object(vn.a)(u).toString(16),h="rgba("+u.r+", "+u.g+", "+u.b+", "+u.a+")",p="colorBox-"+d;this._decorationsTypes.has(p)||n[p]||this._codeEditorService.registerDecorationType(p,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:h},dark:{before:{border:"solid 0.1em #eee"}}}),n[p]=!0,i.push({range:{startLineNumber:e[o].colorInfo.range.startLineNumber,startColumn:e[o].colorInfo.range.startColumn,endLineNumber:e[o].colorInfo.range.endLineNumber,endColumn:e[o].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(p,!0)})}this._decorationsTypes.forEach((function(e){n[e]||t._codeEditorService.removeDecorationType(e)})),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,i)},t.prototype.removeAllDecorations=function(){var e=this;this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach((function(t){e._codeEditorService.removeDecorationType(t)}))},t.prototype.getColorData=function(e){var t=this,i=this._editor.getModel();if(!i)return null;var n=i.getDecorationsInRange(ne.a.fromPositions(e,e)).filter((function(e){return t._colorDatas.has(e.id)}));return 0===n.length?null:this._colorDatas.get(n[0].id)},t.ID="editor.contrib.colorDetector",t.RECOMPUTE_TIME=1e3,t=Cn([Sn(1,we.a),Sn(2,yn.a)],t)}(ee.a);Object(te.h)(On.ID,On);var kn=function(){function e(e,t,i){this.presentationIndex=i,this._onColorFlushed=new bt.a,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new bt.a,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new bt.a,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}return Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"presentation",{get:function(){return this.colorPresentations[this.presentationIndex]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorPresentations",{get:function(){return this._colorPresentations},set:function(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)},enumerable:!0,configurable:!0}),e.prototype.selectNextColorPresentation=function(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)},e.prototype.guessColorPresentation=function(e,t){for(var i=0;i<this.colorPresentations.length;i++)if(t===this.colorPresentations[i].label){this.presentationIndex=i,this._onDidChangePresentation.fire(this.presentation);break}},e.prototype.flushColor=function(){this._onColorFlushed.fire(this._color)},e}(),xn=(i(1092),i(159)),Dn=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),In=ft.a,Pn=function(e){function t(t,i,n){var o=e.call(this)||this;o.model=i,o.domNode=In(".colorpicker-header"),ft.p(t,o.domNode),o.pickedColorNode=ft.p(o.domNode,In(".picked-color"));var r=ft.p(o.domNode,In(".original-color"));return r.style.backgroundColor=_t.a.Format.CSS.format(o.model.originalColor)||"",o.backgroundColor=n.getTheme().getColor(le.A)||_t.a.white,o._register(Object(ue.e)((function(e,t){o.backgroundColor=e.getColor(le.A)||_t.a.white}))),o._register(ft.i(o.pickedColorNode,ft.c.CLICK,(function(){return o.model.selectNextColorPresentation()}))),o._register(ft.i(r,ft.c.CLICK,(function(){o.model.color=o.model.originalColor,o.model.flushColor()}))),o._register(i.onDidChangeColor(o.onDidChangeColor,o)),o._register(i.onDidChangePresentation(o.onDidChangePresentation,o)),o.pickedColorNode.style.backgroundColor=_t.a.Format.CSS.format(i.color)||"",ft.U(o.pickedColorNode,"light",i.color.rgba.a<.5?o.backgroundColor.isLighter():i.color.isLighter()),o}return Dn(t,e),t.prototype.onDidChangeColor=function(e){this.pickedColorNode.style.backgroundColor=_t.a.Format.CSS.format(e)||"",ft.U(this.pickedColorNode,"light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()},t.prototype.onDidChangePresentation=function(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:""},t}(ee.a),En=function(e){function t(t,i,n){var o=e.call(this)||this;return o.model=i,o.pixelRatio=n,o.domNode=In(".colorpicker-body"),ft.p(t,o.domNode),o.saturationBox=new Mn(o.domNode,o.model,o.pixelRatio),o._register(o.saturationBox),o._register(o.saturationBox.onDidChange(o.onDidSaturationValueChange,o)),o._register(o.saturationBox.onColorFlushed(o.flushColor,o)),o.opacityStrip=new Rn(o.domNode,o.model),o._register(o.opacityStrip),o._register(o.opacityStrip.onDidChange(o.onDidOpacityChange,o)),o._register(o.opacityStrip.onColorFlushed(o.flushColor,o)),o.hueStrip=new jn(o.domNode,o.model),o._register(o.hueStrip),o._register(o.hueStrip.onDidChange(o.onDidHueChange,o)),o._register(o.hueStrip.onColorFlushed(o.flushColor,o)),o}return Dn(t,e),t.prototype.flushColor=function(){this.model.flushColor()},t.prototype.onDidSaturationValueChange=function(e){var t=e.s,i=e.v,n=this.model.color.hsva;this.model.color=new _t.a(new _t.b(n.h,t,i,n.a))},t.prototype.onDidOpacityChange=function(e){var t=this.model.color.hsva;this.model.color=new _t.a(new _t.b(t.h,t.s,t.v,e))},t.prototype.onDidHueChange=function(e){var t=this.model.color.hsva,i=360*(1-e);this.model.color=new _t.a(new _t.b(360===i?0:i,t.s,t.v,t.a))},t.prototype.layout=function(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()},t}(ee.a),Mn=function(e){function t(t,i,n){var o=e.call(this)||this;return o.model=i,o.pixelRatio=n,o._onDidChange=new bt.a,o.onDidChange=o._onDidChange.event,o._onColorFlushed=new bt.a,o.onColorFlushed=o._onColorFlushed.event,o.domNode=In(".saturation-wrap"),ft.p(t,o.domNode),o.canvas=document.createElement("canvas"),o.canvas.className="saturation-box",ft.p(o.domNode,o.canvas),o.selection=In(".saturation-selection"),ft.p(o.domNode,o.selection),o.layout(),o._register(ft.g(o.domNode,(function(e){return o.onMouseDown(e)}))),o._register(o.model.onDidChangeColor(o.onDidChangeColor,o)),o.monitor=null,o}return Dn(t,e),t.prototype.onMouseDown=function(e){var t=this;this.monitor=this._register(new xn.a);var i=ft.A(this.domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(xn.b,(function(e){return t.onDidChangePosition(e.posx-i.left,e.posy-i.top)}),(function(){return null}));var n=ft.h(document,(function(){t._onColorFlushed.fire(),n.dispose(),t.monitor&&(t.monitor.stopMonitoring(!0),t.monitor=null)}),!0)},t.prototype.onDidChangePosition=function(e,t){var i=Math.max(0,Math.min(1,e/this.width)),n=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(i,n),this._onDidChange.fire({s:i,v:n})},t.prototype.layout=function(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();var e=this.model.color.hsva;this.paintSelection(e.s,e.v)},t.prototype.paint=function(){var e=this.model.color.hsva,t=new _t.a(new _t.b(e.h,1,1,1)),i=this.canvas.getContext("2d"),n=i.createLinearGradient(0,0,this.canvas.width,0);n.addColorStop(0,"rgba(255, 255, 255, 1)"),n.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),n.addColorStop(1,"rgba(255, 255, 255, 0)");var o=i.createLinearGradient(0,0,0,this.canvas.height);o.addColorStop(0,"rgba(0, 0, 0, 0)"),o.addColorStop(1,"rgba(0, 0, 0, 1)"),i.rect(0,0,this.canvas.width,this.canvas.height),i.fillStyle=_t.a.Format.CSS.format(t),i.fill(),i.fillStyle=n,i.fill(),i.fillStyle=o,i.fill()},t.prototype.paintSelection=function(e,t){this.selection.style.left=e*this.width+"px",this.selection.style.top=this.height-t*this.height+"px"},t.prototype.onDidChangeColor=function(){this.monitor&&this.monitor.isMonitoring()||this.paint()},t}(ee.a),Nn=function(e){function t(t,i){var n=e.call(this)||this;return n.model=i,n._onDidChange=new bt.a,n.onDidChange=n._onDidChange.event,n._onColorFlushed=new bt.a,n.onColorFlushed=n._onColorFlushed.event,n.domNode=ft.p(t,In(".strip")),n.overlay=ft.p(n.domNode,In(".overlay")),n.slider=ft.p(n.domNode,In(".slider")),n.slider.style.top="0px",n._register(ft.g(n.domNode,(function(e){return n.onMouseDown(e)}))),n.layout(),n}return Dn(t,e),t.prototype.layout=function(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;var e=this.getValue(this.model.color);this.updateSliderPosition(e)},t.prototype.onMouseDown=function(e){var t=this,i=this._register(new xn.a),n=ft.A(this.domNode);ft.e(this.domNode,"grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),i.startMonitoring(xn.b,(function(e){return t.onDidChangeTop(e.posy-n.top)}),(function(){return null}));var o=ft.h(document,(function(){t._onColorFlushed.fire(),o.dispose(),i.stopMonitoring(!0),ft.L(t.domNode,"grabbing")}),!0)},t.prototype.onDidChangeTop=function(e){var t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)},t.prototype.updateSliderPosition=function(e){this.slider.style.top=(1-e)*this.height+"px"},t}(ee.a),Rn=function(e){function t(t,i){var n=e.call(this,t,i)||this;return ft.e(n.domNode,"opacity-strip"),n._register(i.onDidChangeColor(n.onDidChangeColor,n)),n.onDidChangeColor(n.model.color),n}return Dn(t,e),t.prototype.onDidChangeColor=function(e){var t=e.rgba,i=t.r,n=t.g,o=t.b,r=new _t.a(new _t.c(i,n,o,1)),s=new _t.a(new _t.c(i,n,o,0));this.overlay.style.background="linear-gradient(to bottom, "+r+" 0%, "+s+" 100%)"},t.prototype.getValue=function(e){return e.hsva.a},t}(Nn),jn=function(e){function t(t,i){var n=e.call(this,t,i)||this;return ft.e(n.domNode,"hue-strip"),n}return Dn(t,e),t.prototype.getValue=function(e){return 1-e.hsva.h/360},t}(Nn),Tn=function(e){function t(t,i,n,o){var r=e.call(this)||this;r.model=i,r.pixelRatio=n,r._register(Object(be.o)((function(){return r.layout()})));var s=In(".colorpicker-widget");t.appendChild(s);var a=new Pn(s,r.model,o);return r.body=new En(s,r.model,r.pixelRatio),r._register(a),r._register(r.body),r}return Dn(t,e),t.prototype.layout=function(){this.body.layout()},t}(mt.a);function An(e,t,i){var n=fn.m.ordered(e).map((function(n){return Promise.resolve(n.provideHover(e,t,i)).then((function(e){return e&&(i=void 0!==(t=e).range,n=void 0!==t.contents&&t.contents&&t.contents.length>0,i&&n)?e:void 0;var t,i,n}),(function(e){Object(Ft.f)(e)}))}));return Promise.all(n).then(ln.d)}Object(te.e)("_executeHoverProvider",(function(e,t){return An(e,t,cn.a.None)}));var Fn,Ln=function(){function e(e,t,i,n,o){var r=this;this._computer=e,this._state=0,this._hoverTime=o,this._firstWaitScheduler=new X.d((function(){return r._triggerAsyncComputation()}),0),this._secondWaitScheduler=new X.d((function(){return r._triggerSyncComputation()}),0),this._loadingMessageScheduler=new X.d((function(){return r._showLoadingMessage()}),0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=t,this._errorCallback=i,this._progressCallback=n}return e.prototype.setHoverTime=function(e){this._hoverTime=e},e.prototype._firstWaitTime=function(){return this._hoverTime/2},e.prototype._secondWaitTime=function(){return this._hoverTime/2},e.prototype._loadingMessageTime=function(){return 3*this._hoverTime},e.prototype._triggerAsyncComputation=function(){var e=this;this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=Object(X.f)((function(t){return e._computer.computeAsync(t)})),this._asyncComputationPromise.then((function(t){e._asyncComputationPromiseDone=!0,e._withAsyncResult(t)}),(function(t){return e._onError(t)}))):this._asyncComputationPromiseDone=!0},e.prototype._triggerSyncComputation=function(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))},e.prototype._showLoadingMessage=function(){3===this._state&&this._onProgress(this._computer.getResultWithLoadingMessage())},e.prototype._withAsyncResult=function(e){e&&this._computer.onResult(e,!1),3===this._state&&(this._state=0,this._onComplete(this._computer.getResult()))},e.prototype._onComplete=function(e){this._completeCallback&&this._completeCallback(e)},e.prototype._onError=function(e){this._errorCallback?this._errorCallback(e):Object(Ft.e)(e)},e.prototype._onProgress=function(e){this._progressCallback&&this._progressCallback(e)},e.prototype.start=function(e){if(0===e)0===this._state&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}},e.prototype.cancel=function(){this._loadingMessageScheduler.cancel(),1===this._state&&this._firstWaitScheduler.cancel(),2===this._state&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),3===this._state&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0},e}(),Vn=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Bn=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<i;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n},Wn=function(e){function t(t,i){var n=e.call(this)||this;return n.allowEditorOverflow=!0,n._id=t,n._editor=i,n._isVisible=!1,n._stoleFocus=!1,n._containerDomNode=document.createElement("div"),n._containerDomNode.className="monaco-editor-hover hidden",n._containerDomNode.tabIndex=0,n._domNode=document.createElement("div"),n._domNode.className="monaco-editor-hover-content",n.scrollbar=new Ut.a(n._domNode,{}),n._register(n.scrollbar),n._containerDomNode.appendChild(n.scrollbar.getDomNode()),n.onkeydown(n._containerDomNode,(function(e){e.equals(9)&&n.hide()})),n._register(n._editor.onDidChangeConfiguration((function(e){e.hasChanged(32)&&n.updateFont()}))),n._editor.onDidLayoutChange((function(e){return n.layout()})),n.layout(),n._editor.addContentWidget(n),n._showAtPosition=null,n._showAtRange=null,n._stoleFocus=!1,n}return Vn(t,e),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this._isVisible},set:function(e){this._isVisible=e,Object(ft.U)(this._containerDomNode,"hidden",!this._isVisible)},enumerable:!0,configurable:!0}),t.prototype.getId=function(){return this._id},t.prototype.getDomNode=function(){return this._containerDomNode},t.prototype.showAt=function(e,t,i){this._showAtPosition=e,this._showAtRange=t,this.isVisible=!0,this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=i,i&&this._containerDomNode.focus()},t.prototype.hide=function(){this.isVisible&&(this.isVisible=!1,this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus())},t.prototype.getPosition=function(){return this.isVisible?{position:this._showAtPosition,range:this._showAtRange,preference:[1,2]}:null},t.prototype.dispose=function(){this._editor.removeContentWidget(this),e.prototype.dispose.call(this)},t.prototype.updateFont=function(){var e=this;Array.prototype.slice.call(this._domNode.getElementsByClassName("code")).forEach((function(t){return e._editor.applyFontInfo(t)}))},t.prototype.updateContents=function(e){this._domNode.textContent="",this._domNode.appendChild(e),this.updateFont(),this._editor.layoutContentWidget(this),this.onContentsChange()},t.prototype.onContentsChange=function(){this.scrollbar.scanDomNode()},t.prototype.layout=function(){var e=Math.max(this._editor.getLayoutInfo().height/4,250),t=this._editor.getOption(32),i=t.fontSize,n=t.lineHeight;this._domNode.style.fontSize=i+"px",this._domNode.style.lineHeight=n+"px",this._domNode.style.maxHeight=e+"px",this._domNode.style.maxWidth=Math.max(.66*this._editor.getLayoutInfo().width,500)+"px"},t}(mt.a),Hn=function(e){function t(t,i){var n=e.call(this)||this;return n._id=t,n._editor=i,n._isVisible=!1,n._domNode=document.createElement("div"),n._domNode.className="monaco-editor-hover hidden",n._domNode.setAttribute("aria-hidden","true"),n._domNode.setAttribute("role","presentation"),n._showAtLineNumber=-1,n._register(n._editor.onDidChangeConfiguration((function(e){e.hasChanged(32)&&n.updateFont()}))),n._editor.addOverlayWidget(n),n}return Vn(t,e),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this._isVisible},set:function(e){this._isVisible=e,Object(ft.U)(this._domNode,"hidden",!this._isVisible)},enumerable:!0,configurable:!0}),t.prototype.getId=function(){return this._id},t.prototype.getDomNode=function(){return this._domNode},t.prototype.showAt=function(e){this._showAtLineNumber=e,this.isVisible||(this.isVisible=!0);var t=this._editor.getLayoutInfo(),i=this._editor.getTopForLineNumber(this._showAtLineNumber),n=this._editor.getScrollTop(),o=this._editor.getOption(47),r=i-n-(this._domNode.clientHeight-o)/2;this._domNode.style.left=t.glyphMarginLeft+t.glyphMarginWidth+"px",this._domNode.style.top=Math.max(Math.round(r),0)+"px"},t.prototype.hide=function(){this.isVisible&&(this.isVisible=!1)},t.prototype.getPosition=function(){return null},t.prototype.dispose=function(){this._editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},t.prototype.updateFont=function(){var e=this,t=Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),i=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));Bn(t,i).forEach((function(t){return e._editor.applyFontInfo(t)}))},t.prototype.updateContents=function(e){this._domNode.textContent="",this._domNode.appendChild(e),this.updateFont()},t}(mt.a),zn=function(){function e(e){this._prefix=e,this._lastId=0}return e.prototype.nextId=function(){return this._prefix+ ++this._lastId},e}(),Kn=new zn("id#");(function(e){var t={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:f,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:f,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:f,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/};function i(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||y.defaults,this.rules=t.normal,this.options.pedantic?this.rules=t.pedantic:this.options.gfm&&(this.options.tables?this.rules=t.tables:this.rules=t.gfm)}t._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,t._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,t.def=d(t.def).replace("label",t._label).replace("title",t._title).getRegex(),t.bullet=/(?:[*+-]|\d{1,9}\.)/,t.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,t.item=d(t.item,"gm").replace(/bull/g,t.bullet).getRegex(),t.list=d(t.list).replace(/bull/g,t.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+t.def.source+")").getRegex(),t._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",t._comment=/<!--(?!-?>)[\s\S]*?-->/,t.html=d(t.html,"i").replace("comment",t._comment).replace("tag",t._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),t.paragraph=d(t.paragraph).replace("hr",t.hr).replace("heading",t.heading).replace("lheading",t.lheading).replace("tag",t._tag).getRegex(),t.blockquote=d(t.blockquote).replace("paragraph",t.paragraph).getRegex(),t.normal=m({},t),t.gfm=m({},t.normal,{fences:/^ {0,3}(`{3,}|~{3,})([^`\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),t.gfm.paragraph=d(t.paragraph).replace("(?!","(?!"+t.gfm.fences.source.replace("\\1","\\2")+"|"+t.list.source.replace("\\1","\\3")+"|").getRegex(),t.tables=m({},t.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),t.pedantic=m({},t.normal,{html:d("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",t._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/}),i.rules=t,i.lex=function(e,t){return new i(t).lex(e)},i.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},i.prototype.token=function(e,i){var n,o,r,s,a,c,l,u,d,h,p,g,f,m,v,y;for(e=e.replace(/^ +$/gm,"");e;)if((r=this.rules.newline.exec(e))&&(e=e.substring(r[0].length),r[0].length>1&&this.tokens.push({type:"space"})),r=this.rules.code.exec(e))e=e.substring(r[0].length),r=r[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?r:b(r,"\n")});else if(r=this.rules.fences.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"code",lang:r[2]?r[2].trim():r[2],text:r[3]||""});else if(r=this.rules.heading.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"heading",depth:r[1].length,text:r[2]});else if((r=this.rules.nptable.exec(e))&&(c={type:"table",header:_(r[1].replace(/^ *| *\| *$/g,"")),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3]?r[3].replace(/\n$/,"").split("\n"):[]}).header.length===c.align.length){for(e=e.substring(r[0].length),p=0;p<c.align.length;p++)/^ *-+: *$/.test(c.align[p])?c.align[p]="right":/^ *:-+: *$/.test(c.align[p])?c.align[p]="center":/^ *:-+ *$/.test(c.align[p])?c.align[p]="left":c.align[p]=null;for(p=0;p<c.cells.length;p++)c.cells[p]=_(c.cells[p],c.header.length);this.tokens.push(c)}else if(r=this.rules.hr.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"hr"});else if(r=this.rules.blockquote.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"blockquote_start"}),r=r[0].replace(/^ *> ?/gm,""),this.token(r,i),this.tokens.push({type:"blockquote_end"});else if(r=this.rules.list.exec(e)){for(e=e.substring(r[0].length),l={type:"list_start",ordered:m=(s=r[2]).length>1,start:m?+s:"",loose:!1},this.tokens.push(l),u=[],n=!1,f=(r=r[0].match(this.rules.item)).length,p=0;p<f;p++)h=(c=r[p]).length,~(c=c.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(h-=c.length,c=this.options.pedantic?c.replace(/^ {1,4}/gm,""):c.replace(new RegExp("^ {1,"+h+"}","gm"),"")),p!==f-1&&(a=t.bullet.exec(r[p+1])[0],(s.length>1?1===a.length:a.length>1||this.options.smartLists&&a!==s)&&(e=r.slice(p+1).join("\n")+e,p=f-1)),o=n||/\n\n(?!\s*$)/.test(c),p!==f-1&&(n="\n"===c.charAt(c.length-1),o||(o=n)),o&&(l.loose=!0),y=void 0,(v=/^\[[ xX]\] /.test(c))&&(y=" "!==c[1],c=c.replace(/^\[[ xX]\] +/,"")),d={type:"list_item_start",task:v,checked:y,loose:o},u.push(d),this.tokens.push(d),this.token(c,!1),this.tokens.push({type:"list_item_end"});if(l.loose)for(f=u.length,p=0;p<f;p++)u[p].loose=!0;this.tokens.push({type:"list_end"})}else if(r=this.rules.html.exec(e))e=e.substring(r[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===r[1]||"script"===r[1]||"style"===r[1]),text:r[0]});else if(i&&(r=this.rules.def.exec(e)))e=e.substring(r[0].length),r[3]&&(r[3]=r[3].substring(1,r[3].length-1)),g=r[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[g]||(this.tokens.links[g]={href:r[2],title:r[3]});else if((r=this.rules.table.exec(e))&&(c={type:"table",header:_(r[1].replace(/^ *| *\| *$/g,"")),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3]?r[3].replace(/\n$/,"").split("\n"):[]}).header.length===c.align.length){for(e=e.substring(r[0].length),p=0;p<c.align.length;p++)/^ *-+: *$/.test(c.align[p])?c.align[p]="right":/^ *:-+: *$/.test(c.align[p])?c.align[p]="center":/^ *:-+ *$/.test(c.align[p])?c.align[p]="left":c.align[p]=null;for(p=0;p<c.cells.length;p++)c.cells[p]=_(c.cells[p].replace(/^ *\| *| *\| *$/g,""),c.header.length);this.tokens.push(c)}else if(r=this.rules.lheading.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"heading",depth:"="===r[2]?1:2,text:r[1]});else if(i&&(r=this.rules.paragraph.exec(e)))e=e.substring(r[0].length),this.tokens.push({type:"paragraph",text:"\n"===r[1].charAt(r[1].length-1)?r[1].slice(0,-1):r[1]});else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"text",text:r[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var n={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:f,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*"<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s"<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:f,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};function o(e,t){if(this.options=t||y.defaults,this.links=e,this.rules=n.normal,this.renderer=this.options.renderer||new r,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=n.pedantic:this.options.gfm&&(this.options.breaks?this.rules=n.breaks:this.rules=n.gfm)}function r(e){this.options=e||y.defaults}function s(){}function a(e){this.tokens=[],this.token=null,this.options=e||y.defaults,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new c}function c(){this.seen={}}function l(e,t){if(t){if(l.escapeTest.test(e))return e.replace(l.escapeReplace,(function(e){return l.replacements[e]}))}else if(l.escapeTestNoEncode.test(e))return e.replace(l.escapeReplaceNoEncode,(function(e){return l.replacements[e]}));return e}function u(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}function d(e,t){return e=e.source||e,t=t||"",{replace:function(t,i){return i=(i=i.source||i).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,i),this},getRegex:function(){return new RegExp(e,t)}}}function h(e,t,i){if(e){try{var n=decodeURIComponent(u(i)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return null}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return null}t&&!g.test(i)&&(i=function(e,t){p[" "+e]||(/^[^:]+:\/*[^/]*$/.test(e)?p[" "+e]=e+"/":p[" "+e]=b(e,"/",!0));return e=p[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+t:e+t}(t,i));try{i=encodeURI(i).replace(/%25/g,"%")}catch(e){return null}return i}n._punctuation="!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~",n.em=d(n.em).replace(/punctuation/g,n._punctuation).getRegex(),n._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,n._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,n._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,n.autolink=d(n.autolink).replace("scheme",n._scheme).replace("email",n._email).getRegex(),n._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,n.tag=d(n.tag).replace("comment",t._comment).replace("attribute",n._attribute).getRegex(),n._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|`(?!`)|[^\[\]\\`])*?/,n._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*)/,n._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,n.link=d(n.link).replace("label",n._label).replace("href",n._href).replace("title",n._title).getRegex(),n.reflink=d(n.reflink).replace("label",n._label).getRegex(),n.normal=m({},n),n.pedantic=m({},n.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:d(/^!?\[(label)\]\((.*?)\)/).replace("label",n._label).getRegex(),reflink:d(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",n._label).getRegex()}),n.gfm=m({},n.normal,{escape:d(n.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),n.gfm.url=d(n.gfm.url,"i").replace("email",n.gfm._extended_email).getRegex(),n.breaks=m({},n.gfm,{br:d(n.br).replace("{2,}","*").getRegex(),text:d(n.gfm.text).replace(/\{2,\}/g,"*").getRegex()}),o.rules=n,o.output=function(e,t,i){return new o(t,i).output(e)},o.prototype.output=function(e){for(var t,i,n,r,s,a,c="";e;)if(s=this.rules.escape.exec(e))e=e.substring(s[0].length),c+=l(s[1]);else if(s=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(s[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(s[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(s[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(s[0])&&(this.inRawBlock=!1),e=e.substring(s[0].length),c+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):l(s[0]):s[0];else if(s=this.rules.link.exec(e)){var u=v(s[2],"()");if(u>-1){var d=s[0].length-(s[2].length-u)-(s[3]||"").length;s[2]=s[2].substring(0,u),s[0]=s[0].substring(0,d).trim(),s[3]=""}e=e.substring(s[0].length),this.inLink=!0,n=s[2],this.options.pedantic?(t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n))?(n=t[1],r=t[3]):r="":r=s[3]?s[3].slice(1,-1):"",n=n.trim().replace(/^<([\s\S]*)>$/,"$1"),c+=this.outputLink(s,{href:o.escapes(n),title:o.escapes(r)}),this.inLink=!1}else if((s=this.rules.reflink.exec(e))||(s=this.rules.nolink.exec(e))){if(e=e.substring(s[0].length),t=(s[2]||s[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){c+=s[0].charAt(0),e=s[0].substring(1)+e;continue}this.inLink=!0,c+=this.outputLink(s,t),this.inLink=!1}else if(s=this.rules.strong.exec(e))e=e.substring(s[0].length),c+=this.renderer.strong(this.output(s[4]||s[3]||s[2]||s[1]));else if(s=this.rules.em.exec(e))e=e.substring(s[0].length),c+=this.renderer.em(this.output(s[6]||s[5]||s[4]||s[3]||s[2]||s[1]));else if(s=this.rules.code.exec(e))e=e.substring(s[0].length),c+=this.renderer.codespan(l(s[2].trim(),!0));else if(s=this.rules.br.exec(e))e=e.substring(s[0].length),c+=this.renderer.br();else if(s=this.rules.del.exec(e))e=e.substring(s[0].length),c+=this.renderer.del(this.output(s[1]));else if(s=this.rules.autolink.exec(e))e=e.substring(s[0].length),n="@"===s[2]?"mailto:"+(i=l(this.mangle(s[1]))):i=l(s[1]),c+=this.renderer.link(n,null,i);else if(this.inLink||!(s=this.rules.url.exec(e))){if(s=this.rules.text.exec(e))e=e.substring(s[0].length),this.inRawBlock?c+=this.renderer.text(s[0]):c+=this.renderer.text(l(this.smartypants(s[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else{if("@"===s[2])n="mailto:"+(i=l(s[0]));else{do{a=s[0],s[0]=this.rules._backpedal.exec(s[0])[0]}while(a!==s[0]);i=l(s[0]),n="www."===s[1]?"http://"+i:i}e=e.substring(s[0].length),c+=this.renderer.link(n,null,i)}return c},o.escapes=function(e){return e?e.replace(o.rules._escapes,"$1"):e},o.prototype.outputLink=function(e,t){var i=t.href,n=t.title?l(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(i,n,this.output(e[1])):this.renderer.image(i,n,l(e[1]))},o.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},o.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,i="",n=e.length,o=0;o<n;o++)t=e.charCodeAt(o),Math.random()>.5&&(t="x"+t.toString(16)),i+="&#"+t+";";return i},r.prototype.code=function(e,t,i){var n=(t||"").match(/\S*/)[0];if(this.options.highlight){var o=this.options.highlight(e,n);null!=o&&o!==e&&(i=!0,e=o)}return n?'<pre><code class="'+this.options.langPrefix+l(n,!0)+'">'+(i?e:l(e,!0))+"</code></pre>\n":"<pre><code>"+(i?e:l(e,!0))+"</code></pre>"},r.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},r.prototype.html=function(e){return e},r.prototype.heading=function(e,t,i,n){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+n.slug(i)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},r.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},r.prototype.list=function(e,t,i){var n=t?"ol":"ul";return"<"+n+(t&&1!==i?' start="'+i+'"':"")+">\n"+e+"</"+n+">\n"},r.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},r.prototype.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},r.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},r.prototype.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},r.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},r.prototype.tablecell=function(e,t){var i=t.header?"th":"td";return(t.align?"<"+i+' align="'+t.align+'">':"<"+i+">")+e+"</"+i+">\n"},r.prototype.strong=function(e){return"<strong>"+e+"</strong>"},r.prototype.em=function(e){return"<em>"+e+"</em>"},r.prototype.codespan=function(e){return"<code>"+e+"</code>"},r.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},r.prototype.del=function(e){return"<del>"+e+"</del>"},r.prototype.link=function(e,t,i){if(null===(e=h(this.options.sanitize,this.options.baseUrl,e)))return i;var n='<a href="'+l(e)+'"';return t&&(n+=' title="'+t+'"'),n+=">"+i+"</a>"},r.prototype.image=function(e,t,i){if(null===(e=h(this.options.sanitize,this.options.baseUrl,e)))return i;var n='<img src="'+e+'" alt="'+i+'"';return t&&(n+=' title="'+t+'"'),n+=this.options.xhtml?"/>":">"},r.prototype.text=function(e){return e},s.prototype.strong=s.prototype.em=s.prototype.codespan=s.prototype.del=s.prototype.text=function(e){return e},s.prototype.link=s.prototype.image=function(e,t,i){return""+i},s.prototype.br=function(){return""},a.parse=function(e,t){return new a(t).parse(e)},a.prototype.parse=function(e){this.inline=new o(e.links,this.options),this.inlineText=new o(e.links,m({},this.options,{renderer:new s})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},a.prototype.next=function(){return this.token=this.tokens.pop()},a.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},a.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},a.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,u(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,i,n,o="",r="";for(i="",e=0;e<this.token.header.length;e++)i+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(o+=this.renderer.tablerow(i),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],i="",n=0;n<t.length;n++)i+=this.renderer.tablecell(this.inline.output(t[n]),{header:!1,align:this.token.align[n]});r+=this.renderer.tablerow(i)}return this.renderer.table(o,r);case"blockquote_start":for(r="";"blockquote_end"!==this.next().type;)r+=this.tok();return this.renderer.blockquote(r);case"list_start":r="";for(var s=this.token.ordered,a=this.token.start;"list_end"!==this.next().type;)r+=this.tok();return this.renderer.list(r,s,a);case"list_item_start":r="";var c=this.token.loose,l=this.token.checked,d=this.token.task;for(this.token.task&&(r+=this.renderer.checkbox(l));"list_item_end"!==this.next().type;)r+=c||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(r,d,l);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:var h='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(h);console.log(h)}},c.prototype.slug=function(e){var t=e.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){var i=t;do{this.seen[i]++,t=i+"-"+this.seen[i]}while(this.seen.hasOwnProperty(t))}return this.seen[t]=0,t},l.escapeTest=/[&<>"']/,l.escapeReplace=/[&<>"']/g,l.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},l.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,l.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var p={},g=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function f(){}function m(e){for(var t,i,n=1;n<arguments.length;n++)for(i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}function _(e,t){var i=e.replace(/\|/g,(function(e,t,i){for(var n=!1,o=t;--o>=0&&"\\"===i[o];)n=!n;return n?"|":" |"})).split(/ \|/),n=0;if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace(/\\\|/g,"|");return i}function b(e,t,i){if(0===e.length)return"";for(var n=0;n<e.length;){var o=e.charAt(e.length-n-1);if(o!==t||i){if(o===t||!i)break;n++}else n++}return e.substr(0,e.length-n)}function v(e,t){if(-1===e.indexOf(t[1]))return-1;for(var i=0,n=0;n<e.length;n++)if("\\"===e[n])n++;else if(e[n]===t[0])i++;else if(e[n]===t[1]&&--i<0)return n;return-1}function y(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(n||"function"==typeof t){n||(n=t,t=null);var o,r,s=(t=m({},y.defaults,t||{})).highlight,c=0;try{o=i.lex(e,t)}catch(e){return n(e)}r=o.length;var u=function(e){if(e)return t.highlight=s,n(e);var i;try{i=a.parse(o,t)}catch(t){e=t}return t.highlight=s,e?n(e):n(null,i)};if(!s||s.length<3)return u();if(delete t.highlight,!r)return u();for(;c<o.length;c++)!function(e){"code"!==e.type?--r||u():s(e.text,e.lang,(function(t,i){return t?u(t):null==i||i===e.text?--r||u():(e.text=i,e.escaped=!0,void(--r||u()))}))}(o[c])}else try{return t&&(t=m({},y.defaults,t)),a.parse(i.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||y.defaults).silent)return"<p>An error occurred:</p><pre>"+l(e.message+"",!0)+"</pre>";throw e}}f.exec=f,y.options=y.setOptions=function(e){return m(y.defaults,e),y},y.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new r,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},y.defaults=y.getDefaults(),y.Parser=a,y.parser=a.parse,y.Renderer=r,y.TextRenderer=s,y.Lexer=i,y.lexer=i.lex,y.InlineLexer=o,y.inlineLexer=o.output,y.Slugger=c,y.parse=y,Fn=y}).call(void 0);Fn.Parser,Fn.parser;var Un=Fn.Renderer,qn=(Fn.TextRenderer,Fn.Lexer,Fn.lexer,Fn.InlineLexer,Fn.inlineLexer,Fn.parse);let Gn;!function e(t,i,n){function o(s,a){if(!i[s]){if(!t[s]){if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=i[s]={exports:{}};t[s][0].call(l.exports,(function(e){return o(t[s][1][e]||e)}),l,l.exports,e,t,i,n)}return i[s].exports}for(var r=!1,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,i){var n=e("./toMap");t.exports={uris:n(["background","base","cite","href","longdesc","src","usemap"])}},{"./toMap":10}],2:[function(e,t,i){t.exports={allowedAttributes:{"*":["title","accesskey"],a:["href","name","target","aria-label"],iframe:["allowfullscreen","frameborder","src"],img:["src","alt","title","aria-label"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null}},{}],3:[function(e,t,i){var n=e("./toMap");t.exports={voids:n(["area","br","col","hr","img","wbr","input","base","basefont","link","meta"])}},{"./toMap":10}],4:[function(e,t,i){e("he");var n=e("assignment"),o=e("./parser"),r=e("./sanitizer"),s=e("./defaults");function a(e,t,i){var a=[],c=!0===i?t:n({},s,t),l=r(a,c);return o(e,l),a.join("")}a.defaults=s,t.exports=a,Gn=a},{"./defaults":2,"./parser":7,"./sanitizer":8,assignment:6,he:9}],5:[function(e,t,i){t.exports=function(e){return"string"==typeof e?e.toLowerCase():e}},{}],6:[function(e,t,i){t.exports=function e(t){for(var i,n,o=Array.prototype.slice.call(arguments,1);o.length;)for(n in i=o.shift())i.hasOwnProperty(n)&&("[object Object]"===Object.prototype.toString.call(t[n])?t[n]=e(t[n],i[n]):t[n]=i[n]);return t}},{}],7:[function(e,t,i){var n=e("he"),o=e("./lowercase"),r=(e("./attributes"),e("./elements")),s=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,a=/^<\s*\/\s*([\w:-]+)[^>]*>/,c=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,l=/^</,u=/^<\s*\//;t.exports=function(e,t){for(var i,d=function(){var e=[];return e.lastItem=function(){return e[e.length-1]},e}(),h=e;e;)p();function p(){i=!0,function(){"\x3c!--"===e.substr(0,4)?(n=e.indexOf("--\x3e"))>=0&&(t.comment&&t.comment(e.substring(4,n)),e=e.substring(n+3),i=!1):u.test(e)?g(a,m):l.test(e)&&g(s,f);var n;!function(){if(!i)return;var n,o=e.indexOf("<");o>=0?(n=e.substring(0,o),e=e.substring(o)):(n=e,e="");t.chars&&t.chars(n)}()}();var n=e===h;h=e,n&&(e="")}function g(t,n){var o=e.match(t);o&&(e=e.substring(o[0].length),o[0].replace(t,n),i=!1)}function f(e,i,s,a){var l={},u=o(i),h=r.voids[u]||!!a;s.replace(c,(function(e,t,i,o,r){l[t]=void 0===i&&void 0===o&&void 0===r?void 0:n.decode(i||o||r||"")})),h||d.push(u),t.start&&t.start(u,l,h)}function m(e,i){var n,r=0,s=o(i);if(s)for(r=d.length-1;r>=0&&d[r]!==s;r--);if(r>=0){for(n=d.length-1;n>=r;n--)t.end&&t.end(d[n]);d.length=r}}m()}},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],8:[function(e,t,i){var n=e("he"),o=e("./lowercase"),r=e("./attributes"),s=e("./elements");t.exports=function(e,t){var i,a=t||{};return d(),{start:function(e,t,s){var u=o(e);if(i.ignoring)return void l(u);if(-1===(a.allowedTags||[]).indexOf(u))return void l(u);if(a.filter&&!a.filter({tag:u,attrs:t}))return void l(u);c("<"),c(u),Object.keys(t).forEach((function(e){var i=t[e],s=(a.allowedClasses||{})[u]||[],l=(a.allowedAttributes||{})[u]||[];l=l.concat((a.allowedAttributes||{})["*"]||[]);var d=o(e);("class"===d&&-1===l.indexOf(d)?(i=i.split(" ").filter((function(e){return s&&-1!==s.indexOf(e)})).join(" ").trim()).length:-1!==l.indexOf(d)&&(!0!==r.uris[d]||function(e){var t=e[0];if("#"===t||"/"===t)return!0;var i=e.indexOf(":");if(-1===i)return!0;var n=e.indexOf("?");if(-1!==n&&i>n)return!0;var o=e.indexOf("#");if(-1!==o&&i>o)return!0;return a.allowedSchemes.some((function(t){return 0===e.indexOf(t+":")}))}(i)))&&(c(" "),c(e),"string"==typeof i&&(c('="'),c(n.encode(i)),c('"')))})),c(s?"/>":">")},end:function(e){var t=o(e);-1!==(a.allowedTags||[]).indexOf(t)&&!1===i.ignoring?(c("</"),c(t),c(">")):u(t)},chars:function(e){!1===i.ignoring&&c(a.transformText?a.transformText(e):e)}};function c(t){e.push(t)}function l(e){s.voids[e]||(!1===i.ignoring?i={ignoring:e,depth:1}:i.ignoring===e&&i.depth++)}function u(e){i.ignoring===e&&--i.depth<=0&&d()}function d(){i={ignoring:!1,depth:0}}}},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],9:[function(e,t,i){var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},o={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},r=/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,s=/[&<>"']/g;function a(e){return n[e]}function c(e){return o[e]}function l(e){return null==e?"":String(e).replace(s,a)}function u(e){return null==e?"":String(e).replace(r,c)}l.options=u.options={},t.exports={encode:l,escape:l,decode:u,unescape:u,version:"1.0.0-browser"}},{}],10:[function(e,t,i){function n(e,t){return e[t]=!0,e}t.exports=function(e){return e.reduce(n,{})}},{}]},{},[4]);var Zn=Gn,$n=i(381),Yn=i(47);function Jn(e,t){void 0===t&&(t={});var i,n=Vt(t),o=function(t){var i;try{i=Object($n.a)(decodeURIComponent(t))}catch(e){}return i?(i=Object(vt.b)(i,(function(t){return e.uris&&e.uris[t]?mn.a.revive(e.uris[t]):void 0})),encodeURIComponent(JSON.stringify(i))):t},r=function(t,i){var n=e.uris&&e.uris[t];if(!n)return t;var r=mn.a.revive(n);return mn.a.parse(t).toString()===r.toString()?t:(i&&(r=ft.r(r)),r.query&&(r=r.with({query:o(r.query)})),r.toString(!0))},s=new Promise((function(e){return i=e})),a=new Un;a.image=function(e,t,i){var n,o=[],s=[];return e&&(n=function(e){var t=[],i=e.split("|").map((function(e){return e.trim()}));e=i[0];var n=i[1];if(n){var o=/height=(\d+)/.exec(n),r=/width=(\d+)/.exec(n),s=o?o[1]:"",a=r?r[1]:"",c=isFinite(parseInt(a)),l=isFinite(parseInt(s));c&&t.push('width="'+a+'"'),l&&t.push('height="'+s+'"')}return{href:e,dimensions:t}}(e),e=n.href,o=n.dimensions,e=r(e,!0),s.push('src="'+e+'"')),i&&s.push('alt="'+i+'"'),t&&s.push('title="'+t+'"'),o.length&&(s=s.concat(o)),"<img "+s.join(" ")+">"},a.link=function(t,i,n){return t===n&&(n=gn(n)),t=r(t,!1),i=gn(i),!(t=gn(t))||t.match(/^data:|javascript:/i)||t.match(/^command:/i)&&!e.isTrusted||t.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?n:'<a href="#" data-href="'+(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"))+'" title="'+(i||t)+'">'+n+"</a>"},a.paragraph=function(e){return"<p>"+e+"</p>"},t.codeBlockRenderer&&(a.code=function(e,i){var o=t.codeBlockRenderer(i,e),r=Kn.nextId(),a=Promise.all([o,s]).then((function(e){var t=e[0],i=n.querySelector('div[data-code="'+r+'"]');i&&(i.innerHTML=t)})).catch((function(e){}));return t.codeBlockRenderCallback&&a.then(t.codeBlockRenderCallback),'<div class="code" data-code="'+r+'">'+Object(Ne.o)(e)+"</div>"});var c=t.actionHandler;c&&c.disposeables.add(ft.n(n,"click",(function(e){var t=e.target;if("A"===t.tagName||(t=t.parentElement)&&"A"===t.tagName)try{var i=t.dataset.href;i&&c.callback(i,e)}catch(e){Object(Ft.e)(e)}finally{e.preventDefault()}})));var l={sanitize:!0,renderer:a},u=[Yn.b.http,Yn.b.https,Yn.b.mailto,Yn.b.data,Yn.b.file,Yn.b.vscodeRemote,Yn.b.vscodeRemoteResource];e.isTrusted&&u.push(Yn.b.command);var d=qn(e.value,l);return n.innerHTML=Zn(d,{allowedSchemes:u,allowedAttributes:{a:["href","name","target","data-href"],iframe:["allowfullscreen","frameborder","src"],img:["src","title","alt","width","height"],div:["class","data-code"],span:["class"]}}),i(),n}var Qn=i(194),Xn=i(453),eo=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),to=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},io=function(e,t){return function(i,n){t(i,n,e)}},no=function(e){function t(t,i,n){void 0===n&&(n=Qn.b);var o=e.call(this)||this;return o._editor=t,o._modeService=i,o._openerService=n,o._onDidRenderCodeBlock=o._register(new bt.a),o.onDidRenderCodeBlock=o._onDidRenderCodeBlock.event,o}return eo(t,e),t.prototype.getOptions=function(e){var t=this;return{codeBlockRenderer:function(e,i){var n=null;if(e)n=t._modeService.getModeIdForLanguageName(e);else{var o=t._editor.getModel();o&&(n=o.getLanguageIdentifier().language)}return t._modeService.triggerMode(n||""),Promise.resolve(!0).then((function(e){var t=fn.y.getPromise(n||"");return t?t.then((function(e){return Object(Xn.b)(i,e)})):Object(Xn.b)(i,void 0)})).then((function(e){return'<span style="font-family: '+t._editor.getOption(32).fontFamily+'">'+e+"</span>"}))},codeBlockRenderCallback:function(){return t._onDidRenderCodeBlock.fire()},actionHandler:{callback:function(e){t._openerService.open(e,{fromUserGesture:!0}).catch(Ft.e)},disposeables:e}}},t.prototype.render=function(e){var t=new ee.b;return{element:e?Jn(e,this.getOptions(t)):document.createElement("span"),dispose:function(){return t.dispose()}}},t=to([io(1,an.a),io(2,Object(Fi.d)(Qn.a))],t)}(ee.a),oo=i(138),ro=i(211),so=(i(1093),i(74));function ao(e,t,i){if("string"==typeof e&&(e=mn.a.file(e)),i){var n=i.getWorkspaceFolder(e);if(n){var o=i.getWorkspace().folders.length>1,r=void 0;if(r=Object(ro.e)(n.uri,e)?"":Object(ro.h)(n.uri,e),o){var s=n.name?n.name:Object(ro.b)(n.uri);r=r?s+" • "+r:s}return r}}if(e.scheme!==Yn.b.file&&e.scheme!==Yn.b.untitled)return e.with({query:null,fragment:null}).toString(!0);if(lo(e.fsPath))return Object(so.normalize)(uo(e.fsPath));var a=Object(so.normalize)(e.fsPath);return!ve.h&&t&&(a=function(e,t){if(ve.h||!e||!t)return e;var i=ho.original===t?ho.normalized:void 0;i||(i=""+Object(Ne.L)(t,so.posix.sep)+so.posix.sep,ho={original:t,normalized:i});(ve.d?Object(Ne.N)(e,i):Object(Ne.O)(e,i))&&(e="~/"+e.substr(i.length));return e}(a,t.userHome)),a}function co(e){if(e){"string"==typeof e&&(e=mn.a.file(e));var t=Object(ro.b)(e)||(e.scheme===Yn.b.file?e.fsPath:e.path);return lo(t)?uo(t):t}}function lo(e){return!(!ve.h||!e||":"!==e[1])}function uo(e){return lo(e)?e.charAt(0).toUpperCase()+e.slice(1):e}var ho=Object.create(null);i(1094);var po,go,fo=i(95),mo=i(54),_o=i(101),bo=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),vo=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},yo=function(e,t){return function(i,n){t(i,n,e)}},wo=function(e){function t(t,i,n,o,r,s,a,c,l,u){var d=e.call(this,t,n.getRawOptions(),{},o,r,s,a,c,l,u)||this;return d._parentEditor=n,d._overwriteOptions=i,e.prototype.updateOptions.call(d,d._overwriteOptions),d._register(n.onDidChangeConfiguration((function(e){return d._onParentConfigurationChanged(e)}))),d}return bo(t,e),t.prototype.getParentEditor=function(){return this._parentEditor},t.prototype._onParentConfigurationChanged=function(t){e.prototype.updateOptions.call(this,this._parentEditor.getRawOptions()),e.prototype.updateOptions.call(this,this._overwriteOptions)},t.prototype.updateOptions=function(t){vt.g(this._overwriteOptions,t,!0),e.prototype.updateOptions.call(this,this._overwriteOptions)},t=vo([yo(3,Fi.a),yo(4,we.a),yo(5,mo.b),yo(6,Ue.c),yo(7,ue.c),yo(8,Bi.a),yo(9,_o.b)],t)}(J.a),Co=(i(1095),new _t.a(new _t.c(0,122,204))),So={showArrow:!0,showFrame:!0,className:"",frameColor:Co,arrowColor:Co,keepEditorSelection:!1},Oo=function(){function e(e,t,i,n,o,r){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=i,this.heightInLines=n,this._onDomNodeTop=o,this._onComputedHeight=r}return e.prototype.onDomNodeTop=function(e){this._onDomNodeTop(e)},e.prototype.onComputedHeight=function(e){this._onComputedHeight(e)},e}(),ko=function(){function e(e,t){this._id=e,this._domNode=t}return e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return null},e}(),xo=function(){function e(t){this._editor=t,this._ruleName=e._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}return e.prototype.dispose=function(){this.hide(),ft.K(this._ruleName)},Object.defineProperty(e.prototype,"color",{set:function(e){this._color!==e&&(this._color=e,this._updateStyle())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{set:function(e){this._height!==e&&(this._height=e,this._updateStyle())},enumerable:!0,configurable:!0}),e.prototype._updateStyle=function(){ft.K(this._ruleName),ft.u(".monaco-editor "+this._ruleName,"border-style: solid; border-color: transparent; border-bottom-color: "+this._color+"; border-width: "+this._height+"px; bottom: -"+this._height+"px; margin-left: -"+this._height+"px; ")},e.prototype.show=function(e){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:ne.a.fromPositions(e),options:{className:this._ruleName,stickiness:1}}])},e.prototype.hide=function(){this._editor.deltaDecorations(this._decorations,[])},e._IdGenerator=new zn(".arrow-decoration-"),e}(),Do=function(){function e(e,t){var i=this;void 0===t&&(t={}),this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new ee.b,this.container=null,this._isShowing=!1,this.editor=e,this.options=vt.c(t),vt.g(this.options,So,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange((function(e){var t=i._getWidth(e);i.domNode.style.width=t+"px",i.domNode.style.left=i._getLeft(e)+"px",i._onWidth(t)})))}return e.prototype.dispose=function(){var e=this;this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones((function(t){e._viewZone&&t.removeZone(e._viewZone.id),e._viewZone=null})),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()},e.prototype.create=function(){ft.e(this.domNode,"zone-widget"),this.options.className&&ft.e(this.domNode,this.options.className),this.container=document.createElement("div"),ft.e(this.container,"zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new xo(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()},e.prototype.style=function(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()},e.prototype._applyStyles=function(){if(this.container&&this.options.frameColor){var e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){var t=this.options.arrowColor.toString();this._arrow.color=t}},e.prototype._getWidth=function(e){return e.width-e.minimapWidth-e.verticalScrollbarWidth},e.prototype._getLeft=function(e){return e.minimapWidth>0&&0===e.minimapLeft?e.minimapWidth:0},e.prototype._onViewZoneTop=function(e){this.domNode.style.top=e+"px"},e.prototype._onViewZoneHeight=function(e){if(this.domNode.style.height=e+"px",this.container){var t=e-this._decoratingElementsHeight();this.container.style.height=t+"px";var i=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(i))}this._resizeSash&&this._resizeSash.layout()},Object.defineProperty(e.prototype,"position",{get:function(){var e=this._positionMarkerId[0];if(e){var t=this.editor.getModel();if(t){var i=t.getDecorationRange(e);if(i)return i.getStartPosition()}}},enumerable:!0,configurable:!0}),e.prototype.show=function(e,t){var i=ne.a.isIRange(e)?ne.a.lift(e):ne.a.fromPositions(e);this._isShowing=!0,this._showImpl(i,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:i,options:ae.a.EMPTY}])},e.prototype.hide=function(){var e=this;this._viewZone&&(this.editor.changeViewZones((function(t){e._viewZone&&t.removeZone(e._viewZone.id)})),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()},e.prototype._decoratingElementsHeight=function(){var e=this.editor.getOption(47),t=0;this.options.showArrow&&(t+=2*Math.round(e/3));this.options.showFrame&&(t+=2*Math.round(e/9));return t},e.prototype._showImpl=function(e,t){var i=this,n=e.getStartPosition(),o=this.editor.getLayoutInfo(),r=this._getWidth(o);this.domNode.style.width=r+"px",this.domNode.style.left=this._getLeft(o)+"px";var s=document.createElement("div");s.style.overflow="hidden";var a=this.editor.getOption(47),c=this.editor.getLayoutInfo().height/a*.8;t>=c&&(t=c);var l=0,u=0;if(this._arrow&&this.options.showArrow&&(l=Math.round(a/3),this._arrow.height=l,this._arrow.show(n)),this.options.showFrame&&(u=Math.round(a/9)),this.editor.changeViewZones((function(e){i._viewZone&&e.removeZone(i._viewZone.id),i._overlayWidget&&(i.editor.removeOverlayWidget(i._overlayWidget),i._overlayWidget=null),i.domNode.style.top="-1000px",i._viewZone=new Oo(s,n.lineNumber,n.column,t,(function(e){return i._onViewZoneTop(e)}),(function(e){return i._onViewZoneHeight(e)})),i._viewZone.id=e.addZone(i._viewZone),i._overlayWidget=new ko("vs.editor.contrib.zoneWidget"+i._viewZone.id,i.domNode),i.editor.addOverlayWidget(i._overlayWidget)})),this.container&&this.options.showFrame){var d=this.options.frameWidth?this.options.frameWidth:u;this.container.style.borderTopWidth=d+"px",this.container.style.borderBottomWidth=d+"px"}var h=t*a-this._decoratingElementsHeight();this.container&&(this.container.style.top=l+"px",this.container.style.height=h+"px",this.container.style.overflow="hidden"),this._doLayout(h,r),this.options.keepEditorSelection||this.editor.setSelection(e);var p=this.editor.getModel();if(p){var g=e.endLineNumber+1;g<=p.getLineCount()?this.revealLine(g,!1):this.revealLine(p.getLineCount(),!0)}},e.prototype.revealLine=function(e,t){t?this.editor.revealLineInCenter(e,0):this.editor.revealLine(e,0)},e.prototype.setCssClass=function(e,t){this.container&&(t&&this.container.classList.remove(t),ft.e(this.container,e))},e.prototype._onWidth=function(e){},e.prototype._doLayout=function(e,t){},e.prototype._relayout=function(e){var t=this;this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones((function(i){t._viewZone&&(t._viewZone.heightInLines=e,i.layoutZone(t._viewZone.id))}))},e.prototype._initSash=function(){var e,t=this;this._resizeSash||(this._resizeSash=this._disposables.add(new At.a(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart((function(i){t._viewZone&&(e={startY:i.startY,heightInLines:t._viewZone.heightInLines})}))),this._disposables.add(this._resizeSash.onDidEnd((function(){e=void 0}))),this._disposables.add(this._resizeSash.onDidChange((function(i){if(e){var n=(i.currentY-e.startY)/t.editor.getOption(47),o=n<0?Math.ceil(n):Math.floor(n),r=e.heightInLines+o;r>5&&r<35&&t._relayout(r)}}))))},e.prototype.getHorizontalSashLeft=function(){return 0},e.prototype.getHorizontalSashTop=function(){return(null===this.domNode.style.height?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2},e.prototype.getHorizontalSashWidth=function(){var e=this.editor.getLayoutInfo();return e.width-e.minimapWidth},e}(),Io=i(280),Po=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Eo=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Mo=function(e,t){return function(i,n){t(i,n,e)}},No=Object(Fi.c)("IPeekViewService");Object(Io.b)(No,function(){function e(){this._widgets=new Map}return e.prototype.addExclusiveWidget=function(e,t){var i=this,n=this._widgets.get(e);n&&(n.listener.dispose(),n.widget.dispose());this._widgets.set(e,{widget:t,listener:t.onDidClose((function(){var n=i._widgets.get(e);n&&n.widget===t&&(n.listener.dispose(),i._widgets.delete(e))}))})},e}()),(go=po||(po={})).inPeekEditor=new Ue.d("inReferenceSearchEditor",!0),go.notInPeekEditor=go.inPeekEditor.toNegated();var Ro=function(){function e(e,t){e instanceof wo&&po.inPeekEditor.bindTo(t)}return e.prototype.dispose=function(){},e.ID="editor.contrib.referenceController",e=Eo([Mo(1,Ue.c)],e)}();Object(te.h)(Ro.ID,Ro);var jo,To={headerBackgroundColor:_t.a.white,primaryHeadingColor:_t.a.fromHex("#333333"),secondaryHeadingColor:_t.a.fromHex("#6c6c6cb3")},Ao=function(e){function t(t,i){void 0===i&&(i={});var n=e.call(this,t,i)||this;return n._onDidClose=new bt.a,n.onDidClose=n._onDidClose.event,vt.g(n.options,To,!1),n}return Po(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._onDidClose.fire(this)},t.prototype.style=function(t){var i=this.options;t.headerBackgroundColor&&(i.headerBackgroundColor=t.headerBackgroundColor),t.primaryHeadingColor&&(i.primaryHeadingColor=t.primaryHeadingColor),t.secondaryHeadingColor&&(i.secondaryHeadingColor=t.secondaryHeadingColor),e.prototype.style.call(this,t)},t.prototype._applyStyles=function(){e.prototype._applyStyles.call(this);var t=this.options;this._headElement&&t.headerBackgroundColor&&(this._headElement.style.backgroundColor=t.headerBackgroundColor.toString()),this._primaryHeading&&t.primaryHeadingColor&&(this._primaryHeading.style.color=t.primaryHeadingColor.toString()),this._secondaryHeading&&t.secondaryHeadingColor&&(this._secondaryHeading.style.color=t.secondaryHeadingColor.toString()),this._bodyElement&&t.frameColor&&(this._bodyElement.style.borderColor=t.frameColor.toString())},t.prototype._fillContainer=function(e){this.setCssClass("peekview-widget"),this._headElement=ft.a(".head"),this._bodyElement=ft.a(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)},t.prototype._fillHead=function(e){var t=this,i=ft.a(".peekview-title");ft.p(this._headElement,i),ft.n(i,"click",(function(e){return t._onTitleClick(e)})),this._fillTitleIcon(i),this._primaryHeading=ft.a("span.filename"),this._secondaryHeading=ft.a("span.dirname"),this._metaHeading=ft.a("span.meta"),ft.p(i,this._primaryHeading,this._secondaryHeading,this._metaHeading);var n=ft.a(".peekview-actions");ft.p(this._headElement,n);var o=this._getActionBarOptions();this._actionbarWidget=new Ht.a(n,o),this._disposables.add(this._actionbarWidget),this._actionbarWidget.push(new fo.a("peekview.close",Q.a("label.close","Close"),"codicon-close",!0,(function(){return t.dispose(),Promise.resolve()})),{label:!1,icon:!0})},t.prototype._fillTitleIcon=function(e){},t.prototype._getActionBarOptions=function(){return{}},t.prototype._onTitleClick=function(e){},t.prototype.setTitle=function(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerHTML=Ne.o(e),this._primaryHeading.setAttribute("aria-label",e),t?this._secondaryHeading.innerHTML=Ne.o(t):ft.s(this._secondaryHeading))},t.prototype.setMetaTitle=function(e){this._metaHeading&&(e?(this._metaHeading.innerHTML=Ne.o(e),ft.T(this._metaHeading)):ft.G(this._metaHeading))},t.prototype._doLayout=function(e,t){if(!this._isShowing&&e<0)this.dispose();else{var i=Math.ceil(1.2*this.editor.getOption(47)),n=Math.round(e-(i+2));this._doLayoutHead(i,t),this._doLayoutBody(n,t)}},t.prototype._doLayoutHead=function(e,t){this._headElement&&(this._headElement.style.height=e+"px",this._headElement.style.lineHeight=this._headElement.style.height)},t.prototype._doLayoutBody=function(e,t){this._bodyElement&&(this._bodyElement.style.height=e+"px")},t}(Do),Fo=Object(le.Rb)("peekViewTitle.background",{dark:"#1E1E1E",light:"#FFFFFF",hc:"#0C141F"},Q.a("peekViewTitleBackground","Background color of the peek view title area.")),Lo=Object(le.Rb)("peekViewTitleLabel.foreground",{dark:"#FFFFFF",light:"#333333",hc:"#FFFFFF"},Q.a("peekViewTitleForeground","Color of the peek view title.")),Vo=Object(le.Rb)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#6c6c6cb3",hc:"#FFFFFF99"},Q.a("peekViewTitleInfoForeground","Color of the peek view title info.")),Bo=Object(le.Rb)("peekView.border",{dark:"#007acc",light:"#007acc",hc:le.e},Q.a("peekViewBorder","Color of the peek view borders and arrow.")),Wo=Object(le.Rb)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:_t.a.black},Q.a("peekViewResultsBackground","Background color of the peek view result list.")),Ho=Object(le.Rb)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:_t.a.white},Q.a("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),zo=Object(le.Rb)("peekViewResult.fileForeground",{dark:_t.a.white,light:"#1E1E1E",hc:_t.a.white},Q.a("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),Ko=Object(le.Rb)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},Q.a("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),Uo=Object(le.Rb)("peekViewResult.selectionForeground",{dark:_t.a.white,light:"#6C6C6C",hc:_t.a.white},Q.a("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),qo=Object(le.Rb)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:_t.a.black},Q.a("peekViewEditorBackground","Background color of the peek view editor.")),Go=Object(le.Rb)("peekViewEditorGutter.background",{dark:qo,light:qo,hc:qo},Q.a("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),Zo=Object(le.Rb)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},Q.a("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),$o=Object(le.Rb)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},Q.a("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),Yo=Object(le.Rb)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:le.b},Q.a("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor.")),Jo=i(103);(jo||(jo={})).className=function(e){switch(e){case Jo.a.Ignore:return"severity-ignore codicon-info";case Jo.a.Info:return"codicon-info";case Jo.a.Warning:return"codicon-warning";case Jo.a.Error:return"codicon-error"}return""},Object(ue.e)((function(e,t){var i=e.getColor(le.Nb);i&&t.addRule("\n\t\t\t.monaco-editor .zone-widget .codicon-error,\n\t\t\t.monaco-workbench .markers-panel .marker-icon.codicon-error,\n\t\t\t.monaco-workbench .extensions-viewlet > .extensions .codicon-error,\n\t\t\t.monaco-workbench .dialog-box .dialog-message-row .codicon-error {\n\t\t\t\tcolor: "+i+";\n\t\t\t}\n\t\t");var n=e.getColor(le.Pb);i&&t.addRule("\n\t\t\t.monaco-editor .zone-widget .codicon-warning,\n\t\t\t.monaco-workbench .markers-panel .marker-icon.codicon-warning,\n\t\t\t.monaco-workbench .extensions-viewlet > .extensions .codicon-warning,\n\t\t\t.monaco-workbench .extension-editor .codicon-warning,\n\t\t\t.monaco-workbench .dialog-box .dialog-message-row .codicon-warning {\n\t\t\t\tcolor: "+n+";\n\t\t\t}\n\t\t");var o=e.getColor(le.Ob);i&&t.addRule("\n\t\t\t.monaco-editor .zone-widget .codicon-info,\n\t\t\t.monaco-workbench .markers-panel .marker-icon.codicon-info,\n\t\t\t.monaco-workbench .extensions-viewlet > .extensions .codicon-info,\n\t\t\t.monaco-workbench .extension-editor .codicon-info,\n\t\t\t.monaco-workbench .dialog-box .dialog-message-row .codicon-info {\n\t\t\t\tcolor: "+o+";\n\t\t\t}\n\t\t")}));var Qo=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Xo=function(){function e(e,t,i){var n=this;this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new ee.b,this._editor=t;var o=document.createElement("div");o.className="descriptioncontainer",o.setAttribute("aria-live","assertive"),o.setAttribute("role","alert"),this._messageBlock=document.createElement("div"),ft.e(this._messageBlock,"message"),o.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),o.appendChild(this._relatedBlock),this._disposables.add(ft.n(this._relatedBlock,"click",(function(e){e.preventDefault();var t=n._relatedDiagnostics.get(e.target);t&&i(t)}))),this._scrollable=new Ut.b(o,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll((function(e){o.style.left="-"+e.scrollLeft+"px",o.style.top="-"+e.scrollTop+"px"}))),this._disposables.add(this._scrollable)}return e.prototype.dispose=function(){Object(ee.f)(this._disposables)},e.prototype.update=function(e){var t=e.source,i=e.message,n=e.relatedInformation,o=e.code,r=i.split(/\r\n|\r|\n/g);this._lines=r.length,this._longestLineLength=0;for(var s=0,a=r;s<a.length;s++){var c=a[s];this._longestLineLength=Math.max(c.length,this._longestLineLength)}ft.s(this._messageBlock),this._editor.applyFontInfo(this._messageBlock);for(var l=this._messageBlock,u=0,d=r;u<d.length;u++){c=d[u];(l=document.createElement("div")).innerText=c,""===c&&(l.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(l)}if(t||o){var h=document.createElement("span");if(ft.e(h,"details"),l.appendChild(h),t){var p=document.createElement("span");p.innerText=t,ft.e(p,"source"),h.appendChild(p)}if(o){var g=document.createElement("span");g.innerText="("+o+")",ft.e(g,"code"),h.appendChild(g)}}if(ft.s(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),Object(ln.p)(n)){var f=this._relatedBlock.appendChild(document.createElement("div"));f.style.paddingTop=Math.floor(.66*this._editor.getOption(47))+"px",this._lines+=1;for(var m=0,_=n;m<_.length;m++){var b=_[m],v=document.createElement("div"),y=document.createElement("a");ft.e(y,"filename"),y.innerHTML=co(b.resource)+"("+b.startLineNumber+", "+b.startColumn+"): ",y.title=ao(b.resource,void 0),this._relatedDiagnostics.set(y,b);var w=document.createElement("span");w.innerText=b.message,v.appendChild(y),v.appendChild(w),this._lines+=1,f.appendChild(v)}}var C=this._editor.getOption(32),S=Math.ceil(C.typicalFullwidthCharacterWidth*this._longestLineLength*.75),O=C.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:S,scrollHeight:O})},e.prototype.layout=function(e,t){this._scrollable.getDomNode().style.height=e+"px",this._scrollable.getDomNode().style.width=t+"px",this._scrollable.setScrollDimensions({width:t,height:e})},e.prototype.getHeightInLines=function(){return Math.min(17,this._lines)},e}(),er=function(e){function t(t,i,n){var o=e.call(this,t,{showArrow:!0,showFrame:!0,isAccessible:!0})||this;return o.actions=i,o._themeService=n,o._callOnDispose=new ee.b,o._onDidSelectRelatedInformation=new bt.a,o.onDidSelectRelatedInformation=o._onDidSelectRelatedInformation.event,o._severity=oo.c.Warning,o._backgroundColor=_t.a.white,o._applyTheme(n.getTheme()),o._callOnDispose.add(n.onThemeChange(o._applyTheme.bind(o))),o.create(),o}return Qo(t,e),t.prototype._applyTheme=function(e){this._backgroundColor=e.getColor(ar);var t=or;this._severity===oo.c.Warning?t=rr:this._severity===oo.c.Info&&(t=sr);var i=e.getColor(t);this.style({arrowColor:i,frameColor:i,headerBackgroundColor:this._backgroundColor,primaryHeadingColor:e.getColor(Lo),secondaryHeadingColor:e.getColor(Vo)})},t.prototype._applyStyles=function(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),e.prototype._applyStyles.call(this)},t.prototype.dispose=function(){this._callOnDispose.dispose(),e.prototype.dispose.call(this)},t.prototype._fillHead=function(t){e.prototype._fillHead.call(this,t),this._actionbarWidget.push(this.actions,{label:!1,icon:!0})},t.prototype._fillTitleIcon=function(e){this._icon=ft.p(e,ft.a(""))},t.prototype._getActionBarOptions=function(){return{orientation:1}},t.prototype._fillBody=function(e){var t=this;this._parentContainer=e,ft.e(e,"marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new Xo(this._container,this.editor,(function(e){return t._onDidSelectRelatedInformation.fire(e)})),this._disposables.add(this._message)},t.prototype.show=function(e,t){throw new Error("call showAtMarker")},t.prototype.showAtMarker=function(t,i,n){this._container.classList.remove("stale"),this._message.update(t),this._severity=t.severity,this._applyTheme(this._themeService.getTheme());var o=ne.a.lift(t),r=this.editor.getPosition(),s=r&&o.containsPosition(r)?r:o.getStartPosition();e.prototype.show.call(this,s,this.computeRequiredHeight());var a=this.editor.getModel();if(a){var c=n>1?Q.a("problems","{0} of {1} problems",i,n):Q.a("change","{0} of {1} problem",i,n);this.setTitle(Object(ro.b)(a.uri),c)}this._icon.className="codicon "+jo.className(oo.c.toSeverity(this._severity)),this.editor.revealPositionInCenter(s,0)},t.prototype.updateMarker=function(e){this._container.classList.remove("stale"),this._message.update(e)},t.prototype.showStale=function(){this._container.classList.add("stale"),this._relayout()},t.prototype._doLayoutBody=function(t,i){e.prototype._doLayoutBody.call(this,t,i),this._heightInPixel=t,this._message.layout(t,i),this._container.style.height=t+"px"},t.prototype._onWidth=function(e){this._message.layout(this._heightInPixel,e)},t.prototype._relayout=function(){e.prototype._relayout.call(this,this.computeRequiredHeight())},t.prototype.computeRequiredHeight=function(){return 3+this._message.getHeightInLines()},t}(Ao),tr=Object(le.Jb)(le.q,le.p),ir=Object(le.Jb)(le.O,le.N),nr=Object(le.Jb)(le.H,le.G),or=Object(le.Rb)("editorMarkerNavigationError.background",{dark:tr,light:tr,hc:tr},Q.a("editorMarkerNavigationError","Editor marker navigation widget error color.")),rr=Object(le.Rb)("editorMarkerNavigationWarning.background",{dark:ir,light:ir,hc:ir},Q.a("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),sr=Object(le.Rb)("editorMarkerNavigationInfo.background",{dark:nr,light:nr,hc:nr},Q.a("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),ar=Object(le.Rb)("editorMarkerNavigation.background",{dark:"#2D2D30",light:_t.a.white,hc:"#0C141F"},Q.a("editorMarkerNavigationBackground","Editor marker navigation widget background."));Object(ue.e)((function(e,t){var i=e.getColor(le.cc);i&&t.addRule(".monaco-editor .marker-widget a { color: "+i+"; }")}));var cr=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),lr=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},ur=function(e,t){return function(i,n){t(i,n,e)}},dr=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},hr=function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},pr=function(){function e(e,t){var i=this;this._toUnbind=new ee.b,this._editor=e,this._markers=[],this._nextIdx=-1,this._ignoreSelectionChange=!1,this._onCurrentMarkerChanged=new bt.a,this._onMarkerSetChanged=new bt.a,this.setMarkers(t),this._toUnbind.add(this._editor.onDidDispose((function(){return i.dispose()}))),this._toUnbind.add(this._editor.onDidChangeCursorPosition((function(){i._ignoreSelectionChange||i.currentMarker&&i._editor.getPosition()&&ne.a.containsPosition(i.currentMarker,i._editor.getPosition())||(i._nextIdx=-1)})))}return Object.defineProperty(e.prototype,"onCurrentMarkerChanged",{get:function(){return this._onCurrentMarkerChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMarkerSetChanged",{get:function(){return this._onMarkerSetChanged.event},enumerable:!0,configurable:!0}),e.prototype.setMarkers=function(e){var t=this._nextIdx>=0?this._markers[this._nextIdx]:void 0;this._markers=e||[],this._markers.sort(fr.compareMarker),this._nextIdx=t?Math.max(-1,Object(ln.c)(this._markers,t,fr.compareMarker)):-1,this._onMarkerSetChanged.fire(this)},e.prototype.withoutWatchingEditorPosition=function(e){this._ignoreSelectionChange=!0;try{e()}finally{this._ignoreSelectionChange=!1}},e.prototype._initIdx=function(e){for(var t=!1,i=this._editor.getPosition(),n=0;n<this._markers.length;n++){var o=ne.a.lift(this._markers[n]);if(o.isEmpty()&&this._editor.getModel()){var r=this._editor.getModel().getWordAtPosition(o.getStartPosition());r&&(o=new ne.a(o.startLineNumber,r.startColumn,o.startLineNumber,r.endColumn))}if(i&&(o.containsPosition(i)||i.isBeforeOrEqual(o.getStartPosition()))){this._nextIdx=n,t=!0;break}}t||(this._nextIdx=e?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)},Object.defineProperty(e.prototype,"currentMarker",{get:function(){return this.canNavigate()?this._markers[this._nextIdx]:void 0},set:function(e){var t=this._nextIdx;this._nextIdx=-1,e&&(this._nextIdx=this.indexOf(e)),this._nextIdx!==t&&this._onCurrentMarkerChanged.fire(e)},enumerable:!0,configurable:!0}),e.prototype.move=function(e,t){if(!this.canNavigate())return this._onCurrentMarkerChanged.fire(void 0),!t;var i=this._nextIdx,n=!1;if(-1===this._nextIdx?this._initIdx(e):e?t||this._nextIdx+1<this._markers.length?this._nextIdx=(this._nextIdx+1)%this._markers.length:n=!0:e||(t||this._nextIdx>0?this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length:n=!0),i!==this._nextIdx){var o=this._markers[this._nextIdx];this._onCurrentMarkerChanged.fire(o)}return n},e.prototype.canNavigate=function(){return this._markers.length>0},e.prototype.findMarkerAtPosition=function(e){return Object(ln.h)(this._markers,(function(t){return ne.a.containsPosition(t,e)}))},Object.defineProperty(e.prototype,"total",{get:function(){return this._markers.length},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return 1+this._markers.indexOf(e)},e.prototype.dispose=function(){this._toUnbind.dispose()},e}(),gr=function(){function e(e,t,i,n,o,r){this._markerService=t,this._contextKeyService=i,this._themeService=n,this._editorService=o,this._keybindingService=r,this._model=null,this._widget=null,this._disposeOnClose=new ee.b,this._editor=e,this._widgetVisible=yr.bindTo(this._contextKeyService)}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){this._cleanUp(),this._disposeOnClose.dispose()},e.prototype._cleanUp=function(){this._widgetVisible.reset(),this._disposeOnClose.clear(),this._widget=null,this._model=null},e.prototype.getOrCreateModel=function(){var e=this;if(this._model)return this._model;var t=this._getMarkers();this._model=new pr(this._editor,t),this._markerService.onMarkerChanged(this._onMarkerChanged,this,this._disposeOnClose);var i=this._keybindingService.lookupKeybinding(_r.ID),n=this._keybindingService.lookupKeybinding(mr.ID),o=[new fo.a(_r.ID,_r.LABEL+(i?" ("+i.getLabel()+")":""),"show-previous-problem codicon-chevron-up",this._model.canNavigate(),(function(){return dr(e,void 0,void 0,(function(){return hr(this,(function(e){return this._model&&this._model.move(!1,!0),[2]}))}))})),new fo.a(mr.ID,mr.LABEL+(n?" ("+n.getLabel()+")":""),"show-next-problem codicon-chevron-down",this._model.canNavigate(),(function(){return dr(e,void 0,void 0,(function(){return hr(this,(function(e){return this._model&&this._model.move(!0,!0),[2]}))}))}))];this._widget=new er(this._editor,o,this._themeService),this._widgetVisible.set(!0),this._widget.onDidClose((function(){return e.closeMarkersNavigation()}),this,this._disposeOnClose),this._disposeOnClose.add(this._model),this._disposeOnClose.add(this._widget);for(var r=0,s=o;r<s.length;r++){var a=s[r];this._disposeOnClose.add(a)}return this._disposeOnClose.add(this._widget.onDidSelectRelatedInformation((function(t){e._editorService.openCodeEditor({resource:t.resource,options:{pinned:!0,revealIfOpened:!0,selection:ne.a.lift(t).collapseToStart()}},e._editor).then(void 0,Ft.e),e.closeMarkersNavigation(!1)}))),this._disposeOnClose.add(this._editor.onDidChangeModel((function(){return e._cleanUp()}))),this._disposeOnClose.add(this._model.onCurrentMarkerChanged((function(t){t&&e._model?e._model.withoutWatchingEditorPosition((function(){e._widget&&e._model&&e._widget.showAtMarker(t,e._model.indexOf(t),e._model.total)})):e._cleanUp()}))),this._disposeOnClose.add(this._model.onMarkerSetChanged((function(){if(e._widget&&e._widget.position&&e._model){var t=e._model.findMarkerAtPosition(e._widget.position);t?e._widget.updateMarker(t):e._widget.showStale()}}))),this._model},e.prototype.closeMarkersNavigation=function(e){void 0===e&&(e=!0),this._cleanUp(),e&&this._editor.focus()},e.prototype.show=function(e){this.getOrCreateModel().currentMarker=e},e.prototype._onMarkerChanged=function(e){var t=this._editor.getModel();t&&this._model&&e.some((function(e){return Object(ro.e)(t.uri,e)}))&&this._model.setMarkers(this._getMarkers())},e.prototype._getMarkers=function(){var e=this._editor.getModel();return e?this._markerService.read({resource:e.uri,severities:oo.c.Error|oo.c.Warning|oo.c.Info}):[]},e.ID="editor.contrib.markerController",e=lr([ur(1,oo.b),ur(2,Ue.c),ur(3,ue.c),ur(4,we.a),ur(5,Li.a)],e)}(),fr=function(e){function t(t,i,n){var o=e.call(this,n)||this;return o._isNext=t,o._multiFile=i,o}return cr(t,e),t.prototype.run=function(e,i){var n=this,o=e.get(oo.b),r=e.get(we.a),s=gr.get(i);if(!s)return Promise.resolve(void 0);var a=s.getOrCreateModel();if(!a.move(this._isNext,!this._multiFile)||!this._multiFile)return Promise.resolve(void 0);var c=o.read({severities:oo.c.Error|oo.c.Warning|oo.c.Info}).sort(t.compareMarker);if(0===c.length)return Promise.resolve(void 0);var l=i.getModel();if(!l)return Promise.resolve(void 0);var u=a.currentMarker||{resource:l.uri,severity:oo.c.Error,startLineNumber:1,startColumn:1,endLineNumber:1,endColumn:1},d=Object(ln.c)(c,u,t.compareMarker);d<0?(d=~d,d%=c.length):d=this._isNext?(d+1)%c.length:(d+c.length-1)%c.length;var h=c[d];return Object(ro.e)(h.resource,l.uri)?(a.move(this._isNext,!0),Promise.resolve(void 0)):(s.closeMarkersNavigation(),r.openCodeEditor({resource:h.resource,options:{pinned:!1,revealIfOpened:!0,revealInCenterIfOutsideViewport:!0,selection:h}},i).then((function(e){if(e)return e.getAction(n.id).run()})))},t.compareMarker=function(e,t){var i=Object(Ne.e)(e.resource.toString(),t.resource.toString());return 0===i&&(i=oo.c.compare(e.severity,t.severity)),0===i&&(i=ne.a.compareRangesUsingStarts(e,t)),i},t}(te.b),mr=function(e){function t(){return e.call(this,!0,!1,{id:t.ID,label:t.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:re.a.writable,kbOpts:{kbExpr:re.a.editorTextFocus,primary:578,weight:100}})||this}return cr(t,e),t.ID="editor.action.marker.next",t.LABEL=Q.a("markerAction.next.label","Go to Next Problem (Error, Warning, Info)"),t}(fr),_r=function(e){function t(){return e.call(this,!1,!1,{id:t.ID,label:t.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:re.a.writable,kbOpts:{kbExpr:re.a.editorTextFocus,primary:1602,weight:100}})||this}return cr(t,e),t.ID="editor.action.marker.prev",t.LABEL=Q.a("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)"),t}(fr),br=function(e){function t(){return e.call(this,!0,!0,{id:"editor.action.marker.nextInFiles",label:Q.a("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:re.a.writable,kbOpts:{kbExpr:re.a.focus,primary:66,weight:100}})||this}return cr(t,e),t}(fr),vr=function(e){function t(){return e.call(this,!1,!0,{id:"editor.action.marker.prevInFiles",label:Q.a("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:re.a.writable,kbOpts:{kbExpr:re.a.focus,primary:1090,weight:100}})||this}return cr(t,e),t}(fr);Object(te.h)(gr.ID,gr),Object(te.f)(mr),Object(te.f)(_r),Object(te.f)(br),Object(te.f)(vr);var yr=new Ue.d("markersNavigationVisible",!1),wr=te.c.bindToContribution(gr.get);Object(te.g)(new wr({id:"closeMarkersNavigation",precondition:yr,handler:function(e){return e.closeMarkersNavigation()},kbOpts:{weight:150,kbExpr:re.a.focus,primary:9,secondary:[1033]}})),de.c.appendMenuItem(17,{group:"6_problem_nav",command:{id:"editor.action.marker.nextInFiles",title:Q.a({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem")},order:1}),de.c.appendMenuItem(17,{group:"6_problem_nav",command:{id:"editor.action.marker.prevInFiles",title:Q.a({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem")},order:2});var Cr=function(){function e(e){this.value=e}return e.prototype.equals=function(e){return this.value===e.value},e.prototype.contains=function(t){return this.equals(t)||""===this.value||Object(Ne.N)(t.value,this.value+e.sep)},e.prototype.intersects=function(e){return this.contains(e)||e.contains(this)},e.prototype.append=function(t){return new e(this.value+e.sep+t)},e.sep=".",e.None=new e("@@none@@"),e.Empty=new e(""),e.QuickFix=new e("quickfix"),e.Refactor=new e("refactor"),e.Source=new e("source"),e.SourceOrganizeImports=e.Source.append("organizeImports"),e.SourceFixAll=e.Source.append("fixAll"),e}();var Sr=function(){function e(e,t,i){this.kind=e,this.apply=t,this.preferred=i}return e.fromUser=function(t,i){return t&&"object"==typeof t?new e(e.getKindFromUser(t,i.kind),e.getApplyFromUser(t,i.apply),e.getPreferredUser(t)):new e(i.kind,i.apply,!1)},e.getApplyFromUser=function(e,t){switch("string"==typeof e.apply?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}},e.getKindFromUser=function(e,t){return"string"==typeof e.kind?new Cr(e.kind):t},e.getPreferredUser=function(e){return"boolean"==typeof e.preferred&&e.preferred},e}(),Or=i(399),kr=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),xr=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},Dr=function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},Ir=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<i;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n},Pr=function(e){function t(i,n){var o=e.call(this)||this;return o._register(n),o.allActions=Object(ln.q)(Ir(i),t.codeActionsComparator),o.validActions=o.allActions.filter((function(e){return!e.disabled})),o}return kr(t,e),t.codeActionsComparator=function(e,t){return Object(ln.p)(e.diagnostics)?Object(ln.p)(t.diagnostics)?e.diagnostics[0].message.localeCompare(t.diagnostics[0].message):-1:Object(ln.p)(t.diagnostics)?1:0},Object.defineProperty(t.prototype,"hasAutoFix",{get:function(){return this.validActions.some((function(e){return!!e.kind&&Cr.QuickFix.contains(new Cr(e.kind))&&!!e.isPreferred}))},enumerable:!0,configurable:!0}),t}(ee.a);function Er(e,t,i,n){var o,r=this,s=i.filter||{},a={only:null===(o=s.include)||void 0===o?void 0:o.value,trigger:"manual"===i.type?2:1},c=new Or.d(e,n),l=function(e,t){return fn.a.all(e).filter((function(e){return!e.providedCodeActionKinds||e.providedCodeActionKinds.some((function(e){return function(e,t){return!(e.include&&!e.include.intersects(t))&&!(!e.includeSourceActions&&Cr.Source.contains(t))}(t,new Cr(e))}))}))}(e,s),u=new ee.b,d=l.map((function(i){return xr(r,void 0,void 0,(function(){var n,o;return Dr(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.provideCodeActions(e,t,a,c.token)];case 1:return n=r.sent(),c.token.isCancellationRequested||!n?[2,[]]:(u.add(n),[2,n.actions.filter((function(e){return e&&function(e,t){var i=t.kind?new Cr(t.kind):void 0;return!!(!e.include||i&&e.include.contains(i))&&(!(e.excludes&&i&&e.excludes.some((function(t){return t.contains(i)&&(!e.include||!e.include.contains(i))})))&&(!(!e.includeSourceActions&&i&&Cr.Source.contains(i))&&!(e.onlyIncludePreferredActions&&!t.isPreferred)))}(s,e)}))]);case 2:if(o=r.sent(),Object(Ft.d)(o))throw o;return Object(Ft.f)(o),[2,[]];case 3:return[2]}}))}))})),h=fn.a.onDidChange((function(){var t=fn.a.all(e);Object(ln.g)(t,l)||c.cancel()}));return Promise.all(d).then(ln.l).then((function(e){return new Pr(e,u)})).finally((function(){h.dispose(),c.dispose()}))}Object(te.i)("_executeCodeActionProvider",(function(e,t){return xr(this,void 0,void 0,(function(){var i,n,o,r,s,a;return Dr(this,(function(c){switch(c.label){case 0:if(i=t.resource,n=t.rangeOrSelection,o=t.kind,!(i instanceof mn.a))throw Object(Ft.b)();if(!(r=e.get(_n.a).getModel(i)))throw Object(Ft.b)();if(!(s=oe.a.isISelection(n)?oe.a.liftSelection(n):ne.a.isIRange(n)?r.validateRange(n):void 0))throw Object(Ft.b)();return[4,Er(r,s,{type:"manual",filter:{includeSourceActions:!0,include:o&&o.value?new Cr(o.value):void 0}},cn.a.None)];case 1:return a=c.sent(),setTimeout((function(){return a.dispose()}),100),[2,a.validActions]}}))}))}));var Mr=function(){function e(e){this.executor=e,this._didRun=!1}return e.prototype.getValue=function(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value},Object.defineProperty(e.prototype,"rawValue",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}(),Nr=i(454),Rr=(i(1096),function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}()),jr=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Tr=function(e,t){return function(i,n){t(i,n,e)}},Ar=function(e){function t(i,n){var o=e.call(this)||this;return o.closeTimeout=3e3,o._messageWidget=o._register(new ee.d),o._messageListeners=o._register(new ee.b),o._editor=i,o._visible=t.MESSAGE_VISIBLE.bindTo(n),o._register(o._editor.onDidAttemptReadOnlyEdit((function(){return o._onDidAttemptReadOnlyEdit()}))),o}return Rr(t,e),t.get=function(e){return e.getContribution(t.ID)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._visible.reset()},t.prototype.showMessage=function(e,t){var i,n=this;Object(Tt.a)(e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new Lr(this._editor,t,e),this._messageListeners.add(this._editor.onDidBlurEditorText((function(){return n.closeMessage()}))),this._messageListeners.add(this._editor.onDidChangeCursorPosition((function(){return n.closeMessage()}))),this._messageListeners.add(this._editor.onDidDispose((function(){return n.closeMessage()}))),this._messageListeners.add(this._editor.onDidChangeModel((function(){return n.closeMessage()}))),this._messageListeners.add(new X.e((function(){return n.closeMessage()}),this.closeTimeout)),this._messageListeners.add(this._editor.onMouseMove((function(e){e.target.position&&(i?i.containsPosition(e.target.position)||n.closeMessage():i=new ne.a(t.lineNumber-3,1,e.target.position.lineNumber+3,1))})))},t.prototype.closeMessage=function(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(Lr.fadeOut(this._messageWidget.value))},t.prototype._onDidAttemptReadOnlyEdit=function(){this._editor.hasModel()&&this.showMessage(Q.a("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())},t.ID="editor.contrib.messageController",t.MESSAGE_VISIBLE=new Ue.d("messageVisible",!1),t=jr([Tr(1,Ue.c)],t)}(ee.a),Fr=te.c.bindToContribution(Ar.get);Object(te.g)(new Fr({id:"leaveEditorMessage",precondition:Ar.MESSAGE_VISIBLE,handler:function(e){return e.closeMessage()},kbOpts:{weight:130,primary:9}}));var Lr=function(){function e(e,t,i){var n=t.lineNumber,o=t.column;this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(n,n,0),this._position={lineNumber:n,column:o-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");var r=document.createElement("div");r.classList.add("message"),r.textContent=i,this._domNode.appendChild(r);var s=document.createElement("div");s.classList.add("anchor"),this._domNode.appendChild(s),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}return e.fadeOut=function(e){var t,i=function(){e.dispose(),clearTimeout(t),e.getDomNode().removeEventListener("animationend",i)};return t=setTimeout(i,110),e.getDomNode().addEventListener("animationend",i),e.getDomNode().classList.add("fadeOut"),{dispose:i}},e.prototype.dispose=function(){this._editor.removeContentWidget(this)},e.prototype.getId=function(){return"messageoverlay"},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return{position:this._position,preference:[1,2]}},e}();Object(te.h)(Ar.ID,Ar),Object(ue.e)((function(e,t){var i=e.getColor(le.fb);if(i){var n=e.type===ue.b?2:1;t.addRule(".monaco-editor .monaco-editor-overlaymessage .anchor { border-top-color: "+i+"; }"),t.addRule(".monaco-editor .monaco-editor-overlaymessage .message { border: "+n+"px solid "+i+"; }")}var o=e.getColor(le.eb);o&&t.addRule(".monaco-editor .monaco-editor-overlaymessage .message { background-color: "+o+"; }");var r=e.getColor(le.gb);r&&t.addRule(".monaco-editor .monaco-editor-overlaymessage .message { color: "+r+"; }")}));var Vr,Br=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Wr=function(){return(Wr=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Hr=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},zr=function(e,t){return function(i,n){t(i,n,e)}},Kr=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},Ur=function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},qr=function(e){function t(t,i){var n=e.call(this,t.command?t.command.id:t.title,t.title,void 0,!t.disabled,i)||this;return n.action=t,n}return Br(t,e),t}(fo.a),Gr=function(e){function t(t,i,n,o){var r=e.call(this)||this;return r._editor=t,r._delegate=i,r._contextMenuService=n,r._visible=!1,r._showingActions=r._register(new ee.d),r._keybindingResolver=new Zr({getKeybindings:function(){return o.getKeybindings()}}),r}return Br(t,e),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this._visible},enumerable:!0,configurable:!0}),t.prototype.show=function(e,t,i){return Kr(this,void 0,void 0,(function(){var n,o,r,s,a=this;return Ur(this,(function(c){if(!(n=i.includeDisabledActions?e.allActions:e.validActions).length)return this._visible=!1,[2];if(!this._editor.getDomNode())throw this._visible=!1,Object(Ft.a)();return this._visible=!0,this._showingActions.value=e,o=n.map((function(e){return new qr(e,(function(){return a._delegate.onSelectCodeAction(e)}))})),r=ie.a.isIPosition(t)?this._toCoords(t):t||{x:0,y:0},s=this._keybindingResolver.getResolver(),this._contextMenuService.showContextMenu({getAnchor:function(){return r},getActions:function(){return o},onHide:function(){a._visible=!1,a._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:function(e){return e instanceof qr?s(e.action):void 0}}),[2]}))}))},t.prototype._toCoords=function(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();var t=this._editor.getScrolledVisiblePosition(e),i=Object(ft.A)(this._editor.getDomNode());return{x:i.left+t.left,y:i.top+t.top+t.height}},t=Hr([zr(2,Ai.a),zr(3,Li.a)],t)}(ee.a),Zr=function(){function e(e){this._keybindingProvider=e}return e.prototype.getResolver=function(){var t=this,i=new Mr((function(){return t._keybindingProvider.getKeybindings().filter((function(t){return e.codeActionCommands.indexOf(t.command)>=0})).filter((function(e){return e.resolvedKeybinding})).map((function(e){var t=e.commandArgs;return"editor.action.organizeImports"===e.command?t={kind:Cr.SourceOrganizeImports.value}:"editor.action.fixAll"===e.command&&(t={kind:Cr.SourceFixAll.value}),Wr({resolvedKeybinding:e.resolvedKeybinding},Sr.fromUser(t,{kind:Cr.None,apply:"never"}))}))}));return function(e){var n;if(e.kind)return null===(n=t.bestKeybindingForCodeAction(e,i.getValue()))||void 0===n?void 0:n.resolvedKeybinding}},e.prototype.bestKeybindingForCodeAction=function(e,t){if(e.kind){var i=new Cr(e.kind);return t.filter((function(e){return e.kind.contains(i)})).filter((function(t){return!t.preferred||e.isPreferred})).reduceRight((function(e,t){return e?e.kind.contains(t.kind)?t:e:t}),void 0)}},e.codeActionCommands=["editor.action.refactor","editor.action.codeAction","editor.action.sourceAction","editor.action.organizeImports","editor.action.fixAll"],e}(),$r=(i(1097),i(55)),Yr=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Jr=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Qr=function(e,t){return function(i,n){t(i,n,e)}};!function(e){e.Hidden={type:0};var t=function(e,t,i){this.actions=e,this.editorPosition=t,this.widgetPosition=i,this.type=1};e.Showing=t}(Vr||(Vr={}));var Xr=function(e){function t(t,i,n,o){var r=e.call(this)||this;return r._editor=t,r._quickFixActionId=i,r._preferredFixActionId=n,r._keybindingService=o,r._onClick=r._register(new bt.a),r.onClick=r._onClick.event,r._state=Vr.Hidden,r._domNode=document.createElement("div"),r._domNode.className="codicon codicon-lightbulb",r._editor.addContentWidget(r),r._register(r._editor.onDidChangeModelContent((function(e){var t=r._editor.getModel();(1!==r.state.type||!t||r.state.editorPosition.lineNumber>=t.getLineCount())&&r.hide()}))),$r.b.ignoreTarget(r._domNode),r._register(ft.m(r._domNode,(function(e){if(1===r.state.type){r._editor.focus(),e.preventDefault();var t=ft.A(r._domNode),i=t.top,n=t.height,o=r._editor.getOption(47),s=Math.floor(o/3);null!==r.state.widgetPosition.position&&r.state.widgetPosition.position.lineNumber<r.state.editorPosition.lineNumber&&(s+=o),r._onClick.fire({x:e.posx,y:i+n+s,actions:r.state.actions})}}))),r._register(ft.i(r._domNode,"mouseenter",(function(e){if(1==(1&e.buttons)){r.hide();var t=new xn.a;t.startMonitoring(xn.b,(function(){}),(function(){t.dispose()}))}}))),r._register(r._editor.onDidChangeConfiguration((function(e){e.hasChanged(45)&&!r._editor.getOption(45).enabled&&r.hide()}))),r._updateLightBulbTitle(),r._register(r._keybindingService.onDidUpdateKeybindings(r._updateLightBulbTitle,r)),r}return Yr(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._editor.removeContentWidget(this)},t.prototype.getId=function(){return"LightBulbWidget"},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return 1===this._state.type?this._state.widgetPosition:null},t.prototype.update=function(e,i){var n=this;if(e.validActions.length<=0)return this.hide();var o=this._editor.getOptions();if(!o.get(45).enabled)return this.hide();var r=i.lineNumber,s=i.column,a=this._editor.getModel();if(!a)return this.hide();var c=a.getOptions().tabSize,l=o.get(32),u=a.getLineContent(r),d=ae.b.computeIndentLevel(u,c),h=function(e){return e>2&&n._editor.getTopForLineNumber(e)===n._editor.getTopForLineNumber(e-1)},p=r;if(!(l.spaceWidth*d>22))if(r>1&&!h(r-1))p-=1;else if(h(r+1)){if(s*l.spaceWidth<22)return this.hide()}else p+=1;this.state=new Vr.Showing(e,i,{position:{lineNumber:p,column:1},preference:t._posPref}),ft.U(this._domNode,"codicon-lightbulb-autofix",e.hasAutoFix),this._editor.layoutContentWidget(this)},t.prototype.hide=function(){this.state=Vr.Hidden,this._editor.layoutContentWidget(this)},Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(e){this._state=e,this._updateLightBulbTitle()},enumerable:!0,configurable:!0}),t.prototype._updateLightBulbTitle=function(){if(1===this.state.type&&this.state.actions.hasAutoFix){var e=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(e)return void(this.title=Q.a("prefferedQuickFixWithKb","Show Fixes. Preferred Fix Available ({0})",e.getLabel()))}var t=this._keybindingService.lookupKeybinding(this._quickFixActionId);this.title=t?Q.a("quickFixWithKb","Show Fixes ({0})",t.getLabel()):Q.a("quickFix","Show Fixes")},Object.defineProperty(t.prototype,"title",{set:function(e){this._domNode.title=e},enumerable:!0,configurable:!0}),t._posPref=[0],t=Jr([Qr(3,Li.a)],t)}(ee.a);Object(ue.e)((function(e,t){var i=e.getColor(le.J);i&&t.addRule("\n\t\t.monaco-editor .contentWidgets .codicon-lightbulb,\n\t\t.monaco-workbench .markers-panel-container .codicon-lightbulb {\n\t\t\tcolor: "+i+";\n\t\t}");var n=e.getColor(le.I);n&&t.addRule("\n\t\t.monaco-editor .contentWidgets .codicon-lightbulb-autofix,\n\t\t.monaco-workbench .markers-panel-container .codicon-lightbulb-autofix {\n\t\t\tcolor: "+n+";\n\t\t}")}));var es,ts=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),is=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},ns=function(e,t){return function(i,n){t(i,n,e)}},os=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},rs=function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},ss=function(e){function t(t,i,n,o,r){var s=e.call(this)||this;return s._editor=t,s.delegate=o,s._activeCodeActions=s._register(new ee.d),s._codeActionWidget=new Mr((function(){return s._register(r.createInstance(Gr,s._editor,{onSelectCodeAction:function(e){return os(s,void 0,void 0,(function(){return rs(this,(function(t){return this.delegate.applyCodeAction(e,!0),[2]}))}))}}))})),s._lightBulbWidget=new Mr((function(){var e=s._register(r.createInstance(Xr,s._editor,i,n));return s._register(e.onClick((function(e){return s.showCodeActionList(e.actions,e,{includeDisabledActions:!1})}))),e})),s}return ts(t,e),t.prototype.update=function(e){var t,i,n;return os(this,void 0,void 0,(function(){var o,r,s,a,c;return rs(this,(function(l){switch(l.label){case 0:if(1!==e.type)return null===(t=this._lightBulbWidget.rawValue)||void 0===t||t.hide(),[2];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,e.actions];case 2:return o=l.sent(),[3,4];case 3:return r=l.sent(),Object(Ft.e)(r),[2];case 4:if(this._lightBulbWidget.getValue().update(o,e.position),"manual"!==e.trigger.type)return[3,11];if(!(null===(i=e.trigger.filter)||void 0===i?void 0:i.include))return[3,10];if(!(s=this.tryGetValidActionToApply(e.trigger,o)))return[3,9];l.label=5;case 5:return l.trys.push([5,,7,8]),[4,this.delegate.applyCodeAction(s,!1)];case 6:return l.sent(),[3,8];case 7:return o.dispose(),[7];case 8:return[2];case 9:if(e.trigger.context&&(a=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,o))&&a.disabled)return Ar.get(this._editor).showMessage(a.disabled,e.trigger.context.position),o.dispose(),[2];l.label=10;case 10:return c=!!(null===(n=e.trigger.filter)||void 0===n?void 0:n.include),!e.trigger.context||o.allActions.length&&(c||o.validActions.length)?(this._activeCodeActions.value=o,this._codeActionWidget.getValue().show(o,e.position,{includeDisabledActions:c}),[3,12]):(Ar.get(this._editor).showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=o,o.dispose(),[2]);case 11:this._codeActionWidget.getValue().isVisible?o.dispose():this._activeCodeActions.value=o,l.label=12;case 12:return[2]}}))}))},t.prototype.getInvalidActionThatWouldHaveBeenApplied=function(e,t){if(t.allActions.length)return"first"===e.autoApply&&0===t.validActions.length||"ifSingle"===e.autoApply&&1===t.allActions.length?Object(ln.h)(t.allActions,(function(e){return e.disabled})):void 0},t.prototype.tryGetValidActionToApply=function(e,t){if(t.validActions.length)return"first"===e.autoApply&&t.validActions.length>0||"ifSingle"===e.autoApply&&1===t.validActions.length?t.validActions[0]:void 0},t.prototype.showCodeActionList=function(e,t,i){return os(this,void 0,void 0,(function(){return rs(this,(function(n){return this._codeActionWidget.getValue().show(e,t,i),[2]}))}))},t=is([ns(4,Fi.a)],t)}(ee.a),as=i(198),cs=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ls=new Ue.d("supportedCodeAction",""),us=function(e){function t(t,i,n,o){void 0===o&&(o=250);var r=e.call(this)||this;return r._editor=t,r._markerService=i,r._signalChange=n,r._delay=o,r._autoTriggerTimer=r._register(new X.e),r._register(r._markerService.onMarkerChanged((function(e){return r._onMarkerChanges(e)}))),r._register(r._editor.onDidChangeCursorPosition((function(){return r._onCursorChange()}))),r}return cs(t,e),t.prototype.trigger=function(e){var t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);return this._createEventAndSignalChange(e,t)},t.prototype._onMarkerChanges=function(e){var t=this,i=this._editor.getModel();i&&e.some((function(e){return Object(ro.e)(e,i.uri)}))&&this._autoTriggerTimer.cancelAndSet((function(){t.trigger({type:"auto"})}),this._delay)},t.prototype._onCursorChange=function(){var e=this;this._autoTriggerTimer.cancelAndSet((function(){e.trigger({type:"auto"})}),this._delay)},t.prototype._getRangeOfMarker=function(e){var t=this._editor.getModel();if(t)for(var i=0,n=this._markerService.read({resource:t.uri});i<n.length;i++){var o=n[i],r=t.validateRange(o);if(ne.a.intersectRanges(r,e))return ne.a.lift(r)}},t.prototype._getRangeOfSelectionUnlessWhitespaceEnclosed=function(e){if(this._editor.hasModel()){var t=this._editor.getModel(),i=this._editor.getSelection();if(i.isEmpty()&&"auto"===e.type){var n=i.getPosition(),o=n.lineNumber,r=n.column,s=t.getLineContent(o);if(0===s.length)return;if(1===r){if(/\s/.test(s[0]))return}else if(r===t.getLineMaxColumn(o)){if(/\s/.test(s[s.length-1]))return}else if(/\s/.test(s[r-2])&&/\s/.test(s[r-1]))return}return i}},t.prototype._createEventAndSignalChange=function(e,t){var i=this._editor.getModel();if(t&&i){var n=this._getRangeOfMarker(t),o=n?n.getStartPosition():t.getStartPosition(),r={trigger:e,selection:t,position:o};return this._signalChange(r),r}this._signalChange(void 0)},t}(ee.a);!function(e){e.Empty={type:0};var t=function(e,t,i,n){this.trigger=e,this.rangeOrSelection=t,this.position=i,this.actions=n,this.type=1};e.Triggered=t}(es||(es={}));var ds=function(e){function t(t,i,n,o){var r=e.call(this)||this;return r._editor=t,r._markerService=i,r._progressService=o,r._codeActionOracle=r._register(new ee.d),r._state=es.Empty,r._onDidChangeState=r._register(new bt.a),r.onDidChangeState=r._onDidChangeState.event,r._supportedCodeActions=ls.bindTo(n),r._register(r._editor.onDidChangeModel((function(){return r._update()}))),r._register(r._editor.onDidChangeModelLanguage((function(){return r._update()}))),r._register(fn.a.onDidChange((function(){return r._update()}))),r._update(),r}return cs(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.setState(es.Empty,!0)},t.prototype._update=function(){var e=this;this._codeActionOracle.value=void 0,this.setState(es.Empty);var t=this._editor.getModel();if(t&&fn.a.has(t)&&!this._editor.getOption(65)){for(var i=[],n=0,o=fn.a.all(t);n<o.length;n++){var r=o[n];Array.isArray(r.providedCodeActionKinds)&&i.push.apply(i,r.providedCodeActionKinds)}this._supportedCodeActions.set(i.join(" ")),this._codeActionOracle.value=new us(this._editor,this._markerService,(function(i){if(i){var n=Object(X.f)((function(e){return Er(t,i.selection,i.trigger,e)}));e._progressService&&"manual"===i.trigger.type&&e._progressService.showWhile(n,250),e.setState(new es.Triggered(i.trigger,i.selection,i.position,n))}else e.setState(es.Empty)}),void 0),this._codeActionOracle.value.trigger({type:"auto"})}else this._supportedCodeActions.reset()},t.prototype.trigger=function(e){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(e)},t.prototype.setState=function(e,t){e!==this._state&&(1===this._state.type&&this._state.actions.cancel(),this._state=e,t||this._onDidChangeState.fire(e))},t}(ee.a),hs=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ps=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},gs=function(e,t){return function(i,n){t(i,n,e)}},fs=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},ms=function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},_s=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<i;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n};function bs(e){return Ue.a.regex(ls.keys()[0],new RegExp("(\\s|^)"+Object(Ne.p)(e.value)+"\\b"))}var vs={type:"object",required:["kind"],defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:Q.a("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:Q.a("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[Q.a("args.schema.apply.first","Always apply the first returned code action."),Q.a("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),Q.a("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:Q.a("args.schema.preferred","Controls if only preferred code actions should be returned.")}}},ys=function(e){function t(t,i,n,o,r,s,a,c,l){var u=e.call(this)||this;return u._commandService=a,u._bulkEditService=c,u._instantiationService=l,u._editor=t,u._model=u._register(new ds(u._editor,i,n,o)),u._register(u._model.onDidChangeState((function(e){return u.update(e)}))),u._ui=new Mr((function(){return u._register(new ss(t,Ss.Id,Os.Id,{applyCodeAction:function(e,t){return fs(u,void 0,void 0,(function(){return ms(this,(function(i){switch(i.label){case 0:return i.trys.push([0,,2,3]),[4,this._applyCodeAction(e)];case 1:return i.sent(),[3,3];case 2:return t&&this._trigger({type:"auto",filter:{}}),[7];case 3:return[2]}}))}))}},u._instantiationService))})),u}return hs(t,e),t.get=function(e){return e.getContribution(t.ID)},t.prototype.update=function(e){this._ui.getValue().update(e)},t.prototype.showCodeActions=function(e,t){return this._ui.getValue().showCodeActionList(e,t,{includeDisabledActions:!1})},t.prototype.manualTriggerAtCurrentPosition=function(e,t,i){if(this._editor.hasModel()){Ar.get(this._editor).closeMessage();var n=this._editor.getPosition();this._trigger({type:"manual",filter:t,autoApply:i,context:{notAvailableMessage:e,position:n}})}},t.prototype._trigger=function(e){return this._model.trigger(e)},t.prototype._applyCodeAction=function(e){return this._instantiationService.invokeFunction(ws,e,this._bulkEditService,this._commandService,this._editor)},t.ID="editor.contrib.quickFixController",t=ps([gs(1,oo.b),gs(2,Ue.c),gs(3,as.a),gs(4,Ai.a),gs(5,Li.a),gs(6,mo.b),gs(7,Nr.a),gs(8,Fi.a)],t)}(ee.a);function ws(e,t,i,n,o){return fs(this,void 0,void 0,(function(){var r,s,a;return ms(this,(function(c){switch(c.label){case 0:return r=e.get(Bi.a),t.edit?[4,i.apply(t.edit,{editor:o})]:[3,2];case 1:c.sent(),c.label=2;case 2:if(!t.command)return[3,6];c.label=3;case 3:return c.trys.push([3,5,,6]),[4,n.executeCommand.apply(n,_s([t.command.id],t.command.arguments||[]))];case 4:return c.sent(),[3,6];case 5:return s=c.sent(),a="string"==typeof(l=s)?l:l instanceof Error&&"string"==typeof l.message?l.message:void 0,r.error("string"==typeof a?a:Q.a("applyCodeActionFailed","An unknown error occurred while applying the code action")),[3,6];case 6:return[2]}var l}))}))}function Cs(e,t,i,n){if(e.hasModel()){var o=ys.get(e);o&&o.manualTriggerAtCurrentPosition(t,i,n)}}var Ss=function(e){function t(){return e.call(this,{id:t.Id,label:Q.a("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:Ue.a.and(re.a.writable,re.a.hasCodeActionsProvider),kbOpts:{kbExpr:re.a.editorTextFocus,primary:2132,weight:100}})||this}return hs(t,e),t.prototype.run=function(e,t){return Cs(t,Q.a("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)},t.Id="editor.action.quickFix",t}(te.b),Os=(function(e){function t(){return e.call(this,{id:"editor.action.codeAction",precondition:Ue.a.and(re.a.writable,re.a.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:vs}]}})||this}hs(t,e),t.prototype.runEditorCommand=function(e,t,i){var n,o=Sr.fromUser(i,{kind:Cr.Empty,apply:"ifSingle"});return Cs(t,"string"==typeof(null===(n=i)||void 0===n?void 0:n.kind)?o.preferred?Q.a("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",i.kind):Q.a("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",i.kind):o.preferred?Q.a("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):Q.a("editor.action.codeAction.noneMessage","No code actions available"),{include:o.kind,includeSourceActions:!0,onlyIncludePreferredActions:o.preferred},o.apply)}}(te.c),function(e){function t(){return e.call(this,{id:"editor.action.refactor",label:Q.a("refactor.label","Refactor..."),alias:"Refactor...",precondition:Ue.a.and(re.a.writable,re.a.hasCodeActionsProvider),kbOpts:{kbExpr:re.a.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:Ue.a.and(re.a.writable,bs(Cr.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:vs}]}})||this}hs(t,e),t.prototype.run=function(e,t,i){var n,o=Sr.fromUser(i,{kind:Cr.Refactor,apply:"never"});return Cs(t,"string"==typeof(null===(n=i)||void 0===n?void 0:n.kind)?o.preferred?Q.a("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",i.kind):Q.a("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",i.kind):o.preferred?Q.a("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):Q.a("editor.action.refactor.noneMessage","No refactorings available"),{include:Cr.Refactor.contains(o.kind)?o.kind:Cr.None,onlyIncludePreferredActions:o.preferred},o.apply)}}(te.b),function(e){function t(){return e.call(this,{id:"editor.action.sourceAction",label:Q.a("source.label","Source Action..."),alias:"Source Action...",precondition:Ue.a.and(re.a.writable,re.a.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:Ue.a.and(re.a.writable,bs(Cr.Source))},description:{description:"Source Action...",args:[{name:"args",schema:vs}]}})||this}hs(t,e),t.prototype.run=function(e,t,i){var n,o=Sr.fromUser(i,{kind:Cr.Source,apply:"never"});return Cs(t,"string"==typeof(null===(n=i)||void 0===n?void 0:n.kind)?o.preferred?Q.a("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",i.kind):Q.a("editor.action.source.noneMessage.kind","No source actions for '{0}' available",i.kind):o.preferred?Q.a("editor.action.source.noneMessage.preferred","No preferred source actions available"):Q.a("editor.action.source.noneMessage","No source actions available"),{include:Cr.Source.contains(o.kind)?o.kind:Cr.None,includeSourceActions:!0,onlyIncludePreferredActions:o.preferred},o.apply)}}(te.b),function(e){function t(){return e.call(this,{id:"editor.action.organizeImports",label:Q.a("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:Ue.a.and(re.a.writable,bs(Cr.SourceOrganizeImports)),kbOpts:{kbExpr:re.a.editorTextFocus,primary:1581,weight:100}})||this}hs(t,e),t.prototype.run=function(e,t){return Cs(t,Q.a("editor.action.organize.noneMessage","No organize imports action available"),{include:Cr.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}(te.b),function(e){function t(){return e.call(this,{id:"editor.action.fixAll",label:Q.a("fixAll.label","Fix All"),alias:"Fix All",precondition:Ue.a.and(re.a.writable,bs(Cr.SourceFixAll))})||this}hs(t,e),t.prototype.run=function(e,t){return Cs(t,Q.a("fixAll.noneMessage","No fix all action available"),{include:Cr.SourceFixAll,includeSourceActions:!0},"ifSingle")}}(te.b),function(e){function t(){return e.call(this,{id:t.Id,label:Q.a("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:Ue.a.and(re.a.writable,bs(Cr.QuickFix)),kbOpts:{kbExpr:re.a.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})||this}return hs(t,e),t.prototype.run=function(e,t){return Cs(t,Q.a("editor.action.autoFix.noneMessage","No auto fixes available"),{include:Cr.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")},t.Id="editor.action.autoFix",t}(te.b)),ks=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),xs=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<i;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n},Ds=ft.a,Is=function(e,t,i){this.range=e,this.color=t,this.provider=i},Ps=function(e,t){this.range=e,this.marker=t},Es=function(){function e(e,t){this._markerDecorationsService=t,this._editor=e,this._result=[]}return e.prototype.setRange=function(e){this._range=e,this._result=[]},e.prototype.clearResult=function(){this._result=[]},e.prototype.computeAsync=function(e){if(!this._editor.hasModel()||!this._range)return Promise.resolve([]);var t=this._editor.getModel();return fn.m.has(t)?An(t,new ie.a(this._range.startLineNumber,this._range.startColumn),e):Promise.resolve([])},e.prototype.computeSync=function(){var e=this;if(!this._editor.hasModel()||!this._range)return[];var t=this._editor.getModel(),i=this._range.startLineNumber;if(i>this._editor.getModel().getLineCount())return[];var n=On.get(this._editor),o=t.getLineMaxColumn(i),r=this._editor.getLineDecorations(i),s=!1,a=this._range,c=r.map((function(r){var c=r.range.startLineNumber===i?r.range.startColumn:1,l=r.range.endLineNumber===i?r.range.endColumn:o;if(c>a.startColumn||a.endColumn>l)return null;var u=new ne.a(a.startLineNumber,c,a.startLineNumber,l),d=e._markerDecorationsService.getMarker(t,r);if(d)return new Ps(u,d);var h=n.getColorData(r.range.getStartPosition());if(!s&&h){s=!0;var p=h.colorInfo,g=p.color,f=p.range;return new Is(f,g,h.provider)}return dn(r.options.hoverMessage)?null:{contents:r.options.hoverMessage?Object(ln.b)(r.options.hoverMessage):[],range:u}}));return Object(ln.d)(c)},e.prototype.onResult=function(e,t){this._result=t?e.concat(this._result.sort((function(e,t){return e instanceof Is?-1:t instanceof Is?1:0}))):this._result.concat(e)},e.prototype.getResult=function(){return this._result.slice(0)},e.prototype.getResultWithLoadingMessage=function(){return this._result.slice(0).concat([this._getLoadingMessage()])},e.prototype._getLoadingMessage=function(){return{range:this._range,contents:[(new un).appendText(Q.a("modesContentHover.loading","Loading..."))]}},e}(),Ms=function(e){function t(i,n,o,r,s,a){void 0===a&&(a=Qn.b);var c=e.call(this,t.ID,i)||this;return c._themeService=o,c._keybindingService=r,c._modeService=s,c._openerService=a,c.renderDisposable=c._register(new ee.d),c._messages=[],c._lastRange=null,c._computer=new Es(c._editor,n),c._highlightDecorations=[],c._isChangingDecorations=!1,c._shouldFocus=!1,c._colorPicker=null,c._hoverOperation=new Ln(c._computer,(function(e){return c._withResult(e,!0)}),null,(function(e){return c._withResult(e,!1)}),c._editor.getOption(42).delay),c._register(ft.n(c.getDomNode(),ft.c.FOCUS,(function(){c._colorPicker&&ft.e(c.getDomNode(),"colorpicker-hover")}))),c._register(ft.n(c.getDomNode(),ft.c.BLUR,(function(){ft.L(c.getDomNode(),"colorpicker-hover")}))),c._register(i.onDidChangeConfiguration((function(e){c._hoverOperation.setHoverTime(c._editor.getOption(42).delay)}))),c._register(fn.y.onDidChange((function(e){c.isVisible&&c._lastRange&&c._messages.length>0&&(c._domNode.textContent="",c._renderMessages(c._lastRange,c._messages))}))),c}return ks(t,e),t.prototype.dispose=function(){this._hoverOperation.cancel(),e.prototype.dispose.call(this)},t.prototype.onModelDecorationsChanged=function(){this._isChangingDecorations||this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))},t.prototype.startShowingAt=function(e,t,i){if(!this._lastRange||!this._lastRange.equalsRange(e)){if(this._hoverOperation.cancel(),this.isVisible)if(this._showAtPosition&&this._showAtPosition.lineNumber===e.startLineNumber){for(var n=[],o=0,r=this._messages.length;o<r;o++){var s=this._messages[o],a=s.range;a&&a.startColumn<=e.startColumn&&a.endColumn>=e.endColumn&&n.push(s)}if(n.length>0){if(function(e,t){if(!e&&t||e&&!t||e.length!==t.length)return!1;for(var i=0;i<e.length;i++){var n=e[i],o=t[i];if(n instanceof Ps&&o instanceof Ps)return oo.a.makeKey(n.marker)===oo.a.makeKey(o.marker);if(n instanceof Is||o instanceof Is)return!1;if(n instanceof Ps||o instanceof Ps)return!1;if(r=n.contents,s=o.contents,!(!r&&!s||r&&s&&(Array.isArray(r)&&Array.isArray(s)?Object(ln.g)(r,s,pn):hn(r)&&hn(s)&&pn(r,s))))return!1}var r,s;return!0}(n,this._messages))return;this._renderMessages(e,n)}else this.hide()}else this.hide();this._lastRange=e,this._computer.setRange(e),this._shouldFocus=i,this._hoverOperation.start(t)}},t.prototype.hide=function(){this._lastRange=null,this._hoverOperation.cancel(),e.prototype.hide.call(this),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this.renderDisposable.clear(),this._colorPicker=null},t.prototype.isColorPickerVisible=function(){return!!this._colorPicker},t.prototype._withResult=function(e,t){this._messages=e,this._lastRange&&this._messages.length>0?this._renderMessages(this._lastRange,this._messages):t&&this.hide()},t.prototype._renderMessages=function(e,i){var n=this;this.renderDisposable.dispose(),this._colorPicker=null;var o=1073741824,r=i[0].range?ne.a.lift(i[0].range):null,s=document.createDocumentFragment(),a=!0,c=!1,l=new ee.b,u=[];if(i.forEach((function(e){if(e.range)if(o=Math.min(o,e.range.startColumn),r=r?ne.a.plusRange(r,e.range):ne.a.lift(e.range),e instanceof Is){c=!0;var t=e.color,i=t.red,d=t.green,h=t.blue,p=t.alpha,g=new _t.c(Math.round(255*i),Math.round(255*d),Math.round(255*h),p),f=new _t.a(g);if(!n._editor.hasModel())return;var m=n._editor.getModel(),_=new ne.a(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn),b={range:e.range,color:e.color},v=new kn(f,[],0),y=new Tn(s,v,n._editor.getOption(101),n._themeService);bn(m,b,e.provider,cn.a.None).then((function(t){if(v.colorPresentations=t||[],n._editor.hasModel()){var i=n._editor.getModel().getValueInRange(e.range);v.guessColorPresentation(f,i);var o=function(){var e,t;v.presentation.textEdit?(e=[v.presentation.textEdit],t=(t=new ne.a(v.presentation.textEdit.range.startLineNumber,v.presentation.textEdit.range.startColumn,v.presentation.textEdit.range.endLineNumber,v.presentation.textEdit.range.endColumn)).setEndPosition(t.endLineNumber,t.startColumn+v.presentation.textEdit.text.length)):(e=[{identifier:null,range:_,text:v.presentation.label,forceMoveMarkers:!1}],t=_.setEndPosition(_.endLineNumber,_.startColumn+v.presentation.label.length)),n._editor.pushUndoStop(),n._editor.executeEdits("colorpicker",e),v.presentation.additionalTextEdits&&(e=xs(v.presentation.additionalTextEdits),n._editor.executeEdits("colorpicker",e),n.hide()),n._editor.pushUndoStop(),_=t},r=function(t){return bn(m,{range:_,color:{red:t.rgba.r/255,green:t.rgba.g/255,blue:t.rgba.b/255,alpha:t.rgba.a}},e.provider,cn.a.None).then((function(e){v.colorPresentations=e||[]}))},a=v.onColorFlushed((function(e){r(e).then(o)})),c=v.onDidChangeColor(r);n._colorPicker=y,n.showAt(_.getStartPosition(),_,n._shouldFocus),n.updateContents(s),n._colorPicker.layout(),n.renderDisposable.value=Object(ee.e)(a,c,y,l)}}))}else e instanceof Ps?(u.push(e),a=!1):e.contents.filter((function(e){return!dn(e)})).forEach((function(e){var t=Ds("div.hover-row.markdown-hover"),i=ft.p(t,Ds("div.hover-contents")),o=l.add(new no(n._editor,n._modeService,n._openerService));l.add(o.onDidRenderCodeBlock((function(){i.className="hover-contents code-hover-contents",n.onContentsChange()})));var r=l.add(o.render(e));i.appendChild(r.element),s.appendChild(t),a=!1}))})),u.length){u.forEach((function(e){return s.appendChild(n.renderMarkerHover(e))}));var d=1===u.length?u[0]:u.sort((function(e,t){return oo.c.compare(e.marker.severity,t.marker.severity)}))[0];s.appendChild(this.renderMarkerStatusbar(d))}c||a||(this.showAt(new ie.a(e.startLineNumber,o),r,this._shouldFocus),this.updateContents(s)),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,r?[{range:r,options:t._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1},t.prototype.renderMarkerHover=function(e){var t=this,i=Ds("div.hover-row"),n=ft.p(i,Ds("div.marker.hover-contents")),o=e.marker,r=o.source,s=o.message,a=o.code,c=o.relatedInformation;this._editor.applyFontInfo(n);var l=ft.p(n,Ds("span"));if(l.style.whiteSpace="pre-wrap",l.innerText=s,r||a){var u=ft.p(n,Ds("span"));u.style.opacity="0.6",u.style.paddingLeft="6px",u.innerText=r&&a?r+"("+a+")":r||"("+a+")"}if(Object(ln.p)(c))for(var d=function(e,i,o,r){var s=ft.p(n,Ds("div"));s.style.marginTop="8px";var a=ft.p(s,Ds("a"));a.innerText=Object(ro.b)(i)+"("+o+", "+r+"): ",a.style.cursor="pointer",a.onclick=function(e){e.stopPropagation(),e.preventDefault(),t._openerService&&t._openerService.open(i.with({fragment:o+","+r}),{fromUserGesture:!0}).catch(Ft.e)};var c=ft.p(s,Ds("span"));c.innerText=e,h._editor.applyFontInfo(c)},h=this,p=0,g=c;p<g.length;p++){var f=g[p];d(f.message,f.resource,f.startLineNumber,f.startColumn)}return i},t.prototype.renderMarkerStatusbar=function(e){var t=this,i=Ds("div.hover-row.status-bar"),n=new ee.b,o=ft.p(i,Ds("div.actions"));e.marker.severity!==oo.c.Error&&e.marker.severity!==oo.c.Warning&&e.marker.severity!==oo.c.Info||n.add(this.renderAction(o,{label:Q.a("peek problem","Peek Problem"),commandId:mr.ID,run:function(){t.hide(),gr.get(t._editor).show(e.marker),t._editor.focus()}}));var r=ft.p(o,Ds("div"));r.style.opacity="0",r.style.transition="opacity 0.2s",setTimeout((function(){return r.style.opacity="1"}),200),r.textContent=Q.a("checkingForQuickFixes","Checking for quick fixes..."),n.add(Object(ee.h)((function(){return r.remove()})));var s=this.getCodeActions(e.marker);return n.add(Object(ee.h)((function(){return s.cancel()}))),s.then((function(e){if(r.style.transition="",r.style.opacity="1",!e.validActions.length)return e.dispose(),void(r.textContent=Q.a("noQuickFixes","No quick fixes available"));r.remove();var i=!1;n.add(Object(ee.h)((function(){i||e.dispose()}))),n.add(t.renderAction(o,{label:Q.a("quick fixes","Quick Fix..."),commandId:Ss.Id,run:function(n){i=!0;var o=ys.get(t._editor),r=ft.A(n);o.showCodeActions(e,{x:r.left+6,y:r.top+r.height+6})}}))})),this.renderDisposable.value=n,i},t.prototype.getCodeActions=function(e){var t=this;return Object(X.f)((function(i){return Er(t._editor.getModel(),new ne.a(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),{type:"manual",filter:{include:Cr.QuickFix}},i)}))},t.prototype.renderAction=function(e,t){var i=ft.p(e,Ds("div.action-container")),n=ft.p(i,Ds("a.action"));t.iconClass&&ft.p(n,Ds("span.icon."+t.iconClass));var o=ft.p(n,Ds("span"));o.textContent=t.label;var r=this._keybindingService.lookupKeybinding(t.commandId);return r&&(o.title=t.label+" ("+r.getLabel()+")"),ft.i(i,ft.c.CLICK,(function(e){e.stopPropagation(),e.preventDefault(),t.run(i)}))},t.ID="editor.contrib.modesContentHoverWidget",t._DECORATION_OPTIONS=ae.a.register({className:"hoverHighlight"}),t}(Wn);var Ns=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Rs=function(){function e(e){this._editor=e,this._lineNumber=-1,this._result=[]}return e.prototype.setLineNumber=function(e){this._lineNumber=e,this._result=[]},e.prototype.clearResult=function(){this._result=[]},e.prototype.computeSync=function(){var e=function(e){return{value:e}},t=this._editor.getLineDecorations(this._lineNumber),i=[];if(!t)return i;for(var n=0,o=t;n<o.length;n++){var r=o[n];if(r.options.glyphMarginClassName){var s=r.options.glyphMarginHoverMessage;s&&!dn(s)&&i.push.apply(i,Object(ln.b)(s).map(e))}}return i},e.prototype.onResult=function(e,t){this._result=this._result.concat(e)},e.prototype.getResult=function(){return this._result},e.prototype.getResultWithLoadingMessage=function(){return this.getResult()},e}(),js=function(e){function t(i,n,o){void 0===o&&(o=Qn.b);var r=e.call(this,t.ID,i)||this;return r._renderDisposeables=r._register(new ee.b),r._messages=[],r._lastLineNumber=-1,r._markdownRenderer=r._register(new no(r._editor,n,o)),r._computer=new Rs(r._editor),r._hoverOperation=new Ln(r._computer,(function(e){return r._withResult(e)}),void 0,(function(e){return r._withResult(e)}),300),r}return Ns(t,e),t.prototype.dispose=function(){this._hoverOperation.cancel(),e.prototype.dispose.call(this)},t.prototype.onModelDecorationsChanged=function(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))},t.prototype.startShowingAt=function(e){this._lastLineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=e,this._computer.setLineNumber(e),this._hoverOperation.start(0))},t.prototype.hide=function(){this._lastLineNumber=-1,this._hoverOperation.cancel(),e.prototype.hide.call(this)},t.prototype._withResult=function(e){this._messages=e,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()},t.prototype._renderMessages=function(e,t){this._renderDisposeables.clear();for(var i=document.createDocumentFragment(),n=0,o=t;n<o.length;n++){var r=o[n],s=this._markdownRenderer.render(r.value);this._renderDisposeables.add(s),i.appendChild(Object(ft.a)("div.hover-row",void 0,s.element))}this.updateContents(i),this.showAt(e)},t.ID="editor.contrib.modesGlyphHoverWidget",t}(Hn),Ts=i(455),As=(i(1098),function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))}),Fs=function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};function Ls(e,t,i,n){var o=i.ordered(e).map((function(i){return Promise.resolve(n(i,e,t)).then(void 0,(function(e){Object(Ft.f)(e)}))}));return Promise.all(o).then(ln.l).then(ln.d)}function Vs(e,t,i){return Ls(e,t,fn.f,(function(e,t,n){return e.provideDefinition(t,n,i)}))}function Bs(e,t,i){return Ls(e,t,fn.e,(function(e,t,n){return e.provideDeclaration(t,n,i)}))}function Ws(e,t,i){return Ls(e,t,fn.n,(function(e,t,n){return e.provideImplementation(t,n,i)}))}function Hs(e,t,i){return Ls(e,t,fn.z,(function(e,t,n){return e.provideTypeDefinition(t,n,i)}))}function zs(e,t,i,n){var o=this;return Ls(e,t,fn.r,(function(e,t,r){return As(o,void 0,void 0,(function(){var o,s;return Fs(this,(function(a){switch(a.label){case 0:return[4,e.provideReferences(t,r,{includeDeclaration:!0},n)];case 1:return o=a.sent(),i&&o&&2===o.length?[4,e.provideReferences(t,r,{includeDeclaration:!1},n)]:[2,o];case 2:return(s=a.sent())&&1===s.length?[2,s]:[2,o]}}))}))}))}Object(te.e)("_executeDefinitionProvider",(function(e,t){return Vs(e,t,cn.a.None)})),Object(te.e)("_executeDeclarationProvider",(function(e,t){return Bs(e,t,cn.a.None)})),Object(te.e)("_executeImplementationProvider",(function(e,t){return Ws(e,t,cn.a.None)})),Object(te.e)("_executeTypeDefinitionProvider",(function(e,t){return Hs(e,t,cn.a.None)})),Object(te.e)("_executeReferenceProvider",(function(e,t){return zs(e,t,!1,cn.a.None)}));var Ks=i(261),Us=i(452),qs=function(){function e(e,t,i,n){this.isProviderFirst=e,this.parent=t,this._range=i,this._rangeCallback=n,this.id=Kn.nextId()}return Object.defineProperty(e.prototype,"uri",{get:function(){return this.parent.uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._range},set:function(e){this._range=e,this._rangeCallback(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaMessage",{get:function(){return Object(Q.a)("aria.oneReference","symbol in {0} on line {1} at column {2}",Object(ro.b)(this.uri),this.range.startLineNumber,this.range.startColumn)},enumerable:!0,configurable:!0}),e}(),Gs=function(){function e(e){this._modelReference=e}return e.prototype.dispose=function(){this._modelReference.dispose()},e.prototype.preview=function(e,t){void 0===t&&(t=8);var i=this._modelReference.object.textEditorModel;if(i){var n=e.startLineNumber,o=e.startColumn,r=e.endLineNumber,s=e.endColumn,a=i.getWordUntilPosition({lineNumber:n,column:o-t}),c=new ne.a(n,a.startColumn,n,o),l=new ne.a(r,s,r,1073741824),u=i.getValueInRange(c).replace(/^\s+/,""),d=i.getValueInRange(e);return{value:u+d+i.getValueInRange(l).replace(/\s+$/,""),highlight:{start:u.length,end:u.length+d.length}}}},e}(),Zs=function(){function e(e,t){this.parent=e,this.uri=t,this.children=[]}return e.prototype.dispose=function(){Object(ee.f)(this._preview),this._preview=void 0},Object.defineProperty(e.prototype,"preview",{get:function(){return this._preview},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"failure",{get:function(){return this._loadFailure},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaMessage",{get:function(){var e=this.children.length;return 1===e?Object(Q.a)("aria.fileReferences.1","1 symbol in {0}, full path {1}",Object(ro.b)(this.uri),this.uri.fsPath):Object(Q.a)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,Object(ro.b)(this.uri),this.uri.fsPath)},enumerable:!0,configurable:!0}),e.prototype.resolve=function(e){var t=this;return this._resolved?Promise.resolve(this):Promise.resolve(e.createModelReference(this.uri).then((function(e){if(!e.object)throw e.dispose(),new Error;return t._preview=new Gs(e),t._resolved=!0,t}),(function(e){return t.children.length=0,t._resolved=!0,t._loadFailure=e,t})))},e}(),$s=function(){function e(t,i){var n=this;this._disposables=new ee.b,this.groups=[],this.references=[],this._onDidChangeReferenceRange=new bt.a,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=t,this._title=i;var o,r=t[0];t.sort(e._compareReferences);for(var s=0,a=t;s<a.length;s++){var c=a[s];if(o&&o.uri.toString()===c.uri.toString()||(o=new Zs(this,c.uri),this.groups.push(o)),0===o.children.length||!ne.a.equalsRange(c.range,o.children[o.children.length-1].range)){var l=new qs(r===c,o,c.targetSelectionRange||c.range,(function(e){return n._onDidChangeReferenceRange.fire(e)}));this.references.push(l),o.children.push(l)}}}return e.prototype.dispose=function(){Object(ee.f)(this.groups),this._disposables.dispose(),this._onDidChangeReferenceRange.dispose(),this.groups.length=0},e.prototype.clone=function(){return new e(this._links,this._title)},Object.defineProperty(e.prototype,"title",{get:function(){return this._title},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.groups.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaMessage",{get:function(){return this.isEmpty?Object(Q.a)("aria.result.0","No results found"):1===this.references.length?Object(Q.a)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?Object(Q.a)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):Object(Q.a)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)},enumerable:!0,configurable:!0}),e.prototype.nextOrPreviousReference=function(e,t){var i=e.parent,n=i.children.indexOf(e),o=i.children.length,r=i.parent.groups.length;return 1===r||t&&n+1<o||!t&&n>0?(n=t?(n+1)%o:(n+o-1)%o,i.children[n]):(n=i.parent.groups.indexOf(i),t?(n=(n+1)%r,i.parent.groups[n].children[0]):(n=(n+r-1)%r,i.parent.groups[n].children[i.parent.groups[n].children.length-1]))},e.prototype.nearestReference=function(e,t){var i=this.references.map((function(i,n){return{idx:n,prefixLen:Ne.c(i.uri.toString(),e.toString()),offsetDist:100*Math.abs(i.range.startLineNumber-t.lineNumber)+Math.abs(i.range.startColumn-t.column)}})).sort((function(e,t){return e.prefixLen>t.prefixLen?-1:e.prefixLen<t.prefixLen?1:e.offsetDist<t.offsetDist?-1:e.offsetDist>t.offsetDist?1:0}))[0];if(i)return this.references[i.idx]},e.prototype.referenceAt=function(e,t){for(var i=0,n=this.references;i<n.length;i++){var o=n[i];if(o.uri.toString()===e.toString()&&ne.a.containsPosition(o.range,t))return o}},e.prototype.firstReference=function(){for(var e=0,t=this.references;e<t.length;e++){var i=t[e];if(i.isProviderFirst)return i}return this.references[0]},e._compareReferences=function(e,t){return Ne.e(e.uri.toString(),t.uri.toString())||ne.a.compareRangesUsingStarts(e.range,t.range)},e}();i(1099),i(1100),i(1101),i(1102);function Ys(e){return Object(Ne.o)(e).replace(/\$\((([a-z0-9\-]+?)(~([a-z0-9\-]*?))?)\)/gi,(function(e,t,i,n,o){return'<span class="codicon codicon-'+i+" "+(o?"codicon-animation-"+o:"")+'"></span>'}))}var Js=function(){function e(e,t){this.supportCodicons=t,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",e.appendChild(this.domNode)}return Object.defineProperty(e.prototype,"element",{get:function(){return this.domNode},enumerable:!0,configurable:!0}),e.prototype.set=function(t,i,n,o){void 0===i&&(i=[]),void 0===n&&(n=""),t||(t=""),o&&(t=e.escapeNewLines(t,i)),this.didEverRender&&this.text===t&&this.title===n&&vt.e(this.highlights,i)||(Array.isArray(i)||(i=[]),this.text=t,this.title=n,this.highlights=i,this.render())},e.prototype.render=function(){for(var e="",t=0,i=0,n=this.highlights;i<n.length;i++){var o=n[i];if(o.end!==o.start){if(t<o.start){e+="<span>";var r=this.text.substring(t,o.start);e+=this.supportCodicons?Ys(r):Object(Ne.o)(r),e+="</span>",t=o.end}e+='<span class="highlight">';var s=this.text.substring(o.start,o.end);e+=this.supportCodicons?Ys(s):Object(Ne.o)(s),e+="</span>",t=o.end}}if(t<this.text.length){e+="<span>";s=this.text.substring(t);e+=this.supportCodicons?Ys(s):Object(Ne.o)(s),e+="</span>"}this.domNode.innerHTML=e,this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0},e.escapeNewLines=function(e,t){var i=0,n=0;return e.replace(/\r\n|\r|\n/g,(function(e,o){n="\r\n"===e?-1:0,o+=i;for(var r=0,s=t;r<s.length;r++){var a=s[r];a.end<=o||(a.start>=o&&(a.start+=n),a.end>=o&&(a.end+=n))}return i+=n,"⏎"}))},e}(),Qs=i(112),Xs=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ea=function(){function e(e){this._element=e}return Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textContent",{set:function(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{set:function(e){this.disposed||e===this._className||(this._className=e,this._element.className=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{set:function(e){this.disposed||e===this._title||(this._title=e,this._title?this._element.title=e:this._element.removeAttribute("title"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{set:function(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.disposed=!0},e}(),ta=function(e){function t(t,i){var n,o,r=e.call(this)||this;r.domNode=r._register(new ea(ft.p(t,ft.a(".monaco-icon-label"))));var s=ft.p(r.domNode.element,ft.a(".monaco-icon-label-container")),a=ft.p(s,ft.a("span.monaco-icon-name-container"));return r.descriptionContainer=r._register(new ea(ft.p(s,ft.a("span.monaco-icon-description-container")))),(null===(n=i)||void 0===n?void 0:n.supportHighlights)?r.nameNode=new ra(a,!!i.supportCodicons):r.nameNode=new ia(a),(null===(o=i)||void 0===o?void 0:o.supportDescriptionHighlights)?r.descriptionNodeFactory=function(){return new Js(ft.p(r.descriptionContainer.element,ft.a("span.label-description")),!!i.supportCodicons)}:r.descriptionNodeFactory=function(){return r._register(new ea(ft.p(r.descriptionContainer.element,ft.a("span.label-description"))))},r}return Xs(t,e),t.prototype.setLabel=function(e,t,i){var n,o,r,s=["monaco-icon-label"];i&&(i.extraClasses&&s.push.apply(s,i.extraClasses),i.italic&&s.push("italic")),this.domNode.className=s.join(" "),this.domNode.title=(null===(n=i)||void 0===n?void 0:n.title)||"",this.nameNode.setLabel(e,i),(t||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof Js?(this.descriptionNode.set(t||"",i?i.descriptionMatches:void 0),(null===(o=i)||void 0===o?void 0:o.descriptionTitle)?this.descriptionNode.element.title=i.descriptionTitle:this.descriptionNode.element.removeAttribute("title")):(this.descriptionNode.textContent=t||"",this.descriptionNode.title=(null===(r=i)||void 0===r?void 0:r.descriptionTitle)||"",this.descriptionNode.empty=!t))},t}(ee.a),ia=function(){function e(e){this.container=e,this.label=void 0,this.singleLabel=void 0}return e.prototype.setLabel=function(e,t){var i,n,o,r;if(this.label!==e||!Object(vt.e)(this.options,t))if(this.label=e,this.options=t,"string"==typeof e)this.singleLabel||(this.container.innerHTML="",ft.L(this.container,"multiple"),this.singleLabel=ft.p(this.container,ft.a("a.label-name",{id:null===(i=t)||void 0===i?void 0:i.domId}))),this.singleLabel.textContent=e;else{this.container.innerHTML="",ft.e(this.container,"multiple"),this.singleLabel=void 0;for(var s=0;s<e.length;s++){var a=e[s],c=(null===(n=t)||void 0===n?void 0:n.domId)&&(null===(o=t)||void 0===o?void 0:o.domId)+"_"+s;ft.p(this.container,ft.a("a.label-name",{id:c,"data-icon-label-count":e.length,"data-icon-label-index":s},a)),s<e.length-1&&ft.p(this.container,ft.a("span.label-separator",void 0,(null===(r=t)||void 0===r?void 0:r.separator)||"/"))}}},e}();var na,oa,ra=function(){function e(e,t){this.container=e,this.supportCodicons=t,this.label=void 0,this.singleLabel=void 0}return e.prototype.setLabel=function(e,t){var i,n,o,r,s,a,c,l,u,d;if(this.label!==e||!Object(vt.e)(this.options,t))if(this.label=e,this.options=t,"string"==typeof e)this.singleLabel||(this.container.innerHTML="",ft.L(this.container,"multiple"),this.singleLabel=new Js(ft.p(this.container,ft.a("a.label-name",{id:null===(i=t)||void 0===i?void 0:i.domId})),this.supportCodicons)),this.singleLabel.set(e,null===(n=t)||void 0===n?void 0:n.matches,null===(o=t)||void 0===o?void 0:o.title,null===(r=t)||void 0===r?void 0:r.labelEscapeNewLines);else{this.container.innerHTML="",ft.e(this.container,"multiple"),this.singleLabel=void 0;for(var h=(null===(s=t)||void 0===s?void 0:s.separator)||"/",p=function(e,t,i){if(i){var n=0;return e.map((function(e){var o={start:n,end:n+e.length},r=i.map((function(e){return Qs.a.intersect(o,e)})).filter((function(e){return!Qs.a.isEmpty(e)})).map((function(e){var t=e.start,i=e.end;return{start:t-n,end:i-n}}));return n=o.end+t.length,r}))}}(e,h,null===(a=t)||void 0===a?void 0:a.matches),g=0;g<e.length;g++){var f=e[g],m=p?p[g]:void 0,_=(null===(c=t)||void 0===c?void 0:c.domId)&&(null===(l=t)||void 0===l?void 0:l.domId)+"_"+g,b=ft.a("a.label-name",{id:_,"data-icon-label-count":e.length,"data-icon-label-index":g});new Js(ft.p(this.container,b),this.supportCodicons).set(f,m,null===(u=t)||void 0===u?void 0:u.title,null===(d=t)||void 0===d?void 0:d.labelEscapeNewLines),g<e.length-1&&ft.p(b,ft.a("span.label-separator",void 0,h))}}},e}(),sa=(i(1103),{badgeBackground:_t.a.fromHex("#4D4D4D"),badgeForeground:_t.a.fromHex("#FFFFFF")}),aa=function(){function e(e,t){this.count=0,this.options=t||Object.create(null),Object(vt.g)(this.options,sa,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=Object(ft.p)(e,Object(ft.a)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}return e.prototype.setCount=function(e){this.count=e,this.render()},e.prototype.setTitleFormat=function(e){this.titleFormat=e,this.render()},e.prototype.render=function(){this.element.textContent=Object(Ne.r)(this.countFormat,this.count),this.element.title=Object(Ne.r)(this.titleFormat,this.count),this.applyStyles()},e.prototype.style=function(e){this.badgeBackground=e.badgeBackground,this.badgeForeground=e.badgeForeground,this.badgeBorder=e.badgeBorder,this.applyStyles()},e.prototype.applyStyles=function(){if(this.element){var e=this.badgeBackground?this.badgeBackground.toString():"",t=this.badgeForeground?this.badgeForeground.toString():"",i=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}},e}(),ca=i(398),la=i(265),ua=i(179),da=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ha=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},pa=function(e,t){return function(i,n){t(i,n,e)}},ga=function(){function e(e){this._resolverService=e}return e.prototype.hasChildren=function(e){return e instanceof $s||e instanceof Zs&&!e.failure},e.prototype.getChildren=function(e){if(e instanceof $s)return e.groups;if(e instanceof Zs)return e.resolve(this._resolverService).then((function(e){return e.children}));throw new Error("bad tree")},e=ha([pa(0,Ks.a)],e)}(),fa=function(){function e(){}return e.prototype.getHeight=function(){return 23},e.prototype.getTemplateId=function(e){return e instanceof Zs?va.id:wa.id},e}(),ma=function(){function e(e){this._keybindingService=e}return e.prototype.getKeyboardNavigationLabel=function(e){if(e instanceof qs){var t=e.parent.preview,i=t&&t.preview(e.range);if(i)return i.value}return Object(ro.b)(e.uri)},e=ha([pa(0,Li.a)],e)}(),_a=function(){function e(){}return e.prototype.getId=function(e){return e instanceof qs?e.id:e.uri},e}(),ba=function(e){function t(t,i,n){var o=e.call(this)||this;o._uriLabel=i;var r=document.createElement("div");return ft.e(r,"reference-file"),o.file=o._register(new ta(r,{supportHighlights:!0})),o.badge=new aa(ft.p(r,ft.a(".count"))),o._register(Object(la.a)(o.badge,n)),t.appendChild(r),o}return da(t,e),t.prototype.set=function(e,t){var i=Object(ro.d)(e.uri);this.file.setLabel(co(e.uri),this._uriLabel.getUriLabel(i,{relative:!0}),{title:this._uriLabel.getUriLabel(e.uri),matches:t});var n=e.children.length;this.badge.setCount(n),e.failure?this.badge.setTitleFormat(Object(Q.a)("referencesFailre","Failed to resolve file.")):n>1?this.badge.setTitleFormat(Object(Q.a)("referencesCount","{0} references",n)):this.badge.setTitleFormat(Object(Q.a)("referenceCount","{0} reference",n))},t=ha([pa(1,ca.a),pa(2,ue.c)],t)}(ee.a),va=function(){function e(t){this._instantiationService=t,this.templateId=e.id}return e.prototype.renderTemplate=function(e){return this._instantiationService.createInstance(ba,e)},e.prototype.renderElement=function(e,t,i){i.set(e.element,Object(ua.c)(e.filterData))},e.prototype.disposeTemplate=function(e){e.dispose()},e.id="FileReferencesRenderer",e=ha([pa(0,Fi.a)],e)}(),ya=function(){function e(e){this.label=new Js(e,!1)}return e.prototype.set=function(e,t){var i=e.parent.preview,n=i&&i.preview(e.range);if(n){var o=n.value,r=n.highlight;t&&!ua.a.isDefault(t)?(ft.U(this.label.element,"referenceMatch",!1),this.label.set(o,Object(ua.c)(t))):(ft.U(this.label.element,"referenceMatch",!0),this.label.set(o,[r]))}else this.label.set(Object(ro.b)(e.uri)+":"+(e.range.startLineNumber+1)+":"+(e.range.startColumn+1))},e}(),wa=function(){function e(){this.templateId=e.id}return e.prototype.renderTemplate=function(e){return new ya(e)},e.prototype.renderElement=function(e,t,i){i.set(e.element,e.filterData)},e.prototype.disposeTemplate=function(){},e.id="OneReferenceRenderer",e}(),Ca=function(){function e(){}return e.prototype.getAriaLabel=function(e){return e.ariaMessage},e}(),Sa=i(380),Oa=(i(1104),i(20)),ka=i(313),xa=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Da=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<i;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n},Ia={separatorBorder:_t.a.transparent},Pa=function(){function e(e,t,i,n){this.container=e,this.view=t,this.disposable=n,this._cachedVisibleSize=void 0,"number"==typeof i?(this._size=i,this._cachedVisibleSize=void 0,ft.e(e,"visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}return Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(e){this._size=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return void 0===this._cachedVisibleSize},enumerable:!0,configurable:!0}),e.prototype.setVisible=function(e,t){e!==this.visible&&(e?(this.size=Object(ka.a)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof t?t:this.size,this.size=0),ft.U(this.container,"visible",e),this.view.setVisible&&this.view.setVisible(e))},Object.defineProperty(e.prototype,"minimumSize",{get:function(){return this.visible?this.view.minimumSize:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewMinimumSize",{get:function(){return this.view.minimumSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumSize",{get:function(){return this.visible?this.view.maximumSize:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewMaximumSize",{get:function(){return this.view.maximumSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"priority",{get:function(){return this.view.priority},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"snap",{get:function(){return!!this.view.snap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{set:function(e){this.container.style.pointerEvents=e?null:"none"},enumerable:!0,configurable:!0}),e.prototype.layout=function(e,t){this.layoutContainer(e),this.view.layout(this.size,e,t)},e.prototype.dispose=function(){return this.disposable.dispose(),this.view},e}(),Ea=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xa(t,e),t.prototype.layoutContainer=function(e){this.container.style.top=e+"px",this.container.style.height=this.size+"px"},t}(Pa),Ma=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xa(t,e),t.prototype.layoutContainer=function(e){this.container.style.left=e+"px",this.container.style.width=this.size+"px"},t}(Pa);!function(e){e[e.Idle=0]="Idle",e[e.Busy=1]="Busy"}(na||(na={})),function(e){e.Distribute={type:"distribute"},e.Split=function(e){return{type:"split",index:e}},e.Invisible=function(e){return{type:"invisible",cachedVisibleSize:e}}}(oa||(oa={}));var Na=function(e){function t(t,i){void 0===i&&(i={});var n=e.call(this)||this;return n.size=0,n.contentSize=0,n.proportions=void 0,n.viewItems=[],n.sashItems=[],n.state=na.Idle,n._onDidSashChange=n._register(new bt.a),n.onDidSashChange=n._onDidSashChange.event,n._onDidSashReset=n._register(new bt.a),n._startSnappingEnabled=!0,n._endSnappingEnabled=!0,n.orientation=Oa.k(i.orientation)?0:i.orientation,n.inverseAltBehavior=!!i.inverseAltBehavior,n.proportionalLayout=!!Oa.k(i.proportionalLayout)||!!i.proportionalLayout,n.el=document.createElement("div"),ft.e(n.el,"monaco-split-view2"),ft.e(n.el,0===n.orientation?"vertical":"horizontal"),t.appendChild(n.el),n.sashContainer=ft.p(n.el,ft.a(".sash-container")),n.viewContainer=ft.p(n.el,ft.a(".split-view-container")),n.style(i.styles||Ia),i.descriptor&&(n.size=i.descriptor.size,i.descriptor.views.forEach((function(e,t){var i=Oa.k(e.visible)||e.visible?e.size:{type:"invisible",cachedVisibleSize:e.size},o=e.view;n.doAddView(o,i,t,!0)})),n.contentSize=n.viewItems.reduce((function(e,t){return e+t.size}),0),n.saveProportions()),n}return xa(t,e),Object.defineProperty(t.prototype,"orthogonalStartSash",{get:function(){return this._orthogonalStartSash},set:function(e){for(var t=0,i=this.sashItems;t<i.length;t++){i[t].sash.orthogonalStartSash=e}this._orthogonalStartSash=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orthogonalEndSash",{get:function(){return this._orthogonalEndSash},set:function(e){for(var t=0,i=this.sashItems;t<i.length;t++){i[t].sash.orthogonalEndSash=e}this._orthogonalEndSash=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startSnappingEnabled",{get:function(){return this._startSnappingEnabled},set:function(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endSnappingEnabled",{get:function(){return this._endSnappingEnabled},set:function(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())},enumerable:!0,configurable:!0}),t.prototype.style=function(e){e.separatorBorder.isTransparent()?(ft.L(this.el,"separator-border"),this.el.style.removeProperty("--separator-border")):(ft.e(this.el,"separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))},t.prototype.addView=function(e,t,i){void 0===i&&(i=this.viewItems.length),this.doAddView(e,t,i,!1)},t.prototype.layout=function(e,t){var i=this,n=Math.max(this.size,this.contentSize);if(this.size=e,this.layoutContext=t,this.proportions)for(var o=0;o<this.viewItems.length;o++){var r=this.viewItems[o];r.size=Object(ka.a)(Math.round(this.proportions[o]*e),r.minimumSize,r.maximumSize)}else{var s=Object(ln.t)(this.viewItems.length),a=s.filter((function(e){return 1===i.viewItems[e].priority})),c=s.filter((function(e){return 2===i.viewItems[e].priority}));this.resize(this.viewItems.length-1,e-n,void 0,a,c)}this.distributeEmptySpace(),this.layoutViews()},t.prototype.saveProportions=function(){var e=this;this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map((function(t){return t.size/e.contentSize})))},t.prototype.onSashStart=function(e){for(var t=this,i=e.sash,n=e.start,o=e.alt,r=0,s=this.viewItems;r<s.length;r++){s[r].enabled=!1}var a=Object(ln.j)(this.sashItems,(function(e){return e.sash===i})),c=Object(ee.e)(Object(qt.a)(document.body,"keydown")((function(e){return l(t.sashDragState.current,e.altKey)})),Object(qt.a)(document.body,"keyup")((function(){return l(t.sashDragState.current,!1)}))),l=function(e,i){var n,o,r=t.viewItems.map((function(e){return e.size})),s=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY;(t.inverseAltBehavior&&(i=!i),i)&&(a===t.sashItems.length-1?(s=((y=t.viewItems[a]).minimumSize-y.size)/2,l=(y.maximumSize-y.size)/2):(s=((y=t.viewItems[a+1]).size-y.maximumSize)/2,l=(y.size-y.minimumSize)/2));if(!i){var u=Object(ln.t)(a,-1),d=Object(ln.t)(a+1,t.viewItems.length),h=u.reduce((function(e,i){return e+(t.viewItems[i].minimumSize-r[i])}),0),p=u.reduce((function(e,i){return e+(t.viewItems[i].viewMaximumSize-r[i])}),0),g=0===d.length?Number.POSITIVE_INFINITY:d.reduce((function(e,i){return e+(r[i]-t.viewItems[i].minimumSize)}),0),f=0===d.length?Number.NEGATIVE_INFINITY:d.reduce((function(e,i){return e+(r[i]-t.viewItems[i].viewMaximumSize)}),0),m=Math.max(h,f),_=Math.min(g,p),b=t.findFirstSnapIndex(u),v=t.findFirstSnapIndex(d);if("number"==typeof b){var y=t.viewItems[b],w=Math.floor(y.viewMinimumSize/2);n={index:b,limitDelta:y.visible?m-w:m+w,size:y.size}}if("number"==typeof v){y=t.viewItems[v],w=Math.floor(y.viewMinimumSize/2);o={index:v,limitDelta:y.visible?_+w:_-w,size:y.size}}}t.sashDragState={start:e,current:e,index:a,sizes:r,minDelta:s,maxDelta:l,alt:i,snapBefore:n,snapAfter:o,disposable:c}};l(n,o)},t.prototype.onSashChange=function(e){var t=e.current,i=this.sashDragState,n=i.index,o=i.start,r=i.sizes,s=i.alt,a=i.minDelta,c=i.maxDelta,l=i.snapBefore,u=i.snapAfter;this.sashDragState.current=t;var d=t-o,h=this.resize(n,d,r,void 0,void 0,a,c,l,u);if(s){var p=n===this.sashItems.length-1,g=this.viewItems.map((function(e){return e.size})),f=p?n:n+1,m=this.viewItems[f],_=m.size-m.maximumSize,b=m.size-m.minimumSize,v=p?n-1:n+1;this.resize(v,-h,g,void 0,void 0,_,b)}this.distributeEmptySpace(),this.layoutViews()},t.prototype.onSashEnd=function(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(var t=0,i=this.viewItems;t<i.length;t++){i[t].enabled=!0}},t.prototype.onViewChange=function(e,t){var i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t="number"==typeof t?t:e.size,t=Object(ka.a)(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))},t.prototype.resizeView=function(e,t){var i=this;if(this.state!==na.Idle)throw new Error("Cant modify splitview");if(this.state=na.Busy,!(e<0||e>=this.viewItems.length)){var n=Object(ln.t)(this.viewItems.length).filter((function(t){return t!==e})),o=Da(n.filter((function(e){return 1===i.viewItems[e].priority})),[e]),r=n.filter((function(e){return 2===i.viewItems[e].priority})),s=this.viewItems[e];t=Math.round(t),t=Object(ka.a)(t,s.minimumSize,Math.min(s.maximumSize,this.size)),s.size=t,this.relayout(o,r),this.state=na.Idle}},t.prototype.distributeViewSizes=function(){for(var e=this,t=[],i=0,n=0,o=this.viewItems;n<o.length;n++){(c=o[n]).maximumSize-c.minimumSize>0&&(t.push(c),i+=c.size)}for(var r=Math.floor(i/t.length),s=0,a=t;s<a.length;s++){var c;(c=a[s]).size=Object(ka.a)(r,c.minimumSize,c.maximumSize)}var l=Object(ln.t)(this.viewItems.length),u=l.filter((function(t){return 1===e.viewItems[t].priority})),d=l.filter((function(t){return 2===e.viewItems[t].priority}));this.relayout(u,d)},t.prototype.getViewSize=function(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size},t.prototype.doAddView=function(e,t,i,n){var o=this;if(void 0===i&&(i=this.viewItems.length),this.state!==na.Idle)throw new Error("Cant modify splitview");this.state=na.Busy;var r=ft.a(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(r):this.viewContainer.insertBefore(r,this.viewContainer.children.item(i));var s,a=e.onDidChange((function(e){return o.onViewChange(d,e)})),c=Object(ee.h)((function(){return o.viewContainer.removeChild(r)})),l=Object(ee.e)(a,c);s="number"==typeof t?t:"split"===t.type?this.getViewSize(t.index)/2:"invisible"===t.type?{cachedVisibleSize:t.cachedVisibleSize}:e.minimumSize;var u,d=0===this.orientation?new Ea(r,e,s,l):new Ma(r,e,s,l);if(this.viewItems.splice(i,0,d),this.viewItems.length>1){var h=0===this.orientation?1:0,p=0===this.orientation?{getHorizontalSashTop:function(e){return o.getSashPosition(e)}}:{getVerticalSashLeft:function(e){return o.getSashPosition(e)}},g=new At.a(this.sashContainer,p,{orientation:h,orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash}),f=0===this.orientation?function(e){return{sash:g,start:e.startY,current:e.currentY,alt:e.altKey}}:function(e){return{sash:g,start:e.startX,current:e.currentX,alt:e.altKey}},m=bt.b.map(g.onDidStart,f)(this.onSashStart,this),_=bt.b.map(g.onDidChange,f)(this.onSashChange,this),b=bt.b.map(g.onDidEnd,(function(){return Object(ln.j)(o.sashItems,(function(e){return e.sash===g}))}))(this.onSashEnd,this),v=g.onDidReset((function(){var e=Object(ln.j)(o.sashItems,(function(e){return e.sash===g})),t=Object(ln.t)(e,-1),i=Object(ln.t)(e+1,o.viewItems.length),n=o.findFirstSnapIndex(t),r=o.findFirstSnapIndex(i);("number"!=typeof n||o.viewItems[n].visible)&&("number"!=typeof r||o.viewItems[r].visible)&&o._onDidSashReset.fire(e)})),y=Object(ee.e)(m,_,b,v,g),w={sash:g,disposable:y};this.sashItems.splice(i-1,0,w)}r.appendChild(e.element),"number"!=typeof t&&"split"===t.type&&(u=[t.index]),n||this.relayout([i],u),this.state=na.Idle,n||"number"==typeof t||"distribute"!==t.type||this.distributeViewSizes()},t.prototype.relayout=function(e,t){var i=this.viewItems.reduce((function(e,t){return e+t.size}),0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()},t.prototype.resize=function(e,t,i,n,o,r,s,a,c){var l=this;if(void 0===i&&(i=this.viewItems.map((function(e){return e.size}))),void 0===r&&(r=Number.NEGATIVE_INFINITY),void 0===s&&(s=Number.POSITIVE_INFINITY),e<0||e>=this.viewItems.length)return 0;var u=Object(ln.t)(e,-1),d=Object(ln.t)(e+1,this.viewItems.length);if(o)for(var h=0,p=o;h<p.length;h++){var g=p[h];Object(ln.s)(u,g),Object(ln.s)(d,g)}if(n)for(var f=0,m=n;f<m.length;f++){var _=m[f];Object(ln.r)(u,_),Object(ln.r)(d,_)}var b=u.map((function(e){return l.viewItems[e]})),v=u.map((function(e){return i[e]})),y=d.map((function(e){return l.viewItems[e]})),w=d.map((function(e){return i[e]})),C=u.reduce((function(e,t){return e+(l.viewItems[t].minimumSize-i[t])}),0),S=u.reduce((function(e,t){return e+(l.viewItems[t].maximumSize-i[t])}),0),O=0===d.length?Number.POSITIVE_INFINITY:d.reduce((function(e,t){return e+(i[t]-l.viewItems[t].minimumSize)}),0),k=0===d.length?Number.NEGATIVE_INFINITY:d.reduce((function(e,t){return e+(i[t]-l.viewItems[t].maximumSize)}),0),x=Math.max(C,k,r),D=Math.min(O,S,s),I=!1;if(a){var P=this.viewItems[a.index];I=(E=t>=a.limitDelta)!==P.visible,P.setVisible(E,a.size)}if(!I&&c){var E;P=this.viewItems[c.index];I=(E=t<c.limitDelta)!==P.visible,P.setVisible(E,c.size)}if(I)return this.resize(e,t,i,n,o,r,s);for(var M=0,N=t=Object(ka.a)(t,x,D);M<b.length;M++){var R=b[M];N-=(T=Object(ka.a)(v[M]+N,R.minimumSize,R.maximumSize))-v[M],R.size=T}M=0;for(var j=t;M<y.length;M++){var T;R=y[M];j+=(T=Object(ka.a)(w[M]-j,R.minimumSize,R.maximumSize))-w[M],R.size=T}return t},t.prototype.distributeEmptySpace=function(e){for(var t=this,i=this.viewItems.reduce((function(e,t){return e+t.size}),0),n=this.size-i,o=Object(ln.t)(this.viewItems.length-1,-1),r=o.filter((function(e){return 1===t.viewItems[e].priority})),s=0,a=o.filter((function(e){return 2===t.viewItems[e].priority}));s<a.length;s++){var c=a[s];Object(ln.s)(o,c)}for(var l=0,u=r;l<u.length;l++){c=u[l];Object(ln.r)(o,c)}"number"==typeof e&&Object(ln.r)(o,e);for(var d=0;0!==n&&d<o.length;d++){var h=this.viewItems[o[d]],p=Object(ka.a)(h.size+n,h.minimumSize,h.maximumSize);n-=p-h.size,h.size=p}},t.prototype.layoutViews=function(){this.contentSize=this.viewItems.reduce((function(e,t){return e+t.size}),0);for(var e=0,t=0,i=this.viewItems;t<i.length;t++){var n=i[t];n.layout(e,this.layoutContext),e+=n.size}this.sashItems.forEach((function(e){return e.sash.layout()})),this.updateSashEnablement()},t.prototype.updateSashEnablement=function(){var e=!1,t=this.viewItems.map((function(t){return e=t.size-t.minimumSize>0||e}));e=!1;var i=this.viewItems.map((function(t){return e=t.maximumSize-t.size>0||e})),n=Da(this.viewItems).reverse();e=!1;var o=n.map((function(t){return e=t.size-t.minimumSize>0||e})).reverse();e=!1;for(var r=n.map((function(t){return e=t.maximumSize-t.size>0||e})).reverse(),s=0,a=0;a<this.sashItems.length;a++){var c=this.sashItems[a].sash;s+=this.viewItems[a].size;var l=!(t[a]&&r[a+1]),u=!(i[a]&&o[a+1]);if(l&&u){var d=Object(ln.t)(a,-1),h=Object(ln.t)(a+1,this.viewItems.length),p=this.findFirstSnapIndex(d),g=this.findFirstSnapIndex(h),f="number"==typeof p&&!this.viewItems[p].visible,m="number"==typeof g&&!this.viewItems[g].visible;f&&o[a]&&(s>0||this.startSnappingEnabled)?c.state=1:m&&t[a]&&(s<this.contentSize||this.endSnappingEnabled)?c.state=2:c.state=0}else c.state=l&&!u?1:!l&&u?2:3}},t.prototype.getSashPosition=function(e){for(var t=0,i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return Math.min(t,this.contentSize-2);return 0},t.prototype.findFirstSnapIndex=function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t];if((s=this.viewItems[n]).visible&&s.snap)return n}for(var o=0,r=e;o<r.length;o++){var s;n=r[o];if((s=this.viewItems[n]).visible&&s.maximumSize-s.minimumSize>0)return;if(!s.visible&&s.snap)return n}},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.viewItems.forEach((function(e){return e.dispose()})),this.viewItems=[],this.sashItems.forEach((function(e){return e.disposable.dispose()})),this.sashItems=[]},t}(ee.a),Ra=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ja=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Ta=function(e,t){return function(i,n){t(i,n,e)}},Aa=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},Fa=function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},La=function(){function e(e,t){var i=this;this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new ee.b,this._callOnModelChange=new ee.b,this._callOnDispose.add(this._editor.onDidChangeModel((function(){return i._onModelChanged()}))),this._onModelChanged()}return e.prototype.dispose=function(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()},e.prototype._onModelChanged=function(){this._callOnModelChange.clear();var e=this._editor.getModel();if(e)for(var t=0,i=this._model.groups;t<i.length;t++){var n=i[t];if(Object(ro.e)(n.uri,e.uri))return void this._addDecorations(n)}},e.prototype._addDecorations=function(t){var i=this;if(this._editor.hasModel()){this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations((function(e){return i._onDecorationChanged()})));for(var n=[],o=[],r=0,s=t.children.length;r<s;r++){var a=t.children[r];this._decorationIgnoreSet.has(a.id)||(n.push({range:a.range,options:e.DecorationOptions}),o.push(r))}var c=this._editor.deltaDecorations([],n);for(r=0;r<c.length;r++)this._decorations.set(c[r],t.children[o[r]])}},e.prototype._onDecorationChanged=function(){var e=this,t=[],i=this._editor.getModel();if(i){this._decorations.forEach((function(n,o){var r=i.getDecorationRange(o);if(r){var s=!1;if(!ne.a.equalsRange(r,n.range))(ne.a.spansMultipleLines(r)||n.range.endColumn-n.range.startColumn!==r.endColumn-r.startColumn)&&(s=!0),s?(e._decorationIgnoreSet.add(n.id),t.push(o)):n.range=r}}));for(var n=0,o=t.length;n<o;n++)this._decorations.delete(t[n]);this._editor.deltaDecorations(t,[])}},e.prototype.removeDecorations=function(){var e=[];this._decorations.forEach((function(t,i){e.push(i)})),this._editor.deltaDecorations(e,[]),this._decorations.clear()},e.DecorationOptions=ae.a.register({stickiness:1,className:"reference-decoration"}),e}(),Va=function(){function e(){this.ratio=.7,this.heightInLines=18}return e.fromJSON=function(e){var t,i;try{var n=JSON.parse(e);t=n.ratio,i=n.heightInLines}catch(e){}return{ratio:t||.7,heightInLines:i||18}},e}(),Ba=function(e){function t(t,i,n,o,r,s,a,c){var l=e.call(this,t,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0})||this;return l._defaultTreeKeyboardSupport=i,l.layoutData=n,l._textModelResolverService=r,l._instantiationService=s,l._peekViewService=a,l._uriLabel=c,l._disposeOnNewModel=new ee.b,l._callOnDispose=new ee.b,l._onDidSelectReference=new bt.a,l.onDidSelectReference=l._onDidSelectReference.event,l._dim={height:0,width:0},l._applyTheme(o.getTheme()),l._callOnDispose.add(o.onThemeChange(l._applyTheme.bind(l))),l._peekViewService.addExclusiveWidget(t,l),l.create(),l}return Ra(t,e),t.prototype.dispose=function(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),Object(ee.f)(this._preview),Object(ee.f)(this._previewNotAvailableMessage),Object(ee.f)(this._tree),Object(ee.f)(this._previewModelReference),this._splitView.dispose(),e.prototype.dispose.call(this)},t.prototype._applyTheme=function(e){var t=e.getColor(Bo)||_t.a.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(Fo)||_t.a.transparent,primaryHeadingColor:e.getColor(Lo),secondaryHeadingColor:e.getColor(Vo)})},t.prototype.show=function(t){this.editor.revealRangeInCenterIfOutsideViewport(t,0),e.prototype.show.call(this,t,this.layoutData.heightInLines||18)},t.prototype.focus=function(){this._tree.domFocus()},t.prototype._onTitleClick=function(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})},t.prototype._fillBody=function(e){var t=this;this.setCssClass("reference-zone-widget"),this._messageContainer=ft.p(e,ft.a("div.messages")),ft.G(this._messageContainer),this._splitView=new Na(e,{orientation:1}),this._previewContainer=ft.p(e,ft.a("div.preview.inline"));this._preview=this._instantiationService.createInstance(wo,this._previewContainer,{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},this.editor),ft.G(this._previewContainer),this._previewNotAvailableMessage=ae.b.createFromString(Q.a("missingPreviewMessage","no preview available")),this._treeContainer=ft.p(e,ft.a("div.ref-tree.inline"));var i={ariaLabel:Q.a("treeAriaLabel","References"),keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new Ca,keyboardNavigationLabelProvider:this._instantiationService.createInstance(ma),identityProvider:new _a,overrideStyles:{listBackground:Wo}};this._tree=this._instantiationService.createInstance(Sa.c,"ReferencesWidget",this._treeContainer,new fa,[this._instantiationService.createInstance(va),this._instantiationService.createInstance(wa)],this._instantiationService.createInstance(ga),i),this._splitView.addView({onDidChange:bt.b.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:function(e){t._preview.layout({height:t._dim.height,width:e})}},oa.Distribute),this._splitView.addView({onDidChange:bt.b.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:function(e){t._treeContainer.style.height=t._dim.height+"px",t._treeContainer.style.width=e+"px",t._tree.layout(t._dim.height,e)}},oa.Distribute),this._disposables.add(this._splitView.onDidSashChange((function(){t._dim.width&&(t.layoutData.ratio=t._splitView.getViewSize(0)/t._dim.width)}),void 0));var n=function(e,i){e instanceof qs&&("show"===i&&t._revealReference(e,!1),t._onDidSelectReference.fire({element:e,kind:i,source:"tree"}))};this._tree.onDidChangeFocus((function(e){n(e.elements[0],"show")})),this._tree.onDidOpen((function(e){e.browserEvent instanceof MouseEvent&&(e.browserEvent.ctrlKey||e.browserEvent.metaKey||e.browserEvent.altKey)?n(e.elements[0],"side"):e.browserEvent instanceof KeyboardEvent||e.browserEvent instanceof MouseEvent&&2===e.browserEvent.detail||2===e.browserEvent.tapCount?n(e.elements[0],"goto"):n(e.elements[0],"show")})),ft.G(this._treeContainer)},t.prototype._onWidth=function(e){this._dim&&this._doLayoutBody(this._dim.height,e)},t.prototype._doLayoutBody=function(t,i){e.prototype._doLayoutBody.call(this,t,i),this._dim={height:t,width:i},this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(i),this._splitView.resizeView(0,i*this.layoutData.ratio)},t.prototype.setSelection=function(e){var t=this;return this._revealReference(e,!0).then((function(){t._model&&(t._tree.setSelection([e]),t._tree.setFocus([e]))}))},t.prototype.setModel=function(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()},t.prototype._onNewModel=function(){var e=this;return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerHTML=Q.a("noResults","No results"),ft.T(this._messageContainer),Promise.resolve(void 0)):(ft.G(this._messageContainer),this._decorationsManager=new La(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange((function(t){return e._tree.rerender(t)}))),this._disposeOnNewModel.add(this._preview.onMouseDown((function(t){var i=t.event,n=t.target;if(2===i.detail){var o=e._getFocusedReference();o&&e._onDidSelectReference.fire({element:{uri:o.uri,range:n.range},kind:i.ctrlKey||i.metaKey||i.altKey?"side":"open",source:"editor"})}}))),ft.e(this.container,"results-loaded"),ft.T(this._treeContainer),ft.T(this._previewContainer),this._splitView.layout(this._dim.width),this.focus(),this._tree.setInput(1===this._model.groups.length?this._model.groups[0]:this._model)):Promise.resolve(void 0)},t.prototype._getFocusedReference=function(){var e=this._tree.getFocus()[0];return e instanceof qs?e:e instanceof Zs&&e.children.length>0?e.children[0]:void 0},t.prototype._revealReference=function(e,t){return Aa(this,void 0,void 0,(function(){var i,n,o,r,s;return Fa(this,(function(a){switch(a.label){case 0:return this._revealedReference===e?[2]:(this._revealedReference=e,e.uri.scheme!==Yn.b.inMemory?this.setTitle(Object(ro.c)(e.uri),this._uriLabel.getUriLabel(Object(ro.d)(e.uri))):this.setTitle(Q.a("peekView.alternateTitle","References")),i=this._textModelResolverService.createModelReference(e.uri),this._tree.getInput()!==e.parent?[3,1]:(this._tree.reveal(e),[3,3]));case 1:return t&&this._tree.reveal(e.parent),[4,this._tree.expand(e.parent)];case 2:a.sent(),this._tree.reveal(e),a.label=3;case 3:return[4,i];case 4:return n=a.sent(),this._model?(Object(ee.f)(this._previewModelReference),(o=n.object)?(r=this._preview.getModel()===o.textEditorModel?0:1,s=ne.a.lift(e.range).collapseToStart(),this._previewModelReference=n,this._preview.setModel(o.textEditorModel),this._preview.setSelection(s),this._preview.revealRangeInCenter(s,r)):(this._preview.setModel(this._previewNotAvailableMessage),n.dispose()),[2]):(n.dispose(),[2])}}))}))},t=ja([Ta(3,ue.c),Ta(4,Ks.a),Ta(5,Fi.a),Ta(6,No),Ta(7,ca.a)],t)}(Ao);Object(ue.e)((function(e,t){var i=e.getColor(Zo);i&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: "+i+"; }");var n=e.getColor($o);n&&t.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: "+n+"; }");var o=e.getColor(Yo);o&&t.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid "+o+"; box-sizing: border-box; }");var r=e.getColor(le.b);r&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted "+r+"; box-sizing: border-box; }");var s=e.getColor(Wo);s&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree { background-color: "+s+"; }");var a=e.getColor(Ho);a&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree { color: "+a+"; }");var c=e.getColor(zo);c&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .reference-file { color: "+c+"; }");var l=e.getColor(Ko);l&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: "+l+"; }");var u=e.getColor(Uo);u&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: "+u+" !important; }");var d=e.getColor(qo);d&&t.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\tbackground-color: "+d+";}");var h=e.getColor(Go);h&&t.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\tbackground-color: "+h+";}")}));var Wa=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Ha=function(e,t){return function(i,n){t(i,n,e)}},za=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},Ka=function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},Ua=new Ue.d("referenceSearchVisible",!1),qa=function(){function e(e,t,i,n,o,r,s,a){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=n,this._notificationService=o,this._instantiationService=r,this._storageService=s,this._configurationService=a,this._disposables=new ee.b,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=Ua.bindTo(i)}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){this._referenceSearchVisible.reset(),this._disposables.dispose(),Object(ee.f)(this._widget),Object(ee.f)(this._model),this._widget=void 0,this._model=void 0},e.prototype.toggleWidget=function(e,t,i){var n,o=this;if(this._widget&&(n=this._widget.position),this.closeWidget(),!n||!e.containsPosition(n)){this._peekMode=i,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage((function(){o.closeWidget()}))),this._disposables.add(this._editor.onDidChangeModel((function(){o._ignoreModelChangeEvent||o.closeWidget()})));var r=Va.fromJSON(this._storageService.get("peekViewLayout",0,"{}"));this._widget=this._instantiationService.createInstance(Ba,this._editor,this._defaultTreeKeyboardSupport,r),this._widget.setTitle(Q.a("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose((function(){t.cancel(),o._widget&&(o._storageService.store("peekViewLayout",JSON.stringify(o._widget.layoutData),0),o._widget=void 0),o.closeWidget()}))),this._disposables.add(this._widget.onDidSelectReference((function(e){var t=e.element,n=e.kind;if(t)switch(n){case"open":"editor"===e.source&&o._configurationService.getValue("editor.stablePeek")||o.openReference(t,!1);break;case"side":o.openReference(t,!0);break;case"goto":i?o._gotoReference(t):o.openReference(t,!1)}})));var s=++this._requestIdPool;t.then((function(t){if(s===o._requestIdPool&&o._widget)return o._model&&o._model.dispose(),o._model=t,o._widget.setModel(o._model).then((function(){if(o._widget&&o._model&&o._editor.hasModel()){o._model.isEmpty?o._widget.setMetaTitle(""):o._widget.setMetaTitle(Q.a("metaTitle.N","{0} ({1})",o._model.title,o._model.references.length));var t=o._editor.getModel().uri,i=new ie.a(e.startLineNumber,e.startColumn),n=o._model.nearestReference(t,i);if(n)return o._widget.setSelection(n)}}))}),(function(e){o._notificationService.error(e)}))}},e.prototype.goToNextOrPreviousReference=function(e){return za(this,void 0,void 0,(function(){var t,i,n,o;return Ka(this,(function(r){switch(r.label){case 0:return this._editor.hasModel()&&this._model&&this._widget&&((t=this._widget.position)&&(i=this._model.nearestReference(this._editor.getModel().uri,t)))?(n=this._model.nextOrPreviousReference(i,e),o=this._editor.hasTextFocus(),[4,this._widget.setSelection(n)]):[2];case 1:return r.sent(),[4,this._gotoReference(n)];case 2:return r.sent(),o&&this._editor.focus(),[2]}}))}))},e.prototype.closeWidget=function(){this._referenceSearchVisible.reset(),this._disposables.clear(),Object(ee.f)(this._widget),Object(ee.f)(this._model),this._widget=void 0,this._model=void 0,this._editor.focus(),this._requestIdPool+=1},e.prototype._gotoReference=function(t){var i=this;this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;var n=ne.a.lift(t.range).collapseToStart();return this._editorService.openCodeEditor({resource:t.uri,options:{selection:n}},this._editor).then((function(t){var o;if(i._ignoreModelChangeEvent=!1,t&&i._widget)if(i._editor===t)i._widget.show(n),i._widget.focus();else{var r=e.get(t),s=i._model.clone();i.closeWidget(),t.focus(),r.toggleWidget(n,Object(X.f)((function(e){return Promise.resolve(s)})),null!=(o=i._peekMode)&&o)}else i.closeWidget()}),(function(e){i._ignoreModelChangeEvent=!1,Object(Ft.e)(e)}))},e.prototype.openReference=function(e,t){t||this.closeWidget();var i=e.uri,n=e.range;this._editorService.openCodeEditor({resource:i,options:{selection:n}},this._editor,t)},e.ID="editor.contrib.referencesController",e=Wa([Ha(2,Ue.c),Ha(3,we.a),Ha(4,Bi.a),Ha(5,Fi.a),Ha(6,Vi.a),Ha(7,yn.a)],e)}();function Ga(e,t){var i=function(e){var t=e.get(we.a).getFocusedCodeEditor();return t instanceof wo?t.getParentEditor():t}(e);if(i){var n=qa.get(i);n&&t(n)}}ei.a.registerCommandAndKeybindingRule({id:"goToNextReference",weight:250,primary:62,secondary:[70],when:Ua,handler:function(e){Ga(e,(function(e){e.goToNextOrPreviousReference(!0)}))}}),ei.a.registerCommandAndKeybindingRule({id:"goToNextReferenceFromEmbeddedEditor",weight:150,primary:62,secondary:[70],when:po.inPeekEditor,handler:function(e){Ga(e,(function(e){e.goToNextOrPreviousReference(!0)}))}}),ei.a.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:250,primary:1086,secondary:[1094],when:Ua,handler:function(e){Ga(e,(function(e){e.goToNextOrPreviousReference(!1)}))}}),ei.a.registerCommandAndKeybindingRule({id:"goToPreviousReferenceFromEmbeddedEditor",weight:150,primary:1086,secondary:[1094],when:po.inPeekEditor,handler:function(e){Ga(e,(function(e){e.goToNextOrPreviousReference(!1)}))}}),ei.a.registerCommandAndKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:Ue.a.and(Ua,Ue.a.not("config.editor.stablePeek")),handler:function(e){Ga(e,(function(e){return e.closeWidget()}))}}),ei.a.registerCommandAndKeybindingRule({id:"closeReferenceSearchEditor",weight:-1,primary:9,secondary:[1033],when:Ue.a.and(po.inPeekEditor,Ue.a.not("config.editor.stablePeek")),handler:function(e){Ga(e,(function(e){return e.closeWidget()}))}}),ei.a.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:Ue.a.and(Ua,Sa.d),handler:function(e){var t,i=null===(t=e.get(Sa.a).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(i)&&i[0]instanceof qs&&Ga(e,(function(e){return e.openReference(i[0],!0)}))}});var Za=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),$a=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Ya=function(e,t){return function(i,n){t(i,n,e)}},Ja=new Ue.d("hasSymbols",!1),Qa=Object(Fi.c)("ISymbolNavigationService"),Xa=function(){function e(e,t,i,n){this._editorService=t,this._notificationService=i,this._keybindingService=n,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=Ja.bindTo(e)}return e.prototype.reset=function(){this._ctxHasSymbols.reset(),Object(ee.f)(this._currentState),Object(ee.f)(this._currentMessage),this._currentModel=void 0,this._currentIdx=-1},e.prototype.put=function(e){var t=this,i=e.parent.parent;if(i.references.length<=1)this.reset();else{this._currentModel=i,this._currentIdx=i.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();var n=new cc(this._editorService),o=n.onDidChange((function(e){if(!t._ignoreEditorChange){var n=t._editorService.getActiveCodeEditor();if(n){var o=n.getModel(),r=n.getPosition();if(o&&r){for(var s=!1,a=!1,c=0,l=i.references;c<l.length;c++){var u=l[c];if(Object(ro.e)(u.uri,o.uri))s=!0,a=a||ne.a.containsPosition(u.range,r);else if(s)break}s&&a||t.reset()}}}}));this._currentState=Object(ee.e)(n,o)}},e.prototype.revealNext=function(e){var t=this;if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;var i=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:i.uri,options:{selection:ne.a.collapseToStart(i.range),revealInCenterIfOutsideViewport:!0}},e).finally((function(){t._ignoreEditorChange=!1}))},e.prototype._showMessage=function(){Object(ee.f)(this._currentMessage);var e=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),t=e?Object(Q.a)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,e.getLabel()):Object(Q.a)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(t)},e=$a([Ya(0,Ue.c),Ya(1,we.a),Ya(2,Bi.a),Ya(3,Li.a)],e)}();Object(Io.b)(Qa,Xa,!0),Object(te.g)(new(function(e){function t(){return e.call(this,{id:"editor.gotoNextSymbolFromResult",precondition:Ja,kbOpts:{weight:100,primary:70}})||this}return Za(t,e),t.prototype.runEditorCommand=function(e,t){return e.get(Qa).revealNext(t)},t}(te.c))),ei.a.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:Ja,primary:9,handler:function(e){e.get(Qa).reset()}});var ec,tc,ic,nc,oc,rc,sc,ac,cc=function(){function e(e){this._listener=new Map,this._disposables=new ee.b,this._onDidChange=new bt.a,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}return e.prototype.dispose=function(){this._disposables.dispose(),this._onDidChange.dispose(),this._listener.forEach(ee.f)},e.prototype._onDidAddEditor=function(e){var t=this;this._listener.set(e,Object(ee.e)(e.onDidChangeCursorPosition((function(i){return t._onDidChange.fire({editor:e})})),e.onDidChangeModelContent((function(i){return t._onDidChange.fire({editor:e})}))))},e.prototype._onDidRemoveEditor=function(e){Object(ee.f)(this._listener.get(e)),this._listener.delete(e)},e=$a([Ya(0,we.a)],e)}(),lc=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),uc=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},dc=function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};de.c.appendMenuItem(7,{submenu:8,title:Q.a("peek.submenu","Peek"),group:"navigation",order:100});var hc=function(e){function t(t,i){var n=e.call(this,i)||this;return n._configuration=t,n}return lc(t,e),t.prototype.run=function(e,t){var i=this;if(!t.hasModel())return Promise.resolve(void 0);var n=e.get(Bi.a),o=e.get(we.a),r=e.get(as.a),s=e.get(Qa),a=t.getModel(),c=t.getPosition(),l=new Or.b(t,5),u=Object(X.j)(this._getLocationModel(a,c,l.token),l.token).then((function(e){return uc(i,void 0,void 0,(function(){var i,n,r,u;return dc(this,(function(d){if(!e||l.token.isCancellationRequested)return[2];if(Object(Tt.a)(e.ariaMessage),e.referenceAt(a.uri,c)&&(n=this._getAlternativeCommand(t))!==this.id&&(i=t.getAction(n)),0===(r=e.references.length))this._configuration.muteMessage||(u=a.getWordAtPosition(c),Ar.get(t).showMessage(this._getNoResultFoundMessage(u),c));else{if(1!==r||!i)return[2,this._onResult(o,s,t,e)];i.run()}return[2]}))}))}),(function(e){n.error(e)})).finally((function(){l.dispose()}));return r.showWhile(u,250),u},t.prototype._onResult=function(e,t,i,n){return uc(this,void 0,void 0,(function(){var o,r,s,a;return dc(this,(function(c){switch(c.label){case 0:return o=this._getGoToPreference(i),this._configuration.openInPeek||"peek"===o&&n.references.length>1?(this._openInPeek(i,n),[3,3]):[3,1];case 1:return r=n.firstReference(),s=n.references.length>1&&"gotoAndPeek"===o,[4,this._openReference(i,e,r,this._configuration.openToSide,!s)];case 2:a=c.sent(),s&&a?this._openInPeek(a,n):n.dispose(),"goto"===o&&t.put(r),c.label=3;case 3:return[2]}}))}))},t.prototype._openReference=function(e,t,i,n,o){return uc(this,void 0,void 0,(function(){var r,s,a,c;return dc(this,(function(l){switch(l.label){case 0:return r=void 0,Object(fn.C)(i)&&(r=i.targetSelectionRange),r||(r=i.range),[4,t.openCodeEditor({resource:i.uri,options:{selection:ne.a.collapseToStart(r),revealInCenterIfOutsideViewport:!0}},e,n)];case 1:return(s=l.sent())?(o&&(a=s.getModel(),c=s.deltaDecorations([],[{range:r,options:{className:"symbolHighlight"}}]),setTimeout((function(){s.getModel()===a&&s.deltaDecorations(c,[])}),350)),[2,s]):[2,void 0]}}))}))},t.prototype._openInPeek=function(e,t){var i=qa.get(e);i&&e.hasModel()?i.toggleWidget(e.getSelection(),Object(X.f)((function(e){return Promise.resolve(t)})),this._configuration.openInPeek):t.dispose()},t}(te.b),pc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lc(t,e),t.prototype._getLocationModel=function(e,t,i){return uc(this,void 0,void 0,(function(){var n;return dc(this,(function(o){switch(o.label){case 0:return n=$s.bind,[4,Vs(e,t,i)];case 1:return[2,new(n.apply($s,[void 0,o.sent(),Q.a("def.title","Definitions")]))]}}))}))},t.prototype._getNoResultFoundMessage=function(e){return e&&e.word?Q.a("noResultWord","No definition found for '{0}'",e.word):Q.a("generic.noResults","No definition found")},t.prototype._getAlternativeCommand=function(e){return e.getOption(39).alternativeDefinitionCommand},t.prototype._getGoToPreference=function(e){return e.getOption(39).multipleDefinitions},t}(hc),gc=ve.g&&!be.l?2118:70;Object(te.f)(((ec=function(e){function t(){var i=e.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:t.id,label:Q.a("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:Ue.a.and(re.a.hasDefinitionProvider,re.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:re.a.editorTextFocus,primary:gc,weight:100},contextMenuOpts:{group:"navigation",order:1.1},menuOpts:{menuId:17,group:"4_symbol_nav",order:2,title:Q.a({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")}})||this;return mo.a.registerCommandAlias("editor.action.goToDeclaration",t.id),i}return lc(t,e),t}(pc)).id="editor.action.revealDefinition",ec)),Object(te.f)(((tc=function(e){function t(){var i=e.call(this,{openToSide:!0,openInPeek:!1,muteMessage:!1},{id:t.id,label:Q.a("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:Ue.a.and(re.a.hasDefinitionProvider,re.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:re.a.editorTextFocus,primary:Object(sn.a)(2089,gc),weight:100}})||this;return mo.a.registerCommandAlias("editor.action.openDeclarationToTheSide",t.id),i}return lc(t,e),t}(pc)).id="editor.action.revealDefinitionAside",tc)),Object(te.f)(((ic=function(e){function t(){var i=e.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:t.id,label:Q.a("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:Ue.a.and(re.a.hasDefinitionProvider,po.notInPeekEditor,re.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:re.a.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:8,group:"peek",order:2}})||this;return mo.a.registerCommandAlias("editor.action.previewDeclaration",t.id),i}return lc(t,e),t}(pc)).id="editor.action.peekDefinition",ic));var fc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lc(t,e),t.prototype._getLocationModel=function(e,t,i){return uc(this,void 0,void 0,(function(){var n;return dc(this,(function(o){switch(o.label){case 0:return n=$s.bind,[4,Bs(e,t,i)];case 1:return[2,new(n.apply($s,[void 0,o.sent(),Q.a("decl.title","Declarations")]))]}}))}))},t.prototype._getNoResultFoundMessage=function(e){return e&&e.word?Q.a("decl.noResultWord","No declaration found for '{0}'",e.word):Q.a("decl.generic.noResults","No declaration found")},t.prototype._getAlternativeCommand=function(e){return e.getOption(39).alternativeDeclarationCommand},t.prototype._getGoToPreference=function(e){return e.getOption(39).multipleDeclarations},t}(hc);Object(te.f)(((nc=function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:t.id,label:Q.a("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:Ue.a.and(re.a.hasDeclarationProvider,re.a.isInEmbeddedEditor.toNegated()),contextMenuOpts:{group:"navigation",order:1.3},menuOpts:{menuId:17,group:"4_symbol_nav",order:3,title:Q.a({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")}})||this}return lc(t,e),t.prototype._getNoResultFoundMessage=function(e){return e&&e.word?Q.a("decl.noResultWord","No declaration found for '{0}'",e.word):Q.a("decl.generic.noResults","No declaration found")},t}(fc)).id="editor.action.revealDeclaration",nc)),Object(te.f)(function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:Q.a("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:Ue.a.and(re.a.hasDeclarationProvider,po.notInPeekEditor,re.a.isInEmbeddedEditor.toNegated()),contextMenuOpts:{menuId:8,group:"peek",order:3}})||this}return lc(t,e),t}(fc));var mc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lc(t,e),t.prototype._getLocationModel=function(e,t,i){return uc(this,void 0,void 0,(function(){var n;return dc(this,(function(o){switch(o.label){case 0:return n=$s.bind,[4,Hs(e,t,i)];case 1:return[2,new(n.apply($s,[void 0,o.sent(),Q.a("typedef.title","Type Definitions")]))]}}))}))},t.prototype._getNoResultFoundMessage=function(e){return e&&e.word?Q.a("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):Q.a("goToTypeDefinition.generic.noResults","No type definition found")},t.prototype._getAlternativeCommand=function(e){return e.getOption(39).alternativeTypeDefinitionCommand},t.prototype._getGoToPreference=function(e){return e.getOption(39).multipleTypeDefinitions},t}(hc);Object(te.f)(((oc=function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:t.ID,label:Q.a("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:Ue.a.and(re.a.hasTypeDefinitionProvider,re.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:re.a.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4},menuOpts:{menuId:17,group:"4_symbol_nav",order:3,title:Q.a({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")}})||this}return lc(t,e),t}(mc)).ID="editor.action.goToTypeDefinition",oc)),Object(te.f)(((rc=function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:t.ID,label:Q.a("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:Ue.a.and(re.a.hasTypeDefinitionProvider,po.notInPeekEditor,re.a.isInEmbeddedEditor.toNegated()),contextMenuOpts:{menuId:8,group:"peek",order:4}})||this}return lc(t,e),t}(mc)).ID="editor.action.peekTypeDefinition",rc));var _c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lc(t,e),t.prototype._getLocationModel=function(e,t,i){return uc(this,void 0,void 0,(function(){var n;return dc(this,(function(o){switch(o.label){case 0:return n=$s.bind,[4,Ws(e,t,i)];case 1:return[2,new(n.apply($s,[void 0,o.sent(),Q.a("impl.title","Implementations")]))]}}))}))},t.prototype._getNoResultFoundMessage=function(e){return e&&e.word?Q.a("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):Q.a("goToImplementation.generic.noResults","No implementation found")},t.prototype._getAlternativeCommand=function(e){return e.getOption(39).alternativeImplementationCommand},t.prototype._getGoToPreference=function(e){return e.getOption(39).multipleImplementations},t}(hc);Object(te.f)(((sc=function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:t.ID,label:Q.a("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:Ue.a.and(re.a.hasImplementationProvider,re.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:re.a.editorTextFocus,primary:2118,weight:100},menuOpts:{menuId:17,group:"4_symbol_nav",order:4,title:Q.a({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},contextMenuOpts:{group:"navigation",order:1.45}})||this}return lc(t,e),t}(_c)).ID="editor.action.goToImplementation",sc)),Object(te.f)(((ac=function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:t.ID,label:Q.a("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:Ue.a.and(re.a.hasImplementationProvider,po.notInPeekEditor,re.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:re.a.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:8,group:"peek",order:5}})||this}return lc(t,e),t}(_c)).ID="editor.action.peekImplementation",ac));var bc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lc(t,e),t.prototype._getNoResultFoundMessage=function(e){return e?Q.a("references.no","No references found for '{0}'",e.word):Q.a("references.noGeneric","No references found")},t.prototype._getAlternativeCommand=function(e){return e.getOption(39).alternativeReferenceCommand},t.prototype._getGoToPreference=function(e){return e.getOption(39).multipleReferences},t}(hc);Object(te.f)(function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:Q.a("goToReferences.label","Go to References"),alias:"Go to References",precondition:Ue.a.and(re.a.hasReferenceProvider,po.notInPeekEditor,re.a.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:re.a.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45},menuOpts:{menuId:17,group:"4_symbol_nav",order:5,title:Q.a({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")}})||this}return lc(t,e),t.prototype._getLocationModel=function(e,t,i){return uc(this,void 0,void 0,(function(){var n;return dc(this,(function(o){switch(o.label){case 0:return n=$s.bind,[4,zs(e,t,!0,i)];case 1:return[2,new(n.apply($s,[void 0,o.sent(),Q.a("ref.title","References")]))]}}))}))},t}(bc)),Object(te.f)(function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:Q.a("references.action.label","Peek References"),alias:"Peek References",precondition:Ue.a.and(re.a.hasReferenceProvider,po.notInPeekEditor,re.a.isInEmbeddedEditor.toNegated()),contextMenuOpts:{menuId:8,group:"peek",order:6}})||this}return lc(t,e),t.prototype._getLocationModel=function(e,t,i){return uc(this,void 0,void 0,(function(){var n;return dc(this,(function(o){switch(o.label){case 0:return n=$s.bind,[4,zs(e,t,!1,i)];case 1:return[2,new(n.apply($s,[void 0,o.sent(),Q.a("ref.title","References")]))]}}))}))},t}(bc));var vc=function(e){function t(t,i){var n=e.call(this,{muteMessage:!0,openInPeek:!1,openToSide:!1},{id:"editor.action.goToLocation",label:Q.a("label.generic","Go To Any Symbol"),alias:"Go To Any Symbol",precondition:Ue.a.and(po.notInPeekEditor,re.a.isInEmbeddedEditor.toNegated())})||this;return n._references=t,n._gotoMultipleBehaviour=i,n}return lc(t,e),t.prototype._getLocationModel=function(e,t,i){return uc(this,void 0,void 0,(function(){return dc(this,(function(e){return[2,new $s(this._references,Q.a("generic.title","Locations"))]}))}))},t.prototype._getNoResultFoundMessage=function(e){return e&&Q.a("generic.noResult","No results for '{0}'",e.word)||""},t.prototype._getGoToPreference=function(e){var t;return null!=(t=this._gotoMultipleBehaviour)?t:e.getOption(39).multipleReferences},t.prototype._getAlternativeCommand=function(){return""},t}(hc);mo.a.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:mn.a},{name:"position",description:"The position at which to start",constraint:ie.a.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:function(e,t,i,n,o){return uc(void 0,void 0,void 0,(function(){var r,s;return dc(this,(function(a){switch(a.label){case 0:return Object(Oa.a)(mn.a.isUri(t)),Object(Oa.a)(ie.a.isIPosition(i)),Object(Oa.a)(Array.isArray(n)),Object(Oa.a)(void 0===o||"string"==typeof o),[4,(r=e.get(we.a)).openCodeEditor({resource:t},r.getFocusedCodeEditor())];case 1:return s=a.sent(),Object(Us.a)(s)?(s.setPosition(i),s.revealPositionInCenterIfOutsideViewport(i,0),[2,s.invokeWithinContext((function(e){var t=new vc(n,o);e.get(Fi.a).invokeFunction(t.run.bind(t),s)}))]):[2]}}))}))}}),mo.a.registerCommand({id:"editor.action.findReferences",handler:function(e,t,i){Object(Oa.a)(mn.a.isUri(t)),Object(Oa.a)(ie.a.isIPosition(i));var n=e.get(we.a);return n.openCodeEditor({resource:t},n.getFocusedCodeEditor()).then((function(e){if(Object(Us.a)(e)&&e.hasModel()){var t=qa.get(e);if(t){var n=Object(X.f)((function(t){return zs(e.getModel(),ie.a.lift(i),!1,t).then((function(e){return new $s(e,Q.a("ref.title","References"))}))})),o=new ne.a(i.lineNumber,i.column,i.lineNumber,i.column);return Promise.resolve(t.toggleWidget(o,n,!1))}}}))}}),mo.a.registerCommandAlias("editor.action.showReferences","editor.action.goToLocations");var yc=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();function wc(e,t){return!!e[t]}var Cc=function(e,t){this.target=e.target,this.hasTriggerModifier=wc(e.event,t.triggerModifier),this.hasSideBySideModifier=wc(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=be.i||e.event.detail<=1},Sc=function(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=wc(e,t.triggerModifier)},Oc=function(){function e(e,t,i,n){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=i,this.triggerSideBySideModifier=n}return e.prototype.equals=function(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier},e}();function kc(e){return"altKey"===e?ve.e?new Oc(57,"metaKey",6,"altKey"):new Oc(5,"ctrlKey",6,"altKey"):ve.e?new Oc(6,"altKey",57,"metaKey"):new Oc(6,"altKey",5,"ctrlKey")}var xc=function(e){function t(t){var i=e.call(this)||this;return i._onMouseMoveOrRelevantKeyDown=i._register(new bt.a),i.onMouseMoveOrRelevantKeyDown=i._onMouseMoveOrRelevantKeyDown.event,i._onExecute=i._register(new bt.a),i.onExecute=i._onExecute.event,i._onCancel=i._register(new bt.a),i.onCancel=i._onCancel.event,i._editor=t,i._opts=kc(i._editor.getOption(57)),i.lastMouseMoveEvent=null,i.hasTriggerKeyOnMouseDown=!1,i._register(i._editor.onDidChangeConfiguration((function(e){if(e.hasChanged(57)){var t=kc(i._editor.getOption(57));if(i._opts.equals(t))return;i._opts=t,i.lastMouseMoveEvent=null,i.hasTriggerKeyOnMouseDown=!1,i._onCancel.fire()}}))),i._register(i._editor.onMouseMove((function(e){return i.onEditorMouseMove(new Cc(e,i._opts))}))),i._register(i._editor.onMouseDown((function(e){return i.onEditorMouseDown(new Cc(e,i._opts))}))),i._register(i._editor.onMouseUp((function(e){return i.onEditorMouseUp(new Cc(e,i._opts))}))),i._register(i._editor.onKeyDown((function(e){return i.onEditorKeyDown(new Sc(e,i._opts))}))),i._register(i._editor.onKeyUp((function(e){return i.onEditorKeyUp(new Sc(e,i._opts))}))),i._register(i._editor.onMouseDrag((function(){return i.resetHandler()}))),i._register(i._editor.onDidChangeCursorSelection((function(e){return i.onDidChangeCursorSelection(e)}))),i._register(i._editor.onDidChangeModel((function(e){return i.resetHandler()}))),i._register(i._editor.onDidChangeModelContent((function(){return i.resetHandler()}))),i._register(i._editor.onDidScrollChange((function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&i.resetHandler()}))),i}return yc(t,e),t.prototype.onDidChangeCursorSelection=function(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this.resetHandler()},t.prototype.onEditorMouseMove=function(e){this.lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])},t.prototype.onEditorMouseDown=function(e){this.hasTriggerKeyOnMouseDown=e.hasTriggerModifier},t.prototype.onEditorMouseUp=function(e){this.hasTriggerKeyOnMouseDown&&this._onExecute.fire(e)},t.prototype.onEditorKeyDown=function(e){this.lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this.lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()},t.prototype.onEditorKeyUp=function(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()},t.prototype.resetHandler=function(){this.lastMouseMoveEvent=null,this.hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()},t}(ee.a),Dc=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Ic=function(e,t){return function(i,n){t(i,n,e)}},Pc=function(){function e(e,t,i){var n=this;this.textModelResolverService=t,this.modeService=i,this.toUnhook=new ee.b,this.toUnhookForKeyboard=new ee.b,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e;var o=new xc(e);this.toUnhook.add(o),this.toUnhook.add(o.onMouseMoveOrRelevantKeyDown((function(e){var t=e[0],i=e[1];n.startFindDefinitionFromMouse(t,Object(Oa.n)(i))}))),this.toUnhook.add(o.onExecute((function(e){n.isEnabled(e)&&n.gotoDefinition(e.target.position,e.hasSideBySideModifier).then((function(){n.removeLinkDecorations()}),(function(e){n.removeLinkDecorations(),Object(Ft.e)(e)}))}))),this.toUnhook.add(o.onCancel((function(){n.removeLinkDecorations(),n.currentWordAtPosition=null})))}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.startFindDefinitionFromCursor=function(e){var t=this;return this.startFindDefinition(e).then((function(){t.toUnhookForKeyboard.add(t.editor.onDidChangeCursorPosition((function(){t.currentWordAtPosition=null,t.removeLinkDecorations(),t.toUnhookForKeyboard.clear()}))),t.toUnhookForKeyboard.add(t.editor.onKeyDown((function(e){e&&(t.currentWordAtPosition=null,t.removeLinkDecorations(),t.toUnhookForKeyboard.clear())})))}))},e.prototype.startFindDefinitionFromMouse=function(e,t){if(!(9===e.target.type&&this.linkDecorations.length>0)){if(!this.editor.hasModel()||!this.isEnabled(e,t))return this.currentWordAtPosition=null,void this.removeLinkDecorations();var i=e.target.position;this.startFindDefinition(i)}},e.prototype.startFindDefinition=function(e){var t,i=this;this.toUnhookForKeyboard.clear();var n=e?null===(t=this.editor.getModel())||void 0===t?void 0:t.getWordAtPosition(e):null;if(!n)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===n.startColumn&&this.currentWordAtPosition.endColumn===n.endColumn&&this.currentWordAtPosition.word===n.word)return Promise.resolve(0);this.currentWordAtPosition=n;var o=new Or.a(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=Object(X.f)((function(t){return i.findDefinition(e,t)})),this.previousPromise.then((function(t){if(t&&t.length&&o.validate(i.editor))if(t.length>1)i.addDecoration(new ne.a(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn),(new un).appendText(Q.a("multipleResults","Click to show {0} definitions.",t.length)));else{var r=t[0];if(!r.uri)return;i.textModelResolverService.createModelReference(r.uri).then((function(t){if(t.object&&t.object.textEditorModel){var o=t.object.textEditorModel,s=r.range.startLineNumber;if(s<1||s>o.getLineCount())t.dispose();else{var a,c=i.getPreviewValue(o,s,r);a=r.originSelectionRange?ne.a.lift(r.originSelectionRange):new ne.a(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn);var l=i.modeService.getModeIdByFilepathOrFirstLine(o.uri);i.addDecoration(a,(new un).appendCodeblock(l||"",c)),t.dispose()}}else t.dispose()}))}else i.removeLinkDecorations()})).then(void 0,Ft.e)},e.prototype.getPreviewValue=function(t,i,n){var o=n.targetSelectionRange?n.range:this.getPreviewRangeBasedOnBrackets(t,i);return o.endLineNumber-o.startLineNumber>=e.MAX_SOURCE_PREVIEW_LINES&&(o=this.getPreviewRangeBasedOnIndentation(t,i)),this.stripIndentationFromPreviewRange(t,i,o)},e.prototype.stripIndentationFromPreviewRange=function(e,t,i){for(var n=e.getLineFirstNonWhitespaceColumn(t),o=t+1;o<i.endLineNumber;o++){var r=e.getLineFirstNonWhitespaceColumn(o);n=Math.min(n,r)}return e.getValueInRange(i).replace(new RegExp("^\\s{"+(n-1)+"}","gm"),"").trim()},e.prototype.getPreviewRangeBasedOnIndentation=function(t,i){for(var n=t.getLineFirstNonWhitespaceColumn(i),o=Math.min(t.getLineCount(),i+e.MAX_SOURCE_PREVIEW_LINES),r=i+1;r<o;r++){if(n===t.getLineFirstNonWhitespaceColumn(r))break}return new ne.a(i,1,r+1,1)},e.prototype.getPreviewRangeBasedOnBrackets=function(t,i){for(var n=Math.min(t.getLineCount(),i+e.MAX_SOURCE_PREVIEW_LINES),o=[],r=!0,s=t.findNextBracket(new ie.a(i,1));null!==s;){if(0===o.length)o.push(s);else{var a=o[o.length-1];if(a.open[0]===s.open[0]&&a.isOpen&&!s.isOpen?o.pop():o.push(s),0===o.length){if(!r)return new ne.a(i,1,s.range.endLineNumber+1,1);r=!1}}var c=t.getLineMaxColumn(i),l=s.range.endLineNumber,u=s.range.endColumn;if(c===s.range.endColumn&&(l++,u=1),l>n)return new ne.a(i,1,n+1,1);s=t.findNextBracket(new ie.a(l,u))}return new ne.a(i,1,n+1,1)},e.prototype.addDecoration=function(e,t){var i={range:e,options:{inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[i])},e.prototype.removeLinkDecorations=function(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))},e.prototype.isEnabled=function(e,t){return this.editor.hasModel()&&e.isNoneOrSingleMouseDown&&6===e.target.type&&(e.hasTriggerModifier||!!t&&t.keyCodeIsTriggerKey)&&fn.f.has(this.editor.getModel())},e.prototype.findDefinition=function(e,t){var i=this.editor.getModel();return i?Vs(i,e,t):Promise.resolve(null)},e.prototype.gotoDefinition=function(e,t){var i=this;this.editor.setPosition(e);var n=new pc({openToSide:t,openInPeek:!1,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0});return this.editor.invokeWithinContext((function(e){return n.run(e,i.editor)}))},e.prototype.dispose=function(){this.toUnhook.dispose()},e.ID="editor.contrib.gotodefinitionatposition",e.MAX_SOURCE_PREVIEW_LINES=8,e=Dc([Ic(1,Ks.a),Ic(2,an.a)],e)}();Object(te.h)(Pc.ID,Pc),Object(ue.e)((function(e,t){var i=e.getColor(le.n);i&&t.addRule(".monaco-editor .goto-definition-link { color: "+i+" !important; }")}));var Ec=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Mc=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Nc=function(e,t){return function(i,n){t(i,n,e)}},Rc=function(){function e(e,t,i,n,o,r){var s=this;this._editor=e,this._openerService=t,this._modeService=i,this._markerDecorationsService=n,this._keybindingService=o,this._themeService=r,this._toUnhook=new ee.b,this._contentWidget=new ee.d,this._glyphWidget=new ee.d,this._isMouseDown=!1,this._hoverClicked=!1,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration((function(e){e.hasChanged(42)&&(s._hideWidgets(),s._unhookEvents(),s._hookEvents())}))}return Object.defineProperty(e.prototype,"contentWidget",{get:function(){return this._contentWidget.value||this._createHoverWidgets(),this._contentWidget.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"glyphWidget",{get:function(){return this._glyphWidget.value||this._createHoverWidgets(),this._glyphWidget.value},enumerable:!0,configurable:!0}),e.get=function(t){return t.getContribution(e.ID)},e.prototype._hookEvents=function(){var e=this,t=function(){return e._hideWidgets()},i=this._editor.getOption(42);this._isHoverEnabled=i.enabled,this._isHoverSticky=i.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown((function(t){return e._onEditorMouseDown(t)}))),this._toUnhook.add(this._editor.onMouseUp((function(t){return e._onEditorMouseUp(t)}))),this._toUnhook.add(this._editor.onMouseMove((function(t){return e._onEditorMouseMove(t)}))),this._toUnhook.add(this._editor.onKeyDown((function(t){return e._onKeyDown(t)}))),this._toUnhook.add(this._editor.onDidChangeModelDecorations((function(){return e._onModelDecorationsChanged()})))):this._toUnhook.add(this._editor.onMouseMove(t)),this._toUnhook.add(this._editor.onMouseLeave(t)),this._toUnhook.add(this._editor.onDidChangeModel(t)),this._toUnhook.add(this._editor.onDidScrollChange((function(t){return e._onEditorScrollChanged(t)})))},e.prototype._unhookEvents=function(){this._toUnhook.clear()},e.prototype._onModelDecorationsChanged=function(){this.contentWidget.onModelDecorationsChanged(),this.glyphWidget.onModelDecorationsChanged()},e.prototype._onEditorScrollChanged=function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()},e.prototype._onEditorMouseDown=function(e){this._isMouseDown=!0;var t=e.target.type;9!==t||e.target.detail!==Ms.ID?12===t&&e.target.detail===js.ID||(12!==t&&e.target.detail!==js.ID&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0},e.prototype._onEditorMouseUp=function(e){this._isMouseDown=!1},e.prototype._onEditorMouseMove=function(e){var t=e.target.type;if(!(this._isMouseDown&&this._hoverClicked&&this.contentWidget.isColorPickerVisible()||this._isHoverSticky&&9===t&&e.target.detail===Ms.ID||this._isHoverSticky&&12===t&&e.target.detail===js.ID)){if(7===t){var i=this._editor.getOption(32).typicalHalfwidthCharacterWidth/2,n=e.target.detail;n&&!n.isAfterLines&&"number"==typeof n.horizontalDistanceToText&&n.horizontalDistanceToText<i&&(t=6)}6===t?(this.glyphWidget.hide(),this._isHoverEnabled&&e.target.range&&this.contentWidget.startShowingAt(e.target.range,0,!1)):2===t?(this.contentWidget.hide(),this._isHoverEnabled&&e.target.position&&this.glyphWidget.startShowingAt(e.target.position.lineNumber)):this._hideWidgets()}},e.prototype._onKeyDown=function(e){5!==e.keyCode&&6!==e.keyCode&&57!==e.keyCode&&4!==e.keyCode&&this._hideWidgets()},e.prototype._hideWidgets=function(){!this._glyphWidget.value||!this._contentWidget.value||this._isMouseDown&&this._hoverClicked&&this._contentWidget.value.isColorPickerVisible()||(this._glyphWidget.value.hide(),this._contentWidget.value.hide())},e.prototype._createHoverWidgets=function(){this._contentWidget.value=new Ms(this._editor,this._markerDecorationsService,this._themeService,this._keybindingService,this._modeService,this._openerService),this._glyphWidget.value=new js(this._editor,this._modeService,this._openerService)},e.prototype.showContentHover=function(e,t,i){this.contentWidget.startShowingAt(e,t,i)},e.prototype.dispose=function(){this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),this._glyphWidget.dispose(),this._contentWidget.dispose()},e.ID="editor.contrib.hover",e=Mc([Nc(1,Qn.a),Nc(2,an.a),Nc(3,Ts.a),Nc(4,Li.a),Nc(5,ue.c)],e)}(),jc=function(e){function t(){return e.call(this,{id:"editor.action.showHover",label:Q.a({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:re.a.editorTextFocus,primary:Object(sn.a)(2089,2087),weight:100}})||this}return Ec(t,e),t.prototype.run=function(e,t){if(t.hasModel()){var i=Rc.get(t);if(i){var n=t.getPosition(),o=new ne.a(n.lineNumber,n.column,n.lineNumber,n.column),r=2===t.getOption(2);i.showContentHover(o,1,r)}}},t}(te.b),Tc=function(e){function t(){return e.call(this,{id:"editor.action.showDefinitionPreviewHover",label:Q.a({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})||this}return Ec(t,e),t.prototype.run=function(e,t){var i=Rc.get(t);if(i){var n=t.getPosition();if(n){var o=new ne.a(n.lineNumber,n.column,n.lineNumber,n.column),r=Pc.get(t).startFindDefinitionFromCursor(n);r?r.then((function(){i.showContentHover(o,1,!0)})):i.showContentHover(o,1,!0)}}},t}(te.b);Object(te.h)(Rc.ID,Rc),Object(te.f)(jc),Object(te.f)(Tc),Object(ue.e)((function(e,t){var i=e.getColor(le.D);i&&t.addRule(".monaco-editor .hoverHighlight { background-color: "+i+"; }");var n=e.getColor(le.A);n&&t.addRule(".monaco-editor .monaco-editor-hover { background-color: "+n+"; }");var o=e.getColor(le.B);o&&(t.addRule(".monaco-editor .monaco-editor-hover { border: 1px solid "+o+"; }"),t.addRule(".monaco-editor .monaco-editor-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid "+o.transparent(.5)+"; }"),t.addRule(".monaco-editor .monaco-editor-hover hr { border-top: 1px solid "+o.transparent(.5)+"; }"),t.addRule(".monaco-editor .monaco-editor-hover hr { border-bottom: 0px solid "+o.transparent(.5)+"; }"));var r=e.getColor(le.cc);r&&t.addRule(".monaco-editor .monaco-editor-hover a { color: "+r+"; }");var s=e.getColor(le.C);s&&t.addRule(".monaco-editor .monaco-editor-hover { color: "+s+"; }");var a=e.getColor(le.E);a&&t.addRule(".monaco-editor .monaco-editor-hover .hover-row .actions { background-color: "+a+"; }");var c=e.getColor(le.bc);c&&t.addRule(".monaco-editor .monaco-editor-hover code { background-color: "+c+"; }")}));i(1105);var Ac=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},Fc=function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},Lc={Visible:new Ue.d("parameterHintsVisible",!1),MultipleSignatures:new Ue.d("parameterHintsMultipleSignatures",!1)};function Vc(e,t,i,n){var o=fn.v.ordered(e);return Object(X.h)(o.map((function(o){return function(){return Promise.resolve(o.provideSignatureHelp(e,t,n,i)).catch((function(e){return Object(Ft.f)(e)}))}})))}Object(te.e)("_executeSignatureHelpProvider",(function(e,t,i){return Ac(void 0,void 0,void 0,(function(){var n;return Fc(this,(function(o){switch(o.label){case 0:return[4,Vc(e,t,{triggerKind:fn.w.Invoke,isRetrigger:!1,triggerCharacter:i.triggerCharacter},cn.a.None)];case 1:return(n=o.sent())?(setTimeout((function(){return n.dispose()}),0),[2,n.value]):[2,void 0]}}))}))}));var Bc,Wc=i(238),Hc=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),zc=function(){return(zc=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Kc=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},Uc=function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};!function(e){e.Default={type:0};var t=function(e){this.request=e,this.type=2};e.Pending=t;var i=function(e){this.hints=e,this.type=1};e.Active=i}(Bc||(Bc={}));var qc=function(e){function t(i,n){void 0===n&&(n=t.DEFAULT_DELAY);var o=e.call(this)||this;return o._onChangedHints=o._register(new bt.a),o.onChangedHints=o._onChangedHints.event,o.triggerOnType=!1,o._state=Bc.Default,o._pendingTriggers=[],o._lastSignatureHelpResult=o._register(new ee.d),o.triggerChars=new Wc.b,o.retriggerChars=new Wc.b,o.triggerId=0,o.editor=i,o.throttledDelayer=new X.a(n),o._register(o.editor.onDidChangeConfiguration((function(){return o.onEditorConfigurationChange()}))),o._register(o.editor.onDidChangeModel((function(e){return o.onModelChanged()}))),o._register(o.editor.onDidChangeModelLanguage((function(e){return o.onModelChanged()}))),o._register(o.editor.onDidChangeCursorSelection((function(e){return o.onCursorChange(e)}))),o._register(o.editor.onDidChangeModelContent((function(e){return o.onModelContentChange()}))),o._register(fn.v.onDidChange(o.onModelChanged,o)),o._register(o.editor.onDidType((function(e){return o.onDidType(e)}))),o.onEditorConfigurationChange(),o.onModelChanged(),o}return Hc(t,e),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(e){2===this._state.type&&this._state.request.cancel(),this._state=e},enumerable:!0,configurable:!0}),t.prototype.cancel=function(e){void 0===e&&(e=!1),this.state=Bc.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)},t.prototype.trigger=function(e,t){var i=this,n=this.editor.getModel();if(n&&fn.v.has(n)){var o=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger((function(){return i.doTrigger(o)}),t).catch(Ft.e)}},t.prototype.next=function(){if(1===this.state.type){var e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t%e==e-1,n=this.editor.getOption(62).cycle;!(e<2||i)||n?this.updateActiveSignature(i&&n?0:t+1):this.cancel()}},t.prototype.previous=function(){if(1===this.state.type){var e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=0===t,n=this.editor.getOption(62).cycle;!(e<2||i)||n?this.updateActiveSignature(i&&n?e-1:t-1):this.cancel()}},t.prototype.updateActiveSignature=function(e){1===this.state.type&&(this.state=new Bc.Active(zc(zc({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))},t.prototype.doTrigger=function(e){var t,i;return Kc(this,void 0,void 0,(function(){var n,o,r,s,a,c,l,u;return Uc(this,(function(d){switch(d.label){case 0:if(n=1===this.state.type||2===this.state.type,o=1===this.state.type?this.state.hints:void 0,this.cancel(!0),0===this._pendingTriggers.length)return[2,!1];if(r=this._pendingTriggers.reduce(Gc),this._pendingTriggers=[],s={triggerKind:r.triggerKind,triggerCharacter:r.triggerCharacter,isRetrigger:n,activeSignatureHelp:o},!this.editor.hasModel())return[2,!1];a=this.editor.getModel(),c=this.editor.getPosition(),this.state=new Bc.Pending(Object(X.f)((function(e){return Vc(a,c,s,e)}))),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.state.request];case 2:return l=d.sent(),e!==this.triggerId?(null===(t=l)||void 0===t||t.dispose(),[2,!1]):l&&l.value.signatures&&0!==l.value.signatures.length?(this.state=new Bc.Active(l.value),this._lastSignatureHelpResult.value=l,this._onChangedHints.fire(this.state.hints),[2,!0]):(null===(i=l)||void 0===i||i.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),[2,!1]);case 3:return u=d.sent(),e===this.triggerId&&(this.state=Bc.Default),Object(Ft.e)(u),[2,!1];case 4:return[2]}}))}))},Object.defineProperty(t.prototype,"isTriggered",{get:function(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()},enumerable:!0,configurable:!0}),t.prototype.onModelChanged=function(){this.cancel(),this.triggerChars=new Wc.b,this.retriggerChars=new Wc.b;var e=this.editor.getModel();if(e)for(var t=0,i=fn.v.ordered(e);t<i.length;t++){for(var n=i[t],o=0,r=n.signatureHelpTriggerCharacters||[];o<r.length;o++){var s=r[o];this.triggerChars.add(s.charCodeAt(0)),this.retriggerChars.add(s.charCodeAt(0))}for(var a=0,c=n.signatureHelpRetriggerCharacters||[];a<c.length;a++){s=c[a];this.retriggerChars.add(s.charCodeAt(0))}}},t.prototype.onDidType=function(e){if(this.triggerOnType){var t=e.length-1,i=e.charCodeAt(t);(this.triggerChars.has(i)||this.isTriggered&&this.retriggerChars.has(i))&&this.trigger({triggerKind:fn.w.TriggerCharacter,triggerCharacter:e.charAt(t)})}},t.prototype.onCursorChange=function(e){"mouse"===e.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:fn.w.ContentChange})},t.prototype.onModelContentChange=function(){this.isTriggered&&this.trigger({triggerKind:fn.w.ContentChange})},t.prototype.onEditorConfigurationChange=function(){this.triggerOnType=this.editor.getOption(62).enabled,this.triggerOnType||this.cancel()},t.prototype.dispose=function(){this.cancel(!0),e.prototype.dispose.call(this)},t.DEFAULT_DELAY=120,t}(ee.a);function Gc(e,t){switch(t.triggerKind){case fn.w.Invoke:return t;case fn.w.ContentChange:return e;case fn.w.TriggerCharacter:default:return t}}var Zc=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),$c=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Yc=function(e,t){return function(i,n){t(i,n,e)}},Jc=ft.a,Qc=function(e){function t(t,i,n,o){var r=e.call(this)||this;return r.editor=t,r.renderDisposeables=r._register(new ee.b),r.visible=!1,r.announcedLabel=null,r.allowEditorOverflow=!0,r.markdownRenderer=r._register(new no(t,o,n)),r.model=r._register(new qc(t)),r.keyVisible=Lc.Visible.bindTo(i),r.keyMultipleSignatures=Lc.MultipleSignatures.bindTo(i),r._register(r.model.onChangedHints((function(e){e?(r.show(),r.render(e)):r.hide()}))),r}return Zc(t,e),t.prototype.createParamaterHintDOMNodes=function(){var e=this,t=Jc(".editor-widget.parameter-hints-widget"),i=ft.p(t,Jc(".wrapper"));i.tabIndex=-1;var n=ft.p(i,Jc(".controls")),o=ft.p(n,Jc(".button.previous")),r=ft.p(n,Jc(".overloads")),s=ft.p(n,Jc(".button.next")),a=Object(qt.b)(Object(qt.a)(o,"click"));this._register(a(this.previous,this));var c=Object(qt.b)(Object(qt.a)(s,"click"));this._register(c(this.next,this));var l=Jc(".body"),u=new Ut.a(l,{});this._register(u),i.appendChild(u.getDomNode());var d=ft.p(l,Jc(".signature")),h=ft.p(l,Jc(".docs"));t.style.userSelect="text",this.domNodes={element:t,signature:d,overloads:r,docs:h,scrollbar:u},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection((function(t){e.visible&&e.editor.layoutContentWidget(e)})));var p=function(){if(e.domNodes){var t=e.editor.getOption(32);e.domNodes.element.style.fontSize=t.fontSize+"px"}};p(),this._register(bt.b.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter((function(e){return e.hasChanged(32)})).on(p,null)),this._register(this.editor.onDidLayoutChange((function(t){return e.updateMaxHeight()}))),this.updateMaxHeight()},t.prototype.show=function(){var e=this;this.visible||(this.domNodes||this.createParamaterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout((function(){e.domNodes&&ft.e(e.domNodes.element,"visible")}),100),this.editor.layoutContentWidget(this))},t.prototype.hide=function(){this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&ft.L(this.domNodes.element,"visible"),this.editor.layoutContentWidget(this))},t.prototype.getPosition=function(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null},t.prototype.render=function(e){if(this.domNodes){var t=e.signatures.length>1;ft.U(this.domNodes.element,"multiple",t),this.keyMultipleSignatures.set(t),this.domNodes.signature.innerHTML="",this.domNodes.docs.innerHTML="";var i=e.signatures[e.activeSignature];if(i){var n=ft.p(this.domNodes.signature,Jc(".code")),o=i.parameters.length>0,r=this.editor.getOption(32);if(n.style.fontSize=r.fontSize+"px",n.style.fontFamily=r.fontFamily,o)this.renderParameters(n,i,e.activeParameter);else ft.p(n,Jc("span")).textContent=i.label;this.renderDisposeables.clear();var s=i.parameters[e.activeParameter];if(s&&s.documentation){var a=Jc("span.documentation");if("string"==typeof s.documentation)a.textContent=s.documentation;else{var c=this.markdownRenderer.render(s.documentation);ft.e(c.element,"markdown-docs"),this.renderDisposeables.add(c),a.appendChild(c.element)}ft.p(this.domNodes.docs,Jc("p",{},a))}if(void 0===i.documentation);else if("string"==typeof i.documentation)ft.p(this.domNodes.docs,Jc("p",{},i.documentation));else{c=this.markdownRenderer.render(i.documentation);ft.e(c.element,"markdown-docs"),this.renderDisposeables.add(c),ft.p(this.domNodes.docs,c.element)}var l=this.hasDocs(i,s);if(ft.U(this.domNodes.signature,"has-docs",l),ft.U(this.domNodes.docs,"empty",!l),this.domNodes.overloads.textContent=Object(Ne.G)(e.activeSignature+1,e.signatures.length.toString().length)+"/"+e.signatures.length,s){var u=this.getParameterLabel(i,e.activeParameter);this.announcedLabel!==u&&(Tt.a(Q.a("hint","{0}, hint",u)),this.announcedLabel=u)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}}},t.prototype.hasDocs=function(e,t){return!!(t&&"string"==typeof t.documentation&&t.documentation.length>0)||(!!(t&&"object"==typeof t.documentation&&t.documentation.value.length>0)||("string"==typeof e.documentation&&e.documentation.length>0||"object"==typeof e.documentation&&e.documentation.value.length>0))},t.prototype.renderParameters=function(e,t,i){var n=this.getParameterLabelOffsets(t,i),o=n[0],r=n[1],s=document.createElement("span");s.textContent=t.label.substring(0,o);var a=document.createElement("span");a.textContent=t.label.substring(o,r),a.className="parameter active";var c=document.createElement("span");c.textContent=t.label.substring(r),ft.p(e,s,a,c)},t.prototype.getParameterLabel=function(e,t){var i=e.parameters[t];return"string"==typeof i.label?i.label:e.label.substring(i.label[0],i.label[1])},t.prototype.getParameterLabelOffsets=function(e,t){var i=e.parameters[t];if(i){if(Array.isArray(i.label))return i.label;var n=e.label.lastIndexOf(i.label);return n>=0?[n,n+i.label.length]:[0,0]}return[0,0]},t.prototype.next=function(){this.editor.focus(),this.model.next()},t.prototype.previous=function(){this.editor.focus(),this.model.previous()},t.prototype.cancel=function(){this.model.cancel()},t.prototype.getDomNode=function(){return this.domNodes||this.createParamaterHintDOMNodes(),this.domNodes.element},t.prototype.getId=function(){return t.ID},t.prototype.trigger=function(e){this.model.trigger(e,0)},t.prototype.updateMaxHeight=function(){if(this.domNodes){var e=Math.max(this.editor.getLayoutInfo().height/4,250)+"px";this.domNodes.element.style.maxHeight=e;var t=this.domNodes.element.getElementsByClassName("wrapper");t.length&&(t[0].style.maxHeight=e)}},t.ID="editor.widget.parameterHintsWidget",t=$c([Yc(1,Ue.c),Yc(2,Qn.a),Yc(3,an.a)],t)}(ee.a);Object(ue.e)((function(e,t){var i=e.getColor(le.B);if(i){var n=e.type===ue.b?2:1;t.addRule(".monaco-editor .parameter-hints-widget { border: "+n+"px solid "+i+"; }"),t.addRule(".monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid "+i.transparent(.5)+"; }"),t.addRule(".monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid "+i.transparent(.5)+"; }")}var o=e.getColor(le.A);o&&t.addRule(".monaco-editor .parameter-hints-widget { background-color: "+o+"; }");var r=e.getColor(le.cc);r&&t.addRule(".monaco-editor .parameter-hints-widget a { color: "+r+"; }");var s=e.getColor(le.C);s&&t.addRule(".monaco-editor .parameter-hints-widget { color: "+s+"; }");var a=e.getColor(le.bc);a&&t.addRule(".monaco-editor .parameter-hints-widget code { background-color: "+a+"; }")}));var Xc=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),el=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},tl=function(e,t){return function(i,n){t(i,n,e)}},il=function(e){function t(t,i){var n=e.call(this)||this;return n.editor=t,n.widget=n._register(i.createInstance(Qc,n.editor)),n}return Xc(t,e),t.get=function(e){return e.getContribution(t.ID)},t.prototype.cancel=function(){this.widget.cancel()},t.prototype.previous=function(){this.widget.previous()},t.prototype.next=function(){this.widget.next()},t.prototype.trigger=function(e){this.widget.trigger(e)},t.ID="editor.controller.parameterHints",t=el([tl(1,Fi.a)],t)}(ee.a),nl=function(e){function t(){return e.call(this,{id:"editor.action.triggerParameterHints",label:Q.a("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:re.a.hasSignatureHelpProvider,kbOpts:{kbExpr:re.a.editorTextFocus,primary:3082,weight:100}})||this}return Xc(t,e),t.prototype.run=function(e,t){var i=il.get(t);i&&i.trigger({triggerKind:fn.w.Invoke})},t}(te.b);Object(te.h)(il.ID,il),Object(te.f)(nl);var ol=te.c.bindToContribution(il.get);Object(te.g)(new ol({id:"closeParameterHints",precondition:Lc.Visible,handler:function(e){return e.cancel()},kbOpts:{weight:175,kbExpr:re.a.focus,primary:9,secondary:[1033]}})),Object(te.g)(new ol({id:"showPrevParameterHint",precondition:Ue.a.and(Lc.Visible,Lc.MultipleSignatures),handler:function(e){return e.previous()},kbOpts:{weight:175,kbExpr:re.a.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),Object(te.g)(new ol({id:"showNextParameterHint",precondition:Ue.a.and(Lc.Visible,Lc.MultipleSignatures),handler:function(e){return e.next()},kbOpts:{weight:175,kbExpr:re.a.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));var rl=function(){function e(){}return e.prototype.provideSelectionRanges=function(e,t){for(var i=[],n=0,o=t;n<o.length;n++){var r=o[n],s=[];i.push(s),this._addInWordRanges(s,e,r),this._addWordRanges(s,e,r),this._addWhitespaceLine(s,e,r),s.push({range:e.getFullModelRange()})}return i},e.prototype._addInWordRanges=function(e,t,i){var n=t.getWordAtPosition(i);if(n){for(var o=n.word,r=n.startColumn,s=i.column-r,a=s,c=s,l=0;a>=0;a--){if(95===(u=o.charCodeAt(a))||45===u)break;if(Object(Ne.C)(u)&&Object(Ne.D)(l))break;l=u}for(a+=1;c<o.length;c++){var u=o.charCodeAt(c);if(Object(Ne.D)(u)&&Object(Ne.C)(l))break;if(95===u||45===u)break;l=u}a<c&&e.push({range:new ne.a(i.lineNumber,r+a,i.lineNumber,r+c)})}},e.prototype._addWordRanges=function(e,t,i){var n=t.getWordAtPosition(i);n&&e.push({range:new ne.a(i.lineNumber,n.startColumn,i.lineNumber,n.endColumn)})},e.prototype._addWhitespaceLine=function(e,t,i){t.getLineLength(i.lineNumber)>0&&0===t.getLineFirstNonWhitespaceColumn(i.lineNumber)&&0===t.getLineLastNonWhitespaceColumn(i.lineNumber)&&e.push({range:new ne.a(i.lineNumber,1,i.lineNumber,t.getLineMaxColumn(i.lineNumber))})},e}(),sl=i(146),al=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},cl=function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},ll=function(){function e(){}return e.prototype.provideSelectionRanges=function(t,i){return al(this,void 0,void 0,(function(){var n,o,r,s,a;return cl(this,(function(c){switch(c.label){case 0:n=[],o=function(i){var o,r;return cl(this,(function(s){switch(s.label){case 0:return o=[],n.push(o),r=new Map,[4,new Promise((function(n){return e._bracketsRightYield(n,0,t,i,r)}))];case 1:return s.sent(),[4,new Promise((function(n){return e._bracketsLeftYield(n,0,t,i,r,o)}))];case 2:return s.sent(),[2]}}))},r=0,s=i,c.label=1;case 1:return r<s.length?(a=s[r],[5,o(a)]):[3,4];case 2:c.sent(),c.label=3;case 3:return r++,[3,1];case 4:return[2,n]}}))}))},e._bracketsRightYield=function(t,i,n,o,r){for(var s=new Map,a=Date.now();;){if(i>=e._maxRounds){t();break}if(!o){t();break}var c=n.findNextBracket(o);if(!c){t();break}if(Date.now()-a>e._maxDuration){setTimeout((function(){return e._bracketsRightYield(t,i+1,n,o,r)}));break}var l=c.close[0];if(c.isOpen){var u=s.has(l)?s.get(l):0;s.set(l,u+1)}else{u=s.has(l)?s.get(l):0;if(u-=1,s.set(l,Math.max(0,u)),u<0){var d=r.get(l);d||(d=new sl.a,r.set(l,d)),d.push(c.range)}}o=c.range.getEndPosition()}},e._bracketsLeftYield=function(t,i,n,o,r,s){for(var a=new Map,c=Date.now();;){if(i>=e._maxRounds&&0===r.size){t();break}if(!o){t();break}var l=n.findPrevBracket(o);if(!l){t();break}if(Date.now()-c>e._maxDuration){setTimeout((function(){return e._bracketsLeftYield(t,i+1,n,o,r,s)}));break}var u=l.close[0];if(l.isOpen){f=a.has(u)?a.get(u):0;if(f-=1,a.set(u,Math.max(0,f)),f<0){var d=r.get(u);if(d){var h=d.shift();0===d.size&&r.delete(u);var p=ne.a.fromPositions(l.range.getEndPosition(),h.getStartPosition()),g=ne.a.fromPositions(l.range.getStartPosition(),h.getEndPosition());s.push({range:p}),s.push({range:g}),e._addBracketLeading(n,g,s)}}}else{var f=a.has(u)?a.get(u):0;a.set(u,f+1)}o=l.range.getStartPosition()}},e._addBracketLeading=function(e,t,i){if(t.startLineNumber!==t.endLineNumber){var n=t.startLineNumber,o=e.getLineFirstNonWhitespaceColumn(n);0!==o&&o!==t.startColumn&&(i.push({range:ne.a.fromPositions(new ie.a(n,o),t.getEndPosition())}),i.push({range:ne.a.fromPositions(new ie.a(n,1),t.getEndPosition())}));var r=n-1;if(r>0){var s=e.getLineFirstNonWhitespaceColumn(r);s===t.startColumn&&s!==e.getLineLastNonWhitespaceColumn(r)&&(i.push({range:ne.a.fromPositions(new ie.a(r,s),t.getEndPosition())}),i.push({range:ne.a.fromPositions(new ie.a(r,1),t.getEndPosition())}))}}},e._maxDuration=30,e._maxRounds=2,e}(),ul=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),dl=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},hl=function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},pl=function(){function e(e,t){this.index=e,this.ranges=t}return e.prototype.mov=function(t){var i=this.index+(t?1:-1);if(i<0||i>=this.ranges.length)return this;var n=new e(i,this.ranges);return n.ranges[i].equalsRange(this.ranges[this.index])?n.mov(t):n},e}(),gl=function(){function e(e){this._ignoreSelection=!1,this._editor=e}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){Object(ee.f)(this._selectionListener)},e.prototype.run=function(e){var t=this;if(this._editor.hasModel()){var i=this._editor.getSelections(),n=this._editor.getModel();if(fn.t.has(n)){var o=Promise.resolve(void 0);return this._state||(o=bl(n,i.map((function(e){return e.getPosition()})),cn.a.None).then((function(e){if(ln.p(e)&&e.length===i.length&&t._editor.hasModel()&&ln.g(t._editor.getSelections(),i,(function(e,t){return e.equalsSelection(t)}))){for(var n=function(t){e[t]=e[t].filter((function(e){return e.containsPosition(i[t].getStartPosition())&&e.containsPosition(i[t].getEndPosition())})),e[t].unshift(i[t])},o=0;o<e.length;o++)n(o);t._state=e.map((function(e){return new pl(0,e)})),Object(ee.f)(t._selectionListener),t._selectionListener=t._editor.onDidChangeCursorPosition((function(){t._ignoreSelection||(Object(ee.f)(t._selectionListener),t._state=void 0)}))}}))),o.then((function(){if(t._state){t._state=t._state.map((function(t){return t.mov(e)}));var i=t._state.map((function(e){return oe.a.fromPositions(e.ranges[e.index].getStartPosition(),e.ranges[e.index].getEndPosition())}));t._ignoreSelection=!0;try{t._editor.setSelections(i)}finally{t._ignoreSelection=!1}}}))}}},e.ID="editor.contrib.smartSelectController",e}(),fl=function(e){function t(t,i){var n=e.call(this,i)||this;return n._forward=t,n}return ul(t,e),t.prototype.run=function(e,t){return dl(this,void 0,void 0,(function(){var e;return hl(this,(function(i){switch(i.label){case 0:return(e=gl.get(t))?[4,e.run(this._forward)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},t}(te.b),ml=function(e){function t(){return e.call(this,!0,{id:"editor.action.smartSelect.expand",label:Q.a("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:re.a.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:23,group:"1_basic",title:Q.a({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})||this}return ul(t,e),t}(fl);mo.a.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");var _l=function(e){function t(){return e.call(this,!1,{id:"editor.action.smartSelect.shrink",label:Q.a("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:re.a.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:23,group:"1_basic",title:Q.a({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})||this}return ul(t,e),t}(fl);function bl(e,t,i){var n=fn.t.all(e);1===n.length&&n.unshift(new ll);for(var o=[],r=[],s=0,a=n;s<a.length;s++){var c=a[s];o.push(Promise.resolve(c.provideSelectionRanges(e,t,i)).then((function(e){if(ln.p(e)&&e.length===t.length)for(var i=0;i<t.length;i++){r[i]||(r[i]=[]);for(var n=0,o=e[i];n<o.length;n++){var s=o[n];ne.a.isIRange(s.range)&&ne.a.containsPosition(s.range,t[i])&&r[i].push(ne.a.lift(s.range))}}}),Ft.f))}return Promise.all(o).then((function(){return r.map((function(t){if(0===t.length)return[];t.sort((function(e,t){return ie.a.isBefore(e.getStartPosition(),t.getStartPosition())?1:ie.a.isBefore(t.getStartPosition(),e.getStartPosition())||ie.a.isBefore(e.getEndPosition(),t.getEndPosition())?-1:ie.a.isBefore(t.getEndPosition(),e.getEndPosition())?1:0}));for(var i,n=[],o=0,r=t;o<r.length;o++){var s=r[o];(!i||ne.a.containsRange(s,i)&&!ne.a.equalsRange(s,i))&&(n.push(s),i=s)}for(var a=[n[0]],c=1;c<n.length;c++){var l=n[c-1],u=n[c];if(u.startLineNumber!==l.startLineNumber||u.endLineNumber!==l.endLineNumber){var d=new ne.a(l.startLineNumber,e.getLineFirstNonWhitespaceColumn(l.startLineNumber),l.endLineNumber,e.getLineLastNonWhitespaceColumn(l.endLineNumber));d.containsRange(l)&&!d.equalsRange(l)&&u.containsRange(d)&&!u.equalsRange(d)&&a.push(d);var h=new ne.a(l.startLineNumber,1,l.endLineNumber,e.getLineMaxColumn(l.endLineNumber));h.containsRange(l)&&!h.equalsRange(d)&&u.containsRange(h)&&!u.equalsRange(h)&&a.push(h)}a.push(u)}return a}))}))}Object(te.h)(gl.ID,gl),Object(te.f)(ml),Object(te.f)(_l),fn.t.register("*",new rl),Object(te.e)("_executeSelectionRangeProvider",(function(e,t,i){return bl(e,i.positions,cn.a.None)}));var vl=i(400),yl=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},wl=function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},Cl={Visible:new Ue.d("suggestWidgetVisible",!1),MultipleSuggestions:new Ue.d("suggestWidgetMultipleSuggestions",!1),MakesTextEdit:new Ue.d("suggestionMakesTextEdit",!0),AcceptSuggestionsOnEnter:new Ue.d("acceptSuggestionOnEnter",!0)},Sl=function(e,t,i,n,o){this.position=e,this.completion=t,this.container=i,this.provider=n,this.score=ua.a.Default,this.distance=0,this.labelLow=t.label.toLowerCase(),this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase(),ne.a.isIRange(t.range)?(this.editStart=new ie.a(t.range.startLineNumber,t.range.startColumn),this.editInsertEnd=new ie.a(t.range.endLineNumber,t.range.endColumn),this.editReplaceEnd=new ie.a(t.range.endLineNumber,t.range.endColumn)):(this.editStart=new ie.a(t.range.insert.startLineNumber,t.range.insert.startColumn),this.editInsertEnd=new ie.a(t.range.insert.endLineNumber,t.range.insert.endColumn),this.editReplaceEnd=new ie.a(t.range.replace.endLineNumber,t.range.replace.endColumn));var r,s=n.resolveCompletionItem;this.resolve="function"!=typeof s?function(){return Promise.resolve()}:function(i){if(!r){var a=!1;r=Promise.resolve(s.call(n,o,e,t,i)).then((function(e){Object(vt.a)(t,e),a=!0}),(function(e){Object(Ft.d)(e)&&(r=void 0)})),i.onCancellationRequested((function(){a||(r=void 0)}))}return r}},Ol=function(){function e(e,t,i){void 0===e&&(e=2),void 0===t&&(t=new Set),void 0===i&&(i=new Set),this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=i}return e.default=new e,e}();function kl(e,t,i,n,o){void 0===i&&(i=Ol.default),void 0===n&&(n={triggerKind:0}),void 0===o&&(o=cn.a.None);var r=e.getWordAtPosition(t),s=r?new ne.a(t.lineNumber,r.startColumn,t.lineNumber,r.endColumn):ne.a.fromPositions(t),a=s.setEndPosition(t.lineNumber,t.column);t=t.clone();var c=fn.d.orderedGroups(e);i.kindFilter.has(25);var l=[],u=new ee.b,d=!1,h=c.map((function(r){return function(){return Promise.all(r.map((function(r){if(!(i.providerFilter.size>0)||i.providerFilter.has(r))return Promise.resolve(r.provideCompletionItems(e,t,n,o)).then((function(n){var o=l.length;if(n){for(var c=0,h=n.suggestions||[];c<h.length;c++){var p=h[c];i.kindFilter.has(p.kind)||(p.range||(p.range={insert:a,replace:s}),p.sortText||(p.sortText=p.label),l.push(new Sl(t,p,n,r,e)))}Object(ee.g)(n)&&u.add(n)}o!==l.length&&void 0!==r&&(d=!0)}),Ft.f)})))}}));return Object(X.h)(h,(function(){return d||o.isCancellationRequested})).then((function(){return o.isCancellationRequested?(u.dispose(),Promise.reject(Object(Ft.a)())):l.sort(Il(i.snippetSortOrder))}))}function xl(e,t){if(e.sortTextLow&&t.sortTextLow){if(e.sortTextLow<t.sortTextLow)return-1;if(e.sortTextLow>t.sortTextLow)return 1}return e.completion.label<t.completion.label?-1:e.completion.label>t.completion.label?1:e.completion.kind-t.completion.kind}var Dl=new Map;function Il(e){return Dl.get(e)}Dl.set(0,(function(e,t){if(e.completion.kind!==t.completion.kind){if(25===e.completion.kind)return-1;if(25===t.completion.kind)return 1}return xl(e,t)})),Dl.set(2,(function(e,t){if(e.completion.kind!==t.completion.kind){if(25===e.completion.kind)return 1;if(25===t.completion.kind)return-1}return xl(e,t)})),Dl.set(1,xl),Object(te.e)("_executeCompletionItemProvider",(function(e,t,i){return yl(void 0,void 0,void 0,(function(){var n,o,r,s,a,c,l,u;return wl(this,(function(d){switch(d.label){case 0:return n={incomplete:!1,suggestions:[]},o=new ee.b,r=[],s=i.maxItemsToResolve||0,[4,kl(e,t)];case 1:for(a=d.sent(),c=0,l=a;c<l.length;c++)u=l[c],r.length<s&&r.push(u.resolve(cn.a.None)),n.incomplete=n.incomplete||u.container.incomplete,n.suggestions.push(u.completion),Object(ee.g)(u.container)&&o.add(u.container);d.label=2;case 2:return d.trys.push([2,,4,5]),[4,Promise.all(r)];case 3:return d.sent(),[2,n];case 4:return setTimeout((function(){return o.dispose()}),100),[7];case 5:return[2]}}))}))}));var Pl=new(function(){function e(){this.onlyOnceSuggestions=[]}return e.prototype.provideCompletionItems=function(){var e={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,e},e}());fn.d.register("*",Pl);var El,Ml=i(266),Nl=(i(1106),i(312)),Rl=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),jl=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<i;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n},Tl=function(){function e(){this.value="",this.pos=0}return e.isDigitCharacter=function(e){return e>=48&&e<=57},e.isVariableCharacter=function(e){return 95===e||e>=97&&e<=122||e>=65&&e<=90},e.prototype.text=function(e){this.value=e,this.pos=0},e.prototype.tokenText=function(e){return this.value.substr(e.pos,e.len)},e.prototype.next=function(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};var t,i=this.pos,n=0,o=this.value.charCodeAt(i);if("number"==typeof(t=e._table[o]))return this.pos+=1,{type:t,pos:i,len:1};if(e.isDigitCharacter(o)){t=8;do{n+=1,o=this.value.charCodeAt(i+n)}while(e.isDigitCharacter(o));return this.pos+=n,{type:t,pos:i,len:n}}if(e.isVariableCharacter(o)){t=9;do{o=this.value.charCodeAt(i+ ++n)}while(e.isVariableCharacter(o)||e.isDigitCharacter(o));return this.pos+=n,{type:t,pos:i,len:n}}t=10;do{n+=1,o=this.value.charCodeAt(i+n)}while(!isNaN(o)&&void 0===e._table[o]&&!e.isDigitCharacter(o)&&!e.isVariableCharacter(o));return this.pos+=n,{type:t,pos:i,len:n}},e._table=((El={})[36]=0,El[58]=1,El[44]=2,El[123]=3,El[125]=4,El[92]=5,El[47]=6,El[124]=7,El[43]=11,El[45]=12,El[63]=13,El),e}(),Al=function(){function e(){this._children=[]}return e.prototype.appendChild=function(e){return e instanceof Fl&&this._children[this._children.length-1]instanceof Fl?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this},e.prototype.replace=function(e,t){var i=e.parent,n=i.children.indexOf(e),o=i.children.slice(0);o.splice.apply(o,jl([n,1],t)),i._children=o,function e(t,i){for(var n=0,o=t;n<o.length;n++){var r=o[n];r.parent=i,e(r.children,r)}}(t,i)},Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"snippet",{get:function(){for(var e=this;;){if(!e)return;if(e instanceof Ul)return e;e=e.parent}},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.children.reduce((function(e,t){return e+t.toString()}),"")},e.prototype.len=function(){return 0},e}(),Fl=function(e){function t(t){var i=e.call(this)||this;return i.value=t,i}return Rl(t,e),t.prototype.toString=function(){return this.value},t.prototype.len=function(){return this.value.length},t.prototype.clone=function(){return new t(this.value)},t}(Al),Ll=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rl(t,e),t}(Al),Vl=function(e){function t(t){var i=e.call(this)||this;return i.index=t,i}return Rl(t,e),t.compareByIndex=function(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0},Object.defineProperty(t.prototype,"isFinalTabstop",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"choice",{get:function(){return 1===this._children.length&&this._children[0]instanceof Bl?this._children[0]:void 0},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=new t(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map((function(e){return e.clone()})),e},t}(Ll),Bl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.options=[],t}return Rl(t,e),t.prototype.appendChild=function(e){return e instanceof Fl&&(e.parent=this,this.options.push(e)),this},t.prototype.toString=function(){return this.options[0].value},t.prototype.len=function(){return this.options[0].len()},t.prototype.clone=function(){var e=new t;return this.options.forEach(e.appendChild,e),e},t}(Al),Wl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.regexp=new RegExp(""),t}return Rl(t,e),t.prototype.resolve=function(e){var t=this,i=!1,n=e.replace(this.regexp,(function(){return i=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))}));return!i&&this._children.some((function(e){return e instanceof Hl&&Boolean(e.elseValue)}))&&(n=this._replace([])),n},t.prototype._replace=function(e){for(var t="",i=0,n=this._children;i<n.length;i++){var o=n[i];if(o instanceof Hl){var r=e[o.index]||"";t+=r=o.resolve(r)}else t+=o.toString()}return t},t.prototype.toString=function(){return""},t.prototype.clone=function(){var e=new t;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map((function(e){return e.clone()})),e},t}(Al),Hl=function(e){function t(t,i,n,o){var r=e.call(this)||this;return r.index=t,r.shorthandName=i,r.ifValue=n,r.elseValue=o,r}return Rl(t,e),t.prototype.resolve=function(e){return"upcase"===this.shorthandName?e?e.toLocaleUpperCase():"":"downcase"===this.shorthandName?e?e.toLocaleLowerCase():"":"capitalize"===this.shorthandName?e?e[0].toLocaleUpperCase()+e.substr(1):"":"pascalcase"===this.shorthandName?e?this._toPascalCase(e):"":Boolean(e)&&"string"==typeof this.ifValue?this.ifValue:Boolean(e)||"string"!=typeof this.elseValue?e||"":this.elseValue},t.prototype._toPascalCase=function(e){var t=e.match(/[a-z]+/gi);return t?t.map((function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})).join(""):e},t.prototype.clone=function(){return new t(this.index,this.shorthandName,this.ifValue,this.elseValue)},t}(Al),zl=function(e){function t(t){var i=e.call(this)||this;return i.name=t,i}return Rl(t,e),t.prototype.resolve=function(e){var t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),void 0!==t&&(this._children=[new Fl(t)],!0)},t.prototype.clone=function(){var e=new t(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map((function(e){return e.clone()})),e},t}(Ll);function Kl(e,t){for(var i=jl(e);i.length>0;){var n=i.shift();if(!t(n))break;i.unshift.apply(i,n.children)}}var Ul=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rl(t,e),Object.defineProperty(t.prototype,"placeholderInfo",{get:function(){if(!this._placeholders){var e,t=[];this.walk((function(i){return i instanceof Vl&&(t.push(i),e=!e||e.index<i.index?i:e),!0})),this._placeholders={all:t,last:e}}return this._placeholders},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholders",{get:function(){return this.placeholderInfo.all},enumerable:!0,configurable:!0}),t.prototype.offset=function(e){var t=0,i=!1;return this.walk((function(n){return n===e?(i=!0,!1):(t+=n.len(),!0)})),i?t:-1},t.prototype.fullLen=function(e){var t=0;return Kl([e],(function(e){return t+=e.len(),!0})),t},t.prototype.enclosingPlaceholders=function(e){for(var t=[],i=e.parent;i;)i instanceof Vl&&t.push(i),i=i.parent;return t},t.prototype.resolveVariables=function(e){var t=this;return this.walk((function(i){return i instanceof zl&&i.resolve(e)&&(t._placeholders=void 0),!0})),this},t.prototype.appendChild=function(t){return this._placeholders=void 0,e.prototype.appendChild.call(this,t)},t.prototype.replace=function(t,i){return this._placeholders=void 0,e.prototype.replace.call(this,t,i)},t.prototype.clone=function(){var e=new t;return this._children=this.children.map((function(e){return e.clone()})),e},t.prototype.walk=function(e){Kl(this.children,e)},t}(Al),ql=function(){function e(){this._scanner=new Tl,this._token={type:14,pos:0,len:0}}return e.escape=function(e){return e.replace(/\$|}|\\/g,"\\$&")},e.prototype.parse=function(e,t,i){this._scanner.text(e),this._token=this._scanner.next();for(var n=new Ul;this._parse(n););var o=new Map,r=[],s=0;n.walk((function(e){return e instanceof Vl&&(s+=1,e.isFinalTabstop?o.set(0,void 0):!o.has(e.index)&&e.children.length>0?o.set(e.index,e.children):r.push(e)),!0}));for(var a=0,c=r;a<c.length;a++){var l=c[a],u=o.get(l.index);if(u){var d=new Vl(l.index);d.transform=l.transform;for(var h=0,p=u;h<p.length;h++){var g=p[h];d.appendChild(g.clone())}n.replace(l,[d])}}return i||(i=s>0&&t),!o.has(0)&&i&&n.appendChild(new Vl(0)),n},e.prototype._accept=function(e,t){if(void 0===e||this._token.type===e){var i=!t||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),i}return!1},e.prototype._backTo=function(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1},e.prototype._until=function(e){for(var t=this._token;this._token.type!==e;){if(14===this._token.type)return!1;if(5===this._token.type){var i=this._scanner.next();if(0!==i.type&&4!==i.type&&5!==i.type)return!1}this._token=this._scanner.next()}var n=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),n},e.prototype._parse=function(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)},e.prototype._parseEscaped=function(e){var t;return!!(t=this._accept(5,!0))&&(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new Fl(t)),!0)},e.prototype._parseTabstopOrVariableName=function(e){var t,i=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new Vl(Number(t)):new zl(t)),!0):this._backTo(i)},e.prototype._parseComplexPlaceholder=function(e){var t,i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(i);var n=new Vl(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(n),!0;if(!this._parse(n))return e.appendChild(new Fl("${"+t+":")),n.children.forEach(e.appendChild,e),!0}else{if(!(n.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(n)?(e.appendChild(n),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(n),!0):this._backTo(i);for(var o=new Bl;;){if(this._parseChoiceElement(o)){if(this._accept(2))continue;if(this._accept(7)&&(n.appendChild(o),this._accept(4)))return e.appendChild(n),!0}return this._backTo(i),!1}}},e.prototype._parseChoiceElement=function(e){for(var t=this._token,i=[];2!==this._token.type&&7!==this._token.type;){var n=void 0;if(!(n=(n=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||n:this._accept(void 0,!0)))return this._backTo(t),!1;i.push(n)}return 0===i.length?(this._backTo(t),!1):(e.appendChild(new Fl(i.join(""))),!0)},e.prototype._parseComplexVariable=function(e){var t,i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(i);var n=new zl(t);if(!this._accept(1))return this._accept(6)?this._parseTransform(n)?(e.appendChild(n),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(n),!0):this._backTo(i);for(;;){if(this._accept(4))return e.appendChild(n),!0;if(!this._parse(n))return e.appendChild(new Fl("${"+t+":")),n.children.forEach(e.appendChild,e),!0}},e.prototype._parseTransform=function(e){for(var t=new Wl,i="",n="";!this._accept(6);){var o=void 0;if(o=this._accept(5,!0))i+=o=this._accept(6,!0)||o;else{if(14===this._token.type)return!1;i+=this._accept(void 0,!0)}}for(;!this._accept(6);){o=void 0;if(o=this._accept(5,!0))o=this._accept(5,!0)||this._accept(6,!0)||o,t.appendChild(new Fl(o));else if(!this._parseFormatString(t)&&!this._parseAnything(t))return!1}for(;!this._accept(4);){if(14===this._token.type)return!1;n+=this._accept(void 0,!0)}try{t.regexp=new RegExp(i,n)}catch(e){return!1}return e.transform=t,!0},e.prototype._parseFormatString=function(e){var t=this._token;if(!this._accept(0))return!1;var i=!1;this._accept(3)&&(i=!0);var n=this._accept(8,!0);if(!n)return this._backTo(t),!1;if(!i)return e.appendChild(new Hl(Number(n))),!0;if(this._accept(4))return e.appendChild(new Hl(Number(n))),!0;if(!this._accept(1))return this._backTo(t),!1;if(this._accept(6)){var o=this._accept(9,!0);return o&&this._accept(4)?(e.appendChild(new Hl(Number(n),o)),!0):(this._backTo(t),!1)}if(this._accept(11)){if(r=this._until(4))return e.appendChild(new Hl(Number(n),void 0,r,void 0)),!0}else if(this._accept(12)){if(s=this._until(4))return e.appendChild(new Hl(Number(n),void 0,void 0,s)),!0}else if(this._accept(13)){var r;if(r=this._until(1))if(s=this._until(4))return e.appendChild(new Hl(Number(n),void 0,r,s)),!0}else{var s;if(s=this._until(4))return e.appendChild(new Hl(Number(n),void 0,void 0,s)),!0}return this._backTo(t),!1},e.prototype._parseAnything=function(e){return 14!==this._token.type&&(e.appendChild(new Fl(this._scanner.tokenText(this._token))),this._accept(void 0),!0)},e}(),Gl=i(41);function Zl(e){return e instanceof mn.a}var $l=function(){function e(e){this._delegates=e}return e.prototype.resolve=function(e){for(var t=0,i=this._delegates;t<i.length;t++){var n=i[t].resolve(e);if(void 0!==n)return n}},e}(),Yl=function(){function e(e,t){this._model=e,this._selection=t}return e.prototype.resolve=function(e){var t=e.name;if("SELECTION"===t||"TM_SELECTED_TEXT"===t){var i=this._model.getValueInRange(this._selection)||void 0;if(i&&this._selection.startLineNumber!==this._selection.endLineNumber&&e.snippet){var n=this._model.getLineContent(this._selection.startLineNumber),o=Object(Ne.u)(n,0,this._selection.startColumn-1),r=o;e.snippet.walk((function(t){return t!==e&&(t instanceof Fl&&(r=Object(Ne.u)(t.value.split(/\r\n|\r|\n/).pop())),!0)}));var s=Object(Ne.c)(r,o);i=i.replace(/(\r\n|\r|\n)(.*)/g,(function(e,t,i){return""+t+r.substr(s)+i}))}return i}if("TM_CURRENT_LINE"===t)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===t){var a=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return a&&a.word||void 0}return"TM_LINE_INDEX"===t?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===t?String(this._selection.positionLineNumber):void 0},e}(),Jl=function(){function e(e,t){this._labelService=e,this._model=t}return e.prototype.resolve=function(e){var t=e.name;if("TM_FILENAME"===t)return so.basename(this._model.uri.fsPath);if("TM_FILENAME_BASE"===t){var i=so.basename(this._model.uri.fsPath),n=i.lastIndexOf(".");return n<=0?i:i.slice(0,n)}return"TM_DIRECTORY"===t&&this._labelService?"."===so.dirname(this._model.uri.fsPath)?"":this._labelService.getUriLabel(Object(ro.d)(this._model.uri)):"TM_FILEPATH"===t&&this._labelService?this._labelService.getUriLabel(this._model.uri):void 0},e}(),Ql=function(){function e(e,t,i,n){this._readClipboardText=e,this._selectionIdx=t,this._selectionCount=i,this._spread=n}return e.prototype.resolve=function(e){if("CLIPBOARD"===e.name){var t=this._readClipboardText();if(t){if(this._spread){var i=t.split(/\r\n|\n|\r/).filter((function(e){return!Object(Ne.y)(e)}));if(i.length===this._selectionCount)return i[this._selectionIdx]}return t}}},e}(),Xl=function(){function e(e){this._model=e}return e.prototype.resolve=function(e){var t=e.name,i=this._model.getLanguageIdentifier(),n=Gl.a.getComments(i.id);if(n)return"LINE_COMMENT"===t?n.lineCommentToken||void 0:"BLOCK_COMMENT_START"===t?n.blockCommentStartToken||void 0:"BLOCK_COMMENT_END"===t&&n.blockCommentEndToken||void 0},e}(),eu=function(){function e(){}return e.prototype.resolve=function(t){var i=t.name;return"CURRENT_YEAR"===i?String((new Date).getFullYear()):"CURRENT_YEAR_SHORT"===i?String((new Date).getFullYear()).slice(-2):"CURRENT_MONTH"===i?Object(Ne.G)((new Date).getMonth().valueOf()+1,2):"CURRENT_DATE"===i?Object(Ne.G)((new Date).getDate().valueOf(),2):"CURRENT_HOUR"===i?Object(Ne.G)((new Date).getHours().valueOf(),2):"CURRENT_MINUTE"===i?Object(Ne.G)((new Date).getMinutes().valueOf(),2):"CURRENT_SECOND"===i?Object(Ne.G)((new Date).getSeconds().valueOf(),2):"CURRENT_DAY_NAME"===i?e.dayNames[(new Date).getDay()]:"CURRENT_DAY_NAME_SHORT"===i?e.dayNamesShort[(new Date).getDay()]:"CURRENT_MONTH_NAME"===i?e.monthNames[(new Date).getMonth()]:"CURRENT_MONTH_NAME_SHORT"===i?e.monthNamesShort[(new Date).getMonth()]:"CURRENT_SECONDS_UNIX"===i?String(Math.floor(Date.now()/1e3)):void 0},e.dayNames=[Q.a("Sunday","Sunday"),Q.a("Monday","Monday"),Q.a("Tuesday","Tuesday"),Q.a("Wednesday","Wednesday"),Q.a("Thursday","Thursday"),Q.a("Friday","Friday"),Q.a("Saturday","Saturday")],e.dayNamesShort=[Q.a("SundayShort","Sun"),Q.a("MondayShort","Mon"),Q.a("TuesdayShort","Tue"),Q.a("WednesdayShort","Wed"),Q.a("ThursdayShort","Thu"),Q.a("FridayShort","Fri"),Q.a("SaturdayShort","Sat")],e.monthNames=[Q.a("January","January"),Q.a("February","February"),Q.a("March","March"),Q.a("April","April"),Q.a("May","May"),Q.a("June","June"),Q.a("July","July"),Q.a("August","August"),Q.a("September","September"),Q.a("October","October"),Q.a("November","November"),Q.a("December","December")],e.monthNamesShort=[Q.a("JanuaryShort","Jan"),Q.a("FebruaryShort","Feb"),Q.a("MarchShort","Mar"),Q.a("AprilShort","Apr"),Q.a("MayShort","May"),Q.a("JuneShort","Jun"),Q.a("JulyShort","Jul"),Q.a("AugustShort","Aug"),Q.a("SeptemberShort","Sep"),Q.a("OctoberShort","Oct"),Q.a("NovemberShort","Nov"),Q.a("DecemberShort","Dec")],e}(),tu=function(){function e(e){this._workspaceService=e}return e.prototype.resolve=function(e){if(this._workspaceService){var t=function(e){return e.configuration?{configPath:e.configuration,id:e.id}:1===e.folders.length?e.folders[0].uri:void 0}(this._workspaceService.getWorkspace());if(t)return"WORKSPACE_NAME"===e.name?this._resolveWorkspaceName(t):"WORKSPACE_FOLDER"===e.name?this._resoveWorkspacePath(t):void 0}},e.prototype._resolveWorkspaceName=function(e){if(Zl(e))return so.basename(e.path);var t=so.basename(e.configPath.path);return Object(Ne.m)(t,"code-workspace")&&(t=t.substr(0,t.length-"code-workspace".length-1)),t},e.prototype._resoveWorkspacePath=function(e){if(Zl(e))return uo(e.fsPath);var t=so.basename(e.configPath.path),i=e.configPath.fsPath;return Object(Ne.m)(i,t)&&(i=i.substr(0,i.length-t.length-1)),i?uo(i):"/"},e}(),iu=function(){function e(){}return e.prototype.resolve=function(e){var t=e.name;return"RANDOM"===t?Math.random().toString().slice(-6):"RANDOM_HEX"===t?Math.random().toString(16).slice(-6):void 0},e}();Object(ue.e)((function(e,t){function i(t){var i=e.getColor(t);return i?i.toString():"transparent"}t.addRule(".monaco-editor .snippet-placeholder { background-color: "+i(le.Zb)+"; outline-color: "+i(le.ac)+"; }"),t.addRule(".monaco-editor .finish-snippet-placeholder { background-color: "+i(le.Xb)+"; outline-color: "+i(le.Yb)+"; }")}));var nu=function(){function e(e,t,i){this._nestingLevel=1,this._editor=e,this._snippet=t,this._offset=i,this._placeholderGroups=Object(ln.n)(t.placeholders,Vl.compareByIndex),this._placeholderGroupsIdx=-1}return e.prototype.dispose=function(){if(this._placeholderDecorations){var e=[];this._placeholderDecorations.forEach((function(t){return e.push(t)})),this._editor.deltaDecorations(e,[])}this._placeholderGroups.length=0},e.prototype._initDecorations=function(){var t=this;if(!this._placeholderDecorations){this._placeholderDecorations=new Map;var i=this._editor.getModel();this._editor.changeDecorations((function(n){for(var o=0,r=t._snippet.placeholders;o<r.length;o++){var s=r[o],a=t._snippet.offset(s),c=t._snippet.fullLen(s),l=ne.a.fromPositions(i.getPositionAt(t._offset+a),i.getPositionAt(t._offset+a+c)),u=s.isFinalTabstop?e._decor.inactiveFinal:e._decor.inactive,d=n.addDecoration(l,u);t._placeholderDecorations.set(s,d)}}))}},e.prototype.move=function(t){var i=this;if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){for(var n=[],o=0,r=this._placeholderGroups[this._placeholderGroupsIdx];o<r.length;o++){var s=r[o];if(s.transform){var a=this._placeholderDecorations.get(s),c=this._editor.getModel().getDecorationRange(a),l=this._editor.getModel().getValueInRange(c);n.push(vl.a.replaceMove(c,s.transform.resolve(l)))}}n.length>0&&this._editor.executeEdits("snippet.placeholderTransform",n)}var u=!1;!0===t&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,u=!0):!1===t&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,u=!0);var d=this._editor.getModel().changeDecorations((function(t){for(var n=new Set,o=[],r=0,s=i._placeholderGroups[i._placeholderGroupsIdx];r<s.length;r++){var a=s[r],c=i._placeholderDecorations.get(a),l=i._editor.getModel().getDecorationRange(c);o.push(new oe.a(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn)),u=u&&i._hasPlaceholderBeenCollapsed(a),t.changeDecorationOptions(c,a.isFinalTabstop?e._decor.activeFinal:e._decor.active),n.add(a);for(var d=0,h=i._snippet.enclosingPlaceholders(a);d<h.length;d++){var p=h[d],g=i._placeholderDecorations.get(p);t.changeDecorationOptions(g,p.isFinalTabstop?e._decor.activeFinal:e._decor.active),n.add(p)}}return i._placeholderDecorations.forEach((function(i,o){n.has(o)||t.changeDecorationOptions(i,o.isFinalTabstop?e._decor.inactiveFinal:e._decor.inactive)})),o}));return u?this.move(t):d},e.prototype._hasPlaceholderBeenCollapsed=function(e){for(var t=e;t;){if(t instanceof Vl){var i=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(i).isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1},Object.defineProperty(e.prototype,"isAtFirstPlaceholder",{get:function(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAtLastPlaceholder",{get:function(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPlaceholder",{get:function(){return this._snippet.placeholders.length>0},enumerable:!0,configurable:!0}),e.prototype.computePossibleSelections=function(){for(var e=new Map,t=0,i=this._placeholderGroups;t<i.length;t++)for(var n=void 0,o=0,r=i[t];o<r.length;o++){var s=r[o];if(s.isFinalTabstop)break;n||(n=[],e.set(s.index,n));var a=this._placeholderDecorations.get(s),c=this._editor.getModel().getDecorationRange(a);if(!c){e.delete(s.index);break}n.push(c)}return e},Object.defineProperty(e.prototype,"choice",{get:function(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice},enumerable:!0,configurable:!0}),e.prototype.merge=function(t){var i=this,n=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations((function(o){for(var r=0,s=i._placeholderGroups[i._placeholderGroupsIdx];r<s.length;r++){var a=s[r],c=t.shift();console.assert(!c._placeholderDecorations);for(var l=c._snippet.placeholderInfo.last.index,u=0,d=c._snippet.placeholderInfo.all;u<d.length;u++){var h=d[u];h.isFinalTabstop?h.index=a.index+(l+1)/i._nestingLevel:h.index=a.index+h.index/i._nestingLevel}i._snippet.replace(a,c._snippet.children);var p=i._placeholderDecorations.get(a);o.removeDecoration(p),i._placeholderDecorations.delete(a);for(var g=0,f=c._snippet.placeholders;g<f.length;g++){var m=f[g],_=c._snippet.offset(m),b=c._snippet.fullLen(m),v=ne.a.fromPositions(n.getPositionAt(c._offset+_),n.getPositionAt(c._offset+_+b)),y=o.addDecoration(v,e._decor.inactive);i._placeholderDecorations.set(m,y)}}i._placeholderGroups=Object(ln.n)(i._snippet.placeholders,Vl.compareByIndex)}))},e._decor={active:ae.a.register({stickiness:0,className:"snippet-placeholder"}),inactive:ae.a.register({stickiness:1,className:"snippet-placeholder"}),activeFinal:ae.a.register({stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:ae.a.register({stickiness:1,className:"finish-snippet-placeholder"})},e}(),ou={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0},ru=function(){function e(e,t,i){void 0===i&&(i=ou),this._templateMerges=[],this._snippets=[],this._editor=e,this._template=t,this._options=i}return e.adjustWhitespace=function(e,t,i,n,o){var r=e.getLineContent(t.lineNumber),s=Object(Ne.u)(r,0,t.column-1);i.walk((function(t){if(t instanceof Fl&&!(t.parent instanceof Bl)){var i=t.value.split(/\r\n|\r|\n/);if(n)for(var r=1;r<i.length;r++){var a=Object(Ne.u)(i[r]);i[r]=e.normalizeIndentation(s+a)+i[r].substr(a.length)}if(o){var c=i.join(e.getEOL());c!==t.value&&t.parent.replace(t,[new Fl(c)])}}return!0}))},e.adjustSelection=function(e,t,i,n){if(0!==i||0!==n){var o=t.positionLineNumber,r=t.positionColumn,s=r-i,a=r+n,c=e.validateRange({startLineNumber:o,startColumn:s,endLineNumber:o,endColumn:a});t=oe.a.createWithDirection(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn,t.getDirection())}return t},e.createEditsAndSnippets=function(t,i,n,o,r,s,a){var c=[],l=[];if(!t.hasModel())return{edits:c,snippets:l};for(var u=t.getModel(),d=t.invokeWithinContext((function(e){return e.get(Nl.a,Fi.d)})),h=t.invokeWithinContext((function(e){return new Jl(e.get(ca.a,Fi.d),u)})),p=t.invokeWithinContext((function(e){return e.get(Ti.a,Fi.d)})),g=function(){return a||p&&p.readTextSync()},f=0,m=u.getValueInRange(e.adjustSelection(u,t.getSelection(),n,0)),_=u.getValueInRange(e.adjustSelection(u,t.getSelection(),0,o)),b=u.getLineFirstNonWhitespaceColumn(t.getSelection().positionLineNumber),v=t.getSelections().map((function(e,t){return{selection:e,idx:t}})).sort((function(e,t){return ne.a.compareRangesUsingStarts(e.selection,t.selection)})),y=0,w=v;y<w.length;y++){var C=w[y],S=C.selection,O=C.idx,k=e.adjustSelection(u,S,n,0),x=e.adjustSelection(u,S,0,o);m!==u.getValueInRange(k)&&(k=S),_!==u.getValueInRange(x)&&(x=S);var D=S.setStartPosition(k.startLineNumber,k.startColumn).setEndPosition(x.endLineNumber,x.endColumn),I=(new ql).parse(i,!0,r),P=D.getStartPosition();e.adjustWhitespace(u,P,I,s||O>0&&b!==u.getLineFirstNonWhitespaceColumn(S.positionLineNumber),!0),I.resolveVariables(new $l([h,new Ql(g,O,v.length,"spread"===t.getOption(58)),new Yl(u,S),new Xl(u),new eu,new tu(d),new iu]));var E=u.getOffsetAt(P)+f;f+=I.toString().length-u.getValueLengthInRange(D),c[O]=vl.a.replace(D,I.toString()),l[O]=new nu(t,I,E)}return{edits:c,snippets:l}},e.prototype.dispose=function(){Object(ee.f)(this._snippets)},e.prototype._logInfo=function(){return'template="'+this._template+'", merged_templates="'+this._templateMerges.join(" -> ")+'"'},e.prototype.insert=function(){var t=this;if(this._editor.hasModel()){var i=e.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText),n=i.edits,o=i.snippets;this._snippets=o,this._editor.executeEdits("snippet",n,(function(e){return t._snippets[0].hasPlaceholder?t._move(!0):e.map((function(e){return oe.a.fromPositions(e.range.getEndPosition())}))})),this._editor.revealRange(this._editor.getSelections()[0])}},e.prototype.merge=function(t,i){var n=this;if(void 0===i&&(i=ou),this._editor.hasModel()){this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,t]);var o=e.createEditsAndSnippets(this._editor,t,i.overwriteBefore,i.overwriteAfter,!0,i.adjustWhitespace,i.clipboardText),r=o.edits,s=o.snippets;this._editor.executeEdits("snippet",r,(function(e){for(var t=0,i=n._snippets;t<i.length;t++){i[t].merge(s)}return console.assert(0===s.length),n._snippets[0].hasPlaceholder?n._move(void 0):e.map((function(e){return oe.a.fromPositions(e.range.getEndPosition())}))}))}},e.prototype.next=function(){var e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())},e.prototype.prev=function(){var e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())},e.prototype._move=function(e){for(var t=[],i=0,n=this._snippets;i<n.length;i++){var o=n[i].move(e);t.push.apply(t,o)}return t},Object.defineProperty(e.prototype,"isAtFirstPlaceholder",{get:function(){return this._snippets[0].isAtFirstPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAtLastPlaceholder",{get:function(){return this._snippets[0].isAtLastPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPlaceholder",{get:function(){return this._snippets[0].hasPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"choice",{get:function(){return this._snippets[0].choice},enumerable:!0,configurable:!0}),e.prototype.isSelectionWithinPlaceholders=function(){if(!this.hasPlaceholder)return!1;var e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;for(var t=new Map,i=function(i){var n=i.computePossibleSelections();if(0===t.size&&n.forEach((function(i,n){i.sort(ne.a.compareRangesUsingStarts);for(var o=0,r=e;o<r.length;o++){var s=r[o];if(i[0].containsRange(s)){t.set(n,[]);break}}})),0===t.size)return{value:!1};t.forEach((function(e,t){e.push.apply(e,n.get(t))}))},n=0,o=this._snippets;n<o.length;n++){var r=i(o[n]);if("object"==typeof r)return r.value}return e.sort(ne.a.compareRangesUsingStarts),t.forEach((function(i,n){if(i.length===e.length){i.sort(ne.a.compareRangesUsingStarts);for(var o=0;o<i.length;o++)if(!i[o].containsRange(e[o]))return void t.delete(n)}else t.delete(n)})),t.size>0},e}(),su=function(){return(su=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},au=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},cu=function(e,t){return function(i,n){t(i,n,e)}},lu={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0},uu=function(){function e(t,i,n){this._editor=t,this._logService=i,this._snippetListener=new ee.b,this._modelVersionId=-1,this._inSnippet=e.InSnippetMode.bindTo(n),this._hasNextTabstop=e.HasNextTabstop.bindTo(n),this._hasPrevTabstop=e.HasPrevTabstop.bindTo(n)}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),Object(ee.f)(this._session),this._snippetListener.dispose()},e.prototype.insert=function(e,t){try{this._doInsert(e,void 0===t?lu:su(su({},lu),t))}catch(t){this.cancel(),this._logService.error(t),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}},e.prototype._doInsert=function(e,t){var i=this;this._editor.hasModel()&&(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(e,t):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new ru(this._editor,e,t),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent((function(e){return e.isFlush&&i.cancel()}))),this._snippetListener.add(this._editor.onDidChangeModel((function(){return i.cancel()}))),this._snippetListener.add(this._editor.onDidChangeCursorSelection((function(){return i._updateState()}))))},e.prototype._updateState=function(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}},e.prototype._handleChoice=function(){var e=this;if(this._session&&this._editor.hasModel()){var t,i,n=this._session.choice;if(n){if(this._currentChoice!==n){this._currentChoice=n,this._editor.setSelections(this._editor.getSelections().map((function(e){return oe.a.fromPositions(e.getStartPosition())})));var o=n.options[0];t=this._editor,i=n.options.map((function(t,i){return{kind:13,label:t.value,insertText:t.value,sortText:Object(Ne.K)("a",i+1),range:ne.a.fromPositions(e._editor.getPosition(),e._editor.getPosition().delta(0,o.value.length))}})),setTimeout((function(){var e;(e=Pl.onlyOnceSuggestions).push.apply(e,i),t.getContribution("editor.contrib.suggestController").triggerSuggest((new Set).add(Pl))}),0)}}else this._currentChoice=void 0}else this._currentChoice=void 0},e.prototype.finish=function(){for(;this._inSnippet.get();)this.next()},e.prototype.cancel=function(e){void 0===e&&(e=!1),this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),Object(ee.f)(this._session),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])},e.prototype.prev=function(){this._session&&this._session.prev(),this._updateState()},e.prototype.next=function(){this._session&&this._session.next(),this._updateState()},e.prototype.isInSnippet=function(){return Boolean(this._inSnippet.get())},e.ID="snippetController2",e.InSnippetMode=new Ue.d("inSnippetMode",!1),e.HasNextTabstop=new Ue.d("hasNextTabstop",!1),e.HasPrevTabstop=new Ue.d("hasPrevTabstop",!1),e=au([cu(1,Ml.a),cu(2,Ue.c)],e)}();Object(te.h)(uu.ID,uu);var du=te.c.bindToContribution(uu.get);Object(te.g)(new du({id:"jumpToNextSnippetPlaceholder",precondition:Ue.a.and(uu.InSnippetMode,uu.HasNextTabstop),handler:function(e){return e.next()},kbOpts:{weight:130,kbExpr:re.a.editorTextFocus,primary:2}})),Object(te.g)(new du({id:"jumpToPrevSnippetPlaceholder",precondition:Ue.a.and(uu.InSnippetMode,uu.HasPrevTabstop),handler:function(e){return e.prev()},kbOpts:{weight:130,kbExpr:re.a.editorTextFocus,primary:1026}})),Object(te.g)(new du({id:"leaveSnippet",precondition:uu.InSnippetMode,handler:function(e){return e.cancel(!0)},kbOpts:{weight:130,kbExpr:re.a.editorTextFocus,primary:9,secondary:[1033]}})),Object(te.g)(new du({id:"acceptSnippet",precondition:uu.InSnippetMode,handler:function(e){return e.finish()}}));var hu=i(75),pu=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),gu=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},fu=function(e,t){return function(i,n){t(i,n,e)}},mu=function(){function e(){}return e.prototype.select=function(e,t,i){if(0===i.length)return 0;for(var n=i[0].score[0],o=1;o<i.length;o++){var r=i[o],s=r.score,a=r.completion;if(s[0]!==n)break;if(a.preselect)return o}return 0},e}(),_u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pu(t,e),t.prototype.memorize=function(e,t,i){},t.prototype.toJSON=function(){},t.prototype.fromJSON=function(){},t}(mu),bu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._cache=new hu.a(300,.66),t._seq=0,t}return pu(t,e),t.prototype.memorize=function(e,t,i){var n=i.completion.label,o=e.getLanguageIdentifier().language+"/"+n;this._cache.set(o,{touch:this._seq++,type:i.completion.kind,insertText:i.completion.insertText})},t.prototype.select=function(t,i,n){if(0===n.length)return 0;var o=t.getLineContent(i.lineNumber).substr(i.column-10,i.column-1);if(/\s$/.test(o))return e.prototype.select.call(this,t,i,n);for(var r=n[0].score[0],s=-1,a=-1,c=-1,l=0;l<n.length&&n[l].score[0]===r;l++){var u=t.getLanguageIdentifier().language+"/"+n[l].completion.label,d=this._cache.peek(u);if(d&&d.touch>c&&d.type===n[l].completion.kind&&d.insertText===n[l].completion.insertText&&(c=d.touch,a=l),n[l].completion.preselect&&-1===s)return l}return-1!==a?a:-1!==s?s:0},t.prototype.toJSON=function(){var e=[];return this._cache.forEach((function(t,i){e.push([i,t])})),e},t.prototype.fromJSON=function(e){this._cache.clear();for(var t=0,i=e;t<i.length;t++){var n=i[t],o=n[0],r=n[1];r.touch=0,r.type="number"==typeof r.type?r.type:Object(fn.A)(r.type),this._cache.set(o,r)}this._seq=this._cache.size},t}(mu),vu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._trie=hu.c.forStrings(),t._seq=0,t}return pu(t,e),t.prototype.memorize=function(e,t,i){var n=e.getWordUntilPosition(t).word,o=e.getLanguageIdentifier().language+"/"+n;this._trie.set(o,{type:i.completion.kind,insertText:i.completion.insertText,touch:this._seq++})},t.prototype.select=function(t,i,n){var o=t.getWordUntilPosition(i).word;if(!o)return e.prototype.select.call(this,t,i,n);var r=t.getLanguageIdentifier().language+"/"+o,s=this._trie.get(r);if(s||(s=this._trie.findSubstr(r)),s)for(var a=0;a<n.length;a++){var c=n[a].completion,l=c.kind,u=c.insertText;if(l===s.type&&u===s.insertText)return a}return e.prototype.select.call(this,t,i,n)},t.prototype.toJSON=function(){var e=[];return this._trie.forEach((function(t,i){return e.push([i,t])})),e.sort((function(e,t){return-(e[1].touch-t[1].touch)})).forEach((function(e,t){return e[1].touch=t})),e.slice(0,200)},t.prototype.fromJSON=function(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;for(var t=0,i=e;t<i.length;t++){var n=i[t],o=n[0],r=n[1];r.type="number"==typeof r.type?r.type:Object(fn.A)(r.type),this._trie.set(o,r)}}},t}(mu),yu=function(e){function t(t,i){var n=e.call(this)||this;n._storageService=t,n._configService=i,n._storagePrefix="suggest/memories";var o=function(){var e=n._configService.getValue("editor.suggestSelection"),t=n._configService.getValue("editor.suggest.shareSuggestSelections");n._update(e,t,!1)};return n._persistSoon=n._register(new X.d((function(){return n._saveState()}),500)),n._register(t.onWillSaveState((function(e){e.reason===Vi.c.SHUTDOWN&&n._saveState()}))),n._register(n._configService.onDidChangeConfiguration((function(e){(e.affectsConfiguration("editor.suggestSelection")||e.affectsConfiguration("editor.suggest.shareSuggestSelections"))&&o()}))),n._register(n._storageService.onDidChangeStorage((function(e){0===e.scope&&0===e.key.indexOf(n._storagePrefix)&&(document.hasFocus()||n._update(n._mode,n._shareMem,!0))}))),o(),n}return pu(t,e),t.prototype._update=function(e,t,i){if(i||this._mode!==e||this._shareMem!==t){this._shareMem=t,this._mode=e,this._strategy="recentlyUsedByPrefix"===e?new vu:"recentlyUsed"===e?new bu:new _u;try{var n=t?0:1,o=this._storageService.get(this._storagePrefix+"/"+this._mode,n);o&&this._strategy.fromJSON(JSON.parse(o))}catch(e){}}},t.prototype.memorize=function(e,t,i){this._strategy.memorize(e,t,i),this._persistSoon.schedule()},t.prototype.select=function(e,t,i){return this._strategy.select(e,t,i)},t.prototype._saveState=function(){var e=JSON.stringify(this._strategy),t=this._shareMem?0:1;this._storageService.store(this._storagePrefix+"/"+this._mode,e,t)},t=gu([fu(0,Vi.a),fu(1,yn.a)],t)}(ee.a),wu=Object(Fi.c)("ISuggestMemories");Object(Io.b)(wu,yu,!0);var Cu=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Su=function(e,t){return function(i,n){t(i,n,e)}},Ou=function(){function e(t,i){this._editor=t,this._index=0,this._ckOtherSuggestions=e.OtherSuggestions.bindTo(i)}return e.prototype.dispose=function(){this.reset()},e.prototype.reset=function(){this._ckOtherSuggestions.reset(),Object(ee.f)(this._listener),this._model=void 0,this._acceptNext=void 0,this._ignore=!1},e.prototype.set=function(t,i){var n=this,o=t.model,r=t.index;0!==o.items.length?e._moveIndex(!0,o,r)!==r?(this._acceptNext=i,this._model=o,this._index=r,this._listener=this._editor.onDidChangeCursorPosition((function(){n._ignore||n.reset()})),this._ckOtherSuggestions.set(!0)):this.reset():this.reset()},e._moveIndex=function(e,t,i){for(var n=i;(n=(n+t.items.length+(e?1:-1))%t.items.length)!==i&&t.items[n].completion.additionalTextEdits;);return n},e.prototype.next=function(){this._move(!0)},e.prototype.prev=function(){this._move(!1)},e.prototype._move=function(t){if(this._model)try{this._ignore=!0,this._index=e._moveIndex(t,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}},e.OtherSuggestions=new Ue.d("hasOtherSuggestions",!1),e=Cu([Su(1,Ue.c)],e)}(),ku=function(){function e(t,i,n,o,r,s){this._snippetCompareFn=e._compareCompletionItems,this._items=t,this._column=i,this._wordDistance=o,this._options=r,this._refilterKind=1,this._lineContext=n,"top"===s?this._snippetCompareFn=e._compareCompletionItemsSnippetsUp:"bottom"===s&&(this._snippetCompareFn=e._compareCompletionItemsSnippetsDown)}return Object.defineProperty(e.prototype,"lineContext",{get:function(){return this._lineContext},set:function(e){this._lineContext.leadingLineContent===e.leadingLineContent&&this._lineContext.characterCountDelta===e.characterCountDelta||(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._ensureCachedState(),this._filteredItems},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"incomplete",{get:function(){return this._ensureCachedState(),this._isIncomplete},enumerable:!0,configurable:!0}),e.prototype.adopt=function(e){for(var t=new Array,i=0;i<this._items.length;)e.has(this._items[i].provider)?i++:(t.push(this._items[i]),this._items[i]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,t},Object.defineProperty(e.prototype,"stats",{get:function(){return this._ensureCachedState(),this._stats},enumerable:!0,configurable:!0}),e.prototype._ensureCachedState=function(){0!==this._refilterKind&&this._createCachedState()},e.prototype._createCachedState=function(){this._isIncomplete=new Set,this._stats={suggestionCount:0,snippetCount:0,textCount:0};for(var e=this._lineContext,t=e.leadingLineContent,i=e.characterCountDelta,n="",o="",r=1===this._refilterKind?this._items:this._filteredItems,s=[],a=!this._options.filterGraceful||r.length>2e3?ua.d:ua.e,c=0;c<r.length;c++){var l=r[c];l.container.incomplete&&this._isIncomplete.add(l.provider);var u=l.position.column-l.editStart.column,d=u+i-(l.position.column-this._column);if(n.length!==d&&(o=(n=0===d?"":t.slice(-d)).toLowerCase()),l.word=n,0===d)l.score=ua.a.Default;else{for(var h=0;h<u;){var p=n.charCodeAt(h);if(32!==p&&9!==p)break;h+=1}if(h>=d)l.score=ua.a.Default;else if("string"==typeof l.completion.filterText){if(!(g=a(n,o,h,l.completion.filterText,l.filterTextLow,0,!1)))continue;0===Object(Ne.f)(l.completion.filterText,l.completion.label)?l.score=g:(l.score=Object(ua.b)(n,o,h,l.completion.label,l.labelLow,0),l.score[0]=g[0])}else{var g;if(!(g=a(n,o,h,l.completion.label,l.labelLow,0,!1)))continue;l.score=g}}switch(l.idx=c,l.distance=this._wordDistance.distance(l.position,l.completion),s.push(l),this._stats.suggestionCount++,l.completion.kind){case 25:this._stats.snippetCount++;break;case 18:this._stats.textCount++}}this._filteredItems=s.sort(this._snippetCompareFn),this._refilterKind=0},e._compareCompletionItems=function(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0},e._compareCompletionItemsSnippetsDown=function(t,i){if(t.completion.kind!==i.completion.kind){if(25===t.completion.kind)return 1;if(25===i.completion.kind)return-1}return e._compareCompletionItems(t,i)},e._compareCompletionItemsSnippetsUp=function(t,i){if(t.completion.kind!==i.completion.kind){if(25===t.completion.kind)return-1;if(25===i.completion.kind)return 1}return e._compareCompletionItems(t,i)},e}(),xu=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Du=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},Iu=function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},Pu=function(){function e(){}return e.create=function(t,i){return Du(this,void 0,void 0,(function(){var n,o,r,s;return Iu(this,(function(a){switch(a.label){case 0:return i.getOption(85).localityBonus&&i.hasModel()?(n=i.getModel(),o=i.getPosition(),t.canComputeWordRanges(n.uri)?[4,(new ll).provideSelectionRanges(n,[o])]:[2,e.None]):[2,e.None];case 1:return(r=a.sent())&&0!==r.length&&0!==r[0].length?[4,t.computeWordRanges(n.uri,r[0][0].range)]:[2,e.None];case 2:return s=a.sent(),[2,new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xu(t,e),t.prototype.distance=function(e,t){if(!s||!o.equals(i.getPosition()))return 0;if(17===t.kind)return 2<<20;var n=t.label,a=s[n];if(Object(ln.o)(a))return 2<<20;for(var c=Object(ln.c)(a,ne.a.fromPositions(e),ne.a.compareRangesUsingStarts),l=c>=0?a[c]:a[Math.max(0,~c-1)],u=r.length,d=0,h=r[0];d<h.length;d++){var p=h[d];if(!ne.a.containsRange(p.range,l))break;u-=1}return u},t}(e))]}}))}))},e.None=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xu(t,e),t.prototype.distance=function(){return 0},t}(e)),e}(),Eu=function(){function e(e,t,i,n){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.auto=i,this.shy=n}return e.shouldAutoTrigger=function(e){if(!e.hasModel())return!1;var t=e.getModel(),i=e.getPosition();t.tokenizeIfCheap(i.lineNumber);var n=t.getWordAtPosition(i);return!!n&&(n.endColumn===i.column&&!!isNaN(Number(n.word)))},e}(),Mu=function(){function e(e,t){var i=this;this._editor=e,this._editorWorker=t,this._toDispose=new ee.b,this._quickSuggestDelay=10,this._triggerQuickSuggest=new X.e,this._state=0,this._completionDisposables=new ee.b,this._onDidCancel=new bt.a,this._onDidTrigger=new bt.a,this._onDidSuggest=new bt.a,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._currentSelection=this._editor.getSelection()||new oe.a(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel((function(){i._updateTriggerCharacters(),i.cancel()}))),this._toDispose.add(this._editor.onDidChangeModelLanguage((function(){i._updateTriggerCharacters(),i.cancel()}))),this._toDispose.add(this._editor.onDidChangeConfiguration((function(){i._updateTriggerCharacters(),i._updateQuickSuggest()}))),this._toDispose.add(fn.d.onDidChange((function(){i._updateTriggerCharacters(),i._updateActiveSuggestSession()}))),this._toDispose.add(this._editor.onDidChangeCursorSelection((function(e){i._onCursorChange(e)})));var n=!1;this._toDispose.add(this._editor.onCompositionStart((function(){n=!0}))),this._toDispose.add(this._editor.onCompositionEnd((function(){n=!1,i._refilterCompletionItems()}))),this._toDispose.add(this._editor.onDidChangeModelContent((function(){n||i._refilterCompletionItems()}))),this._updateTriggerCharacters(),this._updateQuickSuggest()}return e.prototype.dispose=function(){Object(ee.f)(this._triggerCharacterListener),Object(ee.f)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()},e.prototype._updateQuickSuggest=function(){this._quickSuggestDelay=this._editor.getOption(64),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&0!==this._quickSuggestDelay||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)},e.prototype._updateTriggerCharacters=function(){var e=this;if(Object(ee.f)(this._triggerCharacterListener),!this._editor.getOption(65)&&this._editor.hasModel()&&this._editor.getOption(88)){for(var t=Object.create(null),i=0,n=fn.d.all(this._editor.getModel());i<n.length;i++)for(var o=n[i],r=0,s=o.triggerCharacters||[];r<s.length;r++){var a=s[r],c=t[a];c||(c=t[a]=new Set).add(void 0),c.add(o)}this._triggerCharacterListener=this._editor.onDidType((function(i){var n=i.charAt(i.length-1),o=t[n];if(o){var r=e._completionModel?e._completionModel.adopt(o):void 0;e.trigger({auto:!0,shy:!1,triggerCharacter:n},Boolean(e._completionModel),o,r)}}))}},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),e.prototype.cancel=function(e){void 0===e&&(e=!1),0!==this._state&&(this._triggerQuickSuggest.cancel(),this._requestToken&&(this._requestToken.cancel(),this._requestToken=void 0),this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))},e.prototype.clear=function(){this._completionDisposables.clear()},e.prototype._updateActiveSuggestSession=function(){0!==this._state&&(this._editor.hasModel()&&fn.d.has(this._editor.getModel())?this.trigger({auto:2===this._state,shy:!1},!0):this.cancel())},e.prototype._onCursorChange=function(e){var t=this;if(this._editor.hasModel()){var i=this._editor.getModel(),n=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||0!==e.reason||"keyboard"!==e.source&&"deleteLeft"!==e.source)0!==this._state&&this.cancel();else if(fn.d.has(i)&&0===this._state){if(!1===this._editor.getOption(63))return;if(!n.containsRange(this._currentSelection)&&!n.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))return;if(this._editor.getOption(85).snippetsPreventQuickSuggestions&&uu.get(this._editor).isInSnippet())return;this.cancel(),this._triggerQuickSuggest.cancelAndSet((function(){if(0===t._state&&Eu.shouldAutoTrigger(t._editor)&&t._editor.hasModel()){var e=t._editor.getModel(),i=t._editor.getPosition(),n=t._editor.getOption(63);if(!1!==n){if(!0===n);else{e.tokenizeIfCheap(i.lineNumber);var o=e.getLineTokens(i.lineNumber),r=o.getStandardTokenType(o.findTokenIndexAtOffset(Math.max(i.column-1-1,0)));if(!(n.other&&0===r||n.comments&&1===r||n.strings&&2===r))return}t.trigger({auto:!0,shy:!1})}}}),this._quickSuggestDelay)}}},e.prototype._refilterCompletionItems=function(){var e=this;Promise.resolve().then((function(){if(0!==e._state&&e._editor.hasModel()){var t=e._editor.getModel(),i=e._editor.getPosition(),n=new Eu(t,i,2===e._state,!1);e._onNewContext(n)}}))},e.prototype.trigger=function(t,i,n,o){var r=this;if(void 0===i&&(i=!1),this._editor.hasModel()){var s,a=this._editor.getModel(),c=t.auto,l=new Eu(a,this._editor.getPosition(),c,t.shy);this.cancel(i),this._state=c?2:1,this._onDidTrigger.fire({auto:c,shy:t.shy,position:this._editor.getPosition()}),this._context=l,s=t.triggerCharacter?{triggerKind:1,triggerCharacter:t.triggerCharacter}:n&&n.size>0?{triggerKind:2}:{triggerKind:0},this._requestToken=new cn.b;var u=this._editor.getOption(82),d=1;switch(u){case"top":d=0;break;case"bottom":d=2}var h=e._createItemKindFilter(this._editor),p=Pu.create(this._editorWorker,this._editor),g=kl(a,this._editor.getPosition(),new Ol(d,h,n),s,this._requestToken.token);Promise.all([g,p]).then((function(e){var i=e[0],n=e[1];if(Object(ee.f)(r._requestToken),0!==r._state&&r._editor.hasModel()){var s=r._editor.getModel();if(Object(ln.p)(o)){var a=Il(d);i=i.concat(o).sort(a)}var l=new Eu(s,r._editor.getPosition(),c,t.shy);r._completionModel=new ku(i,r._context.column,{leadingLineContent:l.leadingLineContent,characterCountDelta:l.column-r._context.column},n,r._editor.getOption(85),r._editor.getOption(82));for(var u=0,h=i;u<h.length;u++){var p=h[u];Object(ee.g)(p.container)&&r._completionDisposables.add(p.container)}r._onNewContext(l)}})).catch(Ft.e)}},e._createItemKindFilter=function(e){var t=new Set;"none"===e.getOption(82)&&t.add(25);var i=e.getOption(85);return i.showMethods||t.add(0),i.showFunctions||t.add(1),i.showConstructors||t.add(2),i.showFields||t.add(3),i.showVariables||t.add(4),i.showClasses||t.add(5),i.showStructs||t.add(6),i.showInterfaces||t.add(7),i.showModules||t.add(8),i.showProperties||t.add(9),i.showEvents||t.add(10),i.showOperators||t.add(11),i.showUnits||t.add(12),i.showValues||t.add(13),i.showConstants||t.add(14),i.showEnums||t.add(15),i.showEnumMembers||t.add(16),i.showKeywords||t.add(17),i.showWords||t.add(18),i.showColors||t.add(19),i.showFiles||t.add(20),i.showReferences||t.add(21),i.showColors||t.add(22),i.showFolders||t.add(23),i.showTypeParameters||t.add(24),i.showSnippets||t.add(25),t},e.prototype._onNewContext=function(e){if(this._context)if(e.lineNumber===this._context.lineNumber){if(e.leadingWord.startColumn<this._context.leadingWord.startColumn)this.cancel();else if(e.column<this._context.column)e.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();else if(this._completionModel)if(e.column>this._context.column&&this._completionModel.incomplete.size>0&&0!==e.leadingWord.word.length){var t=this._completionModel.incomplete,i=this._completionModel.adopt(t);this.trigger({auto:2===this._state,shy:!1},!0,t,i)}else{var n=this._completionModel.lineContext,o=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},0===this._completionModel.items.length){if(Eu.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<e.leadingWord.startColumn)return void this.trigger({auto:this._context.auto,shy:!1},!0);if(this._context.auto)return void this.cancel();if(this._completionModel.lineContext=n,(o=this._completionModel.items.length>0)&&0===e.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:o})}}else this.cancel()},e}(),Nu=(i(1107),i(1108),i(1109),Object(le.Rb)("symbolIcon.arrayForeground",{dark:le.V,light:le.V,hc:le.V},Object(Q.a)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget."))),Ru=Object(le.Rb)("symbolIcon.booleanForeground",{dark:le.V,light:le.V,hc:le.V},Object(Q.a)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ju=Object(le.Rb)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},Object(Q.a)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Tu=Object(le.Rb)("symbolIcon.colorForeground",{dark:le.V,light:le.V,hc:le.V},Object(Q.a)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Au=Object(le.Rb)("symbolIcon.constantForeground",{dark:le.V,light:le.V,hc:le.V},Object(Q.a)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Fu=Object(le.Rb)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},Object(Q.a)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Lu=Object(le.Rb)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},Object(Q.a)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Vu=Object(le.Rb)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Object(Q.a)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Bu=Object(le.Rb)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},Object(Q.a)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Wu=Object(le.Rb)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Object(Q.a)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Hu=Object(le.Rb)("symbolIcon.fileForeground",{dark:le.V,light:le.V,hc:le.V},Object(Q.a)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),zu=Object(le.Rb)("symbolIcon.folderForeground",{dark:le.V,light:le.V,hc:le.V},Object(Q.a)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ku=Object(le.Rb)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},Object(Q.a)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Uu=Object(le.Rb)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Object(Q.a)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),qu=Object(le.Rb)("symbolIcon.keyForeground",{dark:le.V,light:le.V,hc:le.V},Object(Q.a)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Gu=Object(le.Rb)("symbolIcon.keywordForeground",{dark:le.V,light:le.V,hc:le.V},Object(Q.a)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Zu=Object(le.Rb)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},Object(Q.a)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$u=Object(le.Rb)("symbolIcon.moduleForeground",{dark:le.V,light:le.V,hc:le.V},Object(Q.a)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Yu=Object(le.Rb)("symbolIcon.namespaceForeground",{dark:le.V,light:le.V,hc:le.V},Object(Q.a)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ju=Object(le.Rb)("symbolIcon.nullForeground",{dark:le.V,light:le.V,hc:le.V},Object(Q.a)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Qu=Object(le.Rb)("symbolIcon.numberForeground",{dark:le.V,light:le.V,hc:le.V},Object(Q.a)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xu=Object(le.Rb)("symbolIcon.objectForeground",{dark:le.V,light:le.V,hc:le.V},Object(Q.a)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ed=Object(le.Rb)("symbolIcon.operatorForeground",{dark:le.V,light:le.V,hc:le.V},Object(Q.a)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),td=Object(le.Rb)("symbolIcon.packageForeground",{dark:le.V,light:le.V,hc:le.V},Object(Q.a)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),id=Object(le.Rb)("symbolIcon.propertyForeground",{dark:le.V,light:le.V,hc:le.V},Object(Q.a)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),nd=Object(le.Rb)("symbolIcon.referenceForeground",{dark:le.V,light:le.V,hc:le.V},Object(Q.a)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),od=Object(le.Rb)("symbolIcon.snippetForeground",{dark:le.V,light:le.V,hc:le.V},Object(Q.a)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),rd=Object(le.Rb)("symbolIcon.stringForeground",{dark:le.V,light:le.V,hc:le.V},Object(Q.a)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),sd=Object(le.Rb)("symbolIcon.structForeground",{dark:le.V,light:le.V,hc:le.V},Object(Q.a)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ad=Object(le.Rb)("symbolIcon.textForeground",{dark:le.V,light:le.V,hc:le.V},Object(Q.a)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),cd=Object(le.Rb)("symbolIcon.typeParameterForeground",{dark:le.V,light:le.V,hc:le.V},Object(Q.a)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ld=Object(le.Rb)("symbolIcon.unitForeground",{dark:le.V,light:le.V,hc:le.V},Object(Q.a)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ud=Object(le.Rb)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Object(Q.a)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));Object(ue.e)((function(e,t){var i=e.getColor(Nu);i&&t.addRule(".codicon-symbol-array { color: "+i+" !important; }");var n=e.getColor(Ru);n&&t.addRule(".codicon-symbol-boolean { color: "+n+" !important; }");var o=e.getColor(ju);o&&t.addRule(".codicon-symbol-class { color: "+o+" !important; }");var r=e.getColor(Zu);r&&t.addRule(".codicon-symbol-method { color: "+r+" !important; }");var s=e.getColor(Tu);s&&t.addRule(".codicon-symbol-color { color: "+s+" !important; }");var a=e.getColor(Au);a&&t.addRule(".codicon-symbol-constant { color: "+a+" !important; }");var c=e.getColor(Fu);c&&t.addRule(".codicon-symbol-constructor { color: "+c+" !important; }");var l=e.getColor(Lu);l&&t.addRule("\n\t\t\t.codicon-symbol-value,.codicon-symbol-enum { color: "+l+" !important; }");var u=e.getColor(Vu);u&&t.addRule(".codicon-symbol-enum-member { color: "+u+" !important; }");var d=e.getColor(Bu);d&&t.addRule(".codicon-symbol-event { color: "+d+" !important; }");var h=e.getColor(Wu);h&&t.addRule(".codicon-symbol-field { color: "+h+" !important; }");var p=e.getColor(Hu);p&&t.addRule(".codicon-symbol-file { color: "+p+" !important; }");var g=e.getColor(zu);g&&t.addRule(".codicon-symbol-folder { color: "+g+" !important; }");var f=e.getColor(Ku);f&&t.addRule(".codicon-symbol-function { color: "+f+" !important; }");var m=e.getColor(Uu);m&&t.addRule(".codicon-symbol-interface { color: "+m+" !important; }");var _=e.getColor(qu);_&&t.addRule(".codicon-symbol-key { color: "+_+" !important; }");var b=e.getColor(Gu);b&&t.addRule(".codicon-symbol-keyword { color: "+b+" !important; }");var v=e.getColor($u);v&&t.addRule(".codicon-symbol-module { color: "+v+" !important; }");var y=e.getColor(Yu);y&&t.addRule(".codicon-symbol-namespace { color: "+y+" !important; }");var w=e.getColor(Ju);w&&t.addRule(".codicon-symbol-null { color: "+w+" !important; }");var C=e.getColor(Qu);C&&t.addRule(".codicon-symbol-number { color: "+C+" !important; }");var S=e.getColor(Xu);S&&t.addRule(".codicon-symbol-object { color: "+S+" !important; }");var O=e.getColor(ed);O&&t.addRule(".codicon-symbol-operator { color: "+O+" !important; }");var k=e.getColor(td);k&&t.addRule(".codicon-symbol-package { color: "+k+" !important; }");var x=e.getColor(id);x&&t.addRule(".codicon-symbol-property { color: "+x+" !important; }");var D=e.getColor(nd);D&&t.addRule(".codicon-symbol-reference { color: "+D+" !important; }");var I=e.getColor(od);I&&t.addRule(".codicon-symbol-snippet { color: "+I+" !important; }");var P=e.getColor(rd);P&&t.addRule(".codicon-symbol-string { color: "+P+" !important; }");var E=e.getColor(sd);E&&t.addRule(".codicon-symbol-struct { color: "+E+" !important; }");var M=e.getColor(ad);M&&t.addRule(".codicon-symbol-text { color: "+M+" !important; }");var N=e.getColor(cd);N&&t.addRule(".codicon-symbol-type-parameter { color: "+N+" !important; }");var R=e.getColor(ld);R&&t.addRule(".codicon-symbol-unit { color: "+R+" !important; }");var j=e.getColor(ud);j&&t.addRule(".codicon-symbol-variable { color: "+j+" !important; }")}));var dd,hd=i(206),pd=i(219),gd=i(181);function fd(e,t,i,n){var o=n===dd.ROOT_FOLDER?["rootfolder-icon"]:n===dd.FOLDER?["folder-icon"]:["file-icon"];if(i){var r;if(i.scheme===Yn.b.data)r=ro.a.parseMetaData(i).get(ro.a.META_DATA_LABEL);else r=md(Object(ro.c)(i).toLowerCase());if(n===dd.FOLDER)o.push(r+"-name-folder-icon");else{if(r){o.push(r+"-name-file-icon");for(var s=r.split("."),a=1;a<s.length;a++)o.push(s.slice(a).join(".")+"-ext-file-icon");o.push("ext-file-icon")}var c=function(e,t,i){if(!i)return null;var n=null;if(i.scheme===Yn.b.data){var o=ro.a.parseMetaData(i).get(ro.a.META_DATA_MIME);o&&(n=t.getModeId(o))}else{var r=e.getModel(i);r&&(n=r.getModeId())}if(n&&n!==gd.c)return n;return t.getModeIdByFilepathOrFirstLine(i)}(e,t,i);c&&o.push(md(c)+"-lang-file-icon")}}return o}function md(e){return e.replace(/\s/g,"\\$&")}!function(e){e[e.FILE=0]="FILE",e[e.FOLDER=1]="FOLDER",e[e.ROOT_FOLDER=2]="ROOT_FOLDER"}(dd||(dd={}));var _d=function(){return(_d=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},bd=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},vd=function(e,t){return function(i,n){t(i,n,e)}},yd=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},wd=function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},Cd=Object(le.Rb)("editorSuggestWidget.background",{dark:le.P,light:le.P,hc:le.P},Q.a("editorSuggestWidgetBackground","Background color of the suggest widget.")),Sd=Object(le.Rb)("editorSuggestWidget.border",{dark:le.Q,light:le.Q,hc:le.Q},Q.a("editorSuggestWidgetBorder","Border color of the suggest widget.")),Od=Object(le.Rb)("editorSuggestWidget.foreground",{dark:le.x,light:le.x,hc:le.x},Q.a("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),kd=Object(le.Rb)("editorSuggestWidget.selectedBackground",{dark:le.qb,light:le.qb,hc:le.qb},Q.a("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),xd=Object(le.Rb)("editorSuggestWidget.highlightForeground",{dark:le.sb,light:le.sb,hc:le.sb},Q.a("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),Dd=/^(#([\da-f]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))$/i;function Id(e){if(!e)return!1;var t=e.completion;return!!t.documentation||t.detail&&t.detail!==t.label}var Pd=function(){function e(e,t,i,n,o,r){this.widget=e,this.editor=t,this.triggerKeybindingLabel=i,this._modelService=n,this._modeService=o,this._themeService=r}return Object.defineProperty(e.prototype,"templateId",{get:function(){return"suggestion"},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){var t=this,i=Object.create(null);i.disposables=new ee.b,i.root=e,Object(ft.e)(i.root,"show-file-icons"),i.icon=Object(ft.p)(e,Object(ft.a)(".icon")),i.colorspan=Object(ft.p)(i.icon,Object(ft.a)("span.colorspan"));var n=Object(ft.p)(e,Object(ft.a)(".contents")),o=Object(ft.p)(n,Object(ft.a)(".main"));i.iconContainer=Object(ft.p)(o,Object(ft.a)(".icon-label.codicon")),i.iconLabel=new ta(o,{supportHighlights:!0,supportCodicons:!0}),i.disposables.add(i.iconLabel),i.typeLabel=Object(ft.p)(o,Object(ft.a)("span.type-label")),i.readMore=Object(ft.p)(o,Object(ft.a)("span.readMore.codicon.codicon-info")),i.readMore.title=Q.a("readMore","Read More...{0}",this.triggerKeybindingLabel);var r=function(){var e=t.editor.getOptions(),n=e.get(32),r=n.fontFamily,s=e.get(86)||n.fontSize,a=e.get(87)||n.lineHeight,c=n.fontWeight,l=s+"px",u=a+"px";i.root.style.fontSize=l,i.root.style.fontWeight=c,o.style.fontFamily=r,o.style.lineHeight=u,i.icon.style.height=u,i.icon.style.width=u,i.readMore.style.height=u,i.readMore.style.width=u};return r(),i.disposables.add(bt.b.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter((function(e){return e.hasChanged(32)||e.hasChanged(86)||e.hasChanged(87)})).on(r,null)),i},e.prototype.renderElement=function(e,t,i){var n=this,o=i,r=e.completion;o.icon.className="icon "+Object(fn.B)(r.kind),o.colorspan.style.backgroundColor="";var s,a,c={labelEscapeNewLines:!0,matches:Object(ua.c)(e.score)},l=[];if(19===r.kind&&(a=l,(s=e).completion.label.match(Dd)?(a[0]=s.completion.label,1):"string"==typeof s.completion.documentation&&s.completion.documentation.match(Dd)&&(a[0]=s.completion.documentation,1)))o.icon.className="icon customcolor",o.iconContainer.className="icon hide",o.colorspan.style.backgroundColor=l[0];else if(20===r.kind&&this._themeService.getIconTheme().hasFileIcons){o.icon.className="icon hide",o.iconContainer.className="icon hide";var u=fd(this._modelService,this._modeService,mn.a.from({scheme:"fake",path:r.label}),dd.FILE),d=fd(this._modelService,this._modeService,mn.a.from({scheme:"fake",path:r.detail}),dd.FILE);c.extraClasses=u.length>d.length?u:d}else 23===r.kind&&this._themeService.getIconTheme().hasFolderIcons?(o.icon.className="icon hide",o.iconContainer.className="icon hide",c.extraClasses=Object(ln.l)([fd(this._modelService,this._modeService,mn.a.from({scheme:"fake",path:r.label}),dd.FOLDER),fd(this._modelService,this._modeService,mn.a.from({scheme:"fake",path:r.detail}),dd.FOLDER)])):(o.icon.className="icon hide",o.iconContainer.className="",Object(ft.f)(o.iconContainer,"suggest-icon codicon codicon-symbol-"+Object(fn.B)(r.kind)));r.tags&&r.tags.indexOf(1)>=0&&(c.extraClasses=(c.extraClasses||[]).concat(["deprecated"]),c.matches=[]),o.iconLabel.setLabel(r.label,void 0,c),o.typeLabel.textContent=(r.detail||"").replace(/\n.*$/m,""),Id(e)?(Object(ft.T)(o.readMore),o.readMore.onmousedown=function(e){e.stopPropagation(),e.preventDefault()},o.readMore.onclick=function(e){e.stopPropagation(),e.preventDefault(),n.widget.toggleDetails()}):(Object(ft.G)(o.readMore),o.readMore.onmousedown=null,o.readMore.onclick=null)},e.prototype.disposeTemplate=function(e){e.disposables.dispose()},e=bd([vd(3,_n.a),vd(4,an.a),vd(5,ue.c)],e)}(),Ed=function(){function e(e,t,i,n,o){var r=this;this.widget=t,this.editor=i,this.markdownRenderer=n,this.triggerKeybindingLabel=o,this.borderWidth=1,this.disposables=new ee.b,this.el=Object(ft.p)(e,Object(ft.a)(".details")),this.disposables.add(Object(ee.h)((function(){return e.removeChild(r.el)}))),this.body=Object(ft.a)(".body"),this.scrollbar=new Ut.a(this.body,{}),Object(ft.p)(this.el,this.scrollbar.getDomNode()),this.disposables.add(this.scrollbar),this.header=Object(ft.p)(this.body,Object(ft.a)(".header")),this.close=Object(ft.p)(this.header,Object(ft.a)("span.codicon.codicon-close")),this.close.title=Q.a("readLess","Read less...{0}",this.triggerKeybindingLabel),this.type=Object(ft.p)(this.header,Object(ft.a)("p.type")),this.docs=Object(ft.p)(this.body,Object(ft.a)("p.docs")),this.ariaLabel=null,this.configureFont(),bt.b.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter((function(e){return e.hasChanged(32)})).on(this.configureFont,this,this.disposables),n.onDidRenderCodeBlock((function(){return r.scrollbar.scanDomNode()}),this,this.disposables)}return Object.defineProperty(e.prototype,"element",{get:function(){return this.el},enumerable:!0,configurable:!0}),e.prototype.renderLoading=function(){this.type.textContent=Q.a("loading","Loading..."),this.docs.textContent=""},e.prototype.renderItem=function(e,t){var i=this;this.renderDisposeable=Object(ee.f)(this.renderDisposeable);var n=e.completion,o=n.documentation,r=n.detail;if(t){var s="";s+="score: "+e.score[0]+(e.word?", compared '"+(e.completion.filterText&&e.completion.filterText+" (filterText)"||e.completion.label)+"' with '"+e.word+"'":" (no prefix)")+"\n",s+="distance: "+e.distance+", see localityBonus-setting\n",s+="index: "+e.idx+", based on "+(e.completion.sortText&&'sortText: "'+e.completion.sortText+'"'||"label")+"\n",o=(new un).appendCodeblock("empty",s),r="Provider: "+e.provider._debugDisplayName}if(!t&&!Id(e))return this.type.textContent="",this.docs.textContent="",Object(ft.e)(this.el,"no-docs"),void(this.ariaLabel=null);if(Object(ft.L)(this.el,"no-docs"),"string"==typeof o)Object(ft.L)(this.docs,"markdown-docs"),this.docs.textContent=o;else{Object(ft.e)(this.docs,"markdown-docs"),this.docs.innerHTML="";var a=this.markdownRenderer.render(o);this.renderDisposeable=a,this.docs.appendChild(a.element)}r?(this.type.innerText=r,Object(ft.T)(this.type)):(this.type.innerText="",Object(ft.G)(this.type)),this.el.style.height=this.header.offsetHeight+this.docs.offsetHeight+2*this.borderWidth+"px",this.el.style.userSelect="text",this.el.tabIndex=-1,this.close.onmousedown=function(e){e.preventDefault(),e.stopPropagation()},this.close.onclick=function(e){e.preventDefault(),e.stopPropagation(),i.widget.toggleDetails()},this.body.scrollTop=0,this.scrollbar.scanDomNode(),this.ariaLabel=Ne.r("{0}{1}",r||"",o?"string"==typeof o?o:o.value:"")},e.prototype.getAriaLabel=function(){return this.ariaLabel},e.prototype.scrollDown=function(e){void 0===e&&(e=8),this.body.scrollTop+=e},e.prototype.scrollUp=function(e){void 0===e&&(e=8),this.body.scrollTop-=e},e.prototype.scrollTop=function(){this.body.scrollTop=0},e.prototype.scrollBottom=function(){this.body.scrollTop=this.body.scrollHeight},e.prototype.pageDown=function(){this.scrollDown(80)},e.prototype.pageUp=function(){this.scrollUp(80)},e.prototype.setBorderWidth=function(e){this.borderWidth=e},e.prototype.configureFont=function(){var e=this.editor.getOptions(),t=e.get(32),i=t.fontFamily,n=e.get(86)||t.fontSize,o=e.get(87)||t.lineHeight,r=t.fontWeight,s=n+"px",a=o+"px";this.el.style.fontSize=s,this.el.style.fontWeight=r,this.type.style.fontFamily=i,this.close.style.height=a,this.close.style.width=a},e.prototype.dispose=function(){this.disposables.dispose(),this.renderDisposeable=Object(ee.f)(this.renderDisposeable)},e}(),Md=function(){function e(e,t,i,n,o,r,s,a,c){var l=this;this.editor=e,this.telemetryService=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.state=null,this.isAuto=!1,this.loadingTimeout=ee.a.None,this.currentSuggestionDetails=null,this.ignoreFocusEvents=!1,this.completionModel=null,this.showTimeout=new X.e,this.toDispose=new ee.b,this.onDidSelectEmitter=new bt.a,this.onDidFocusEmitter=new bt.a,this.onDidHideEmitter=new bt.a,this.onDidShowEmitter=new bt.a,this.onDidSelect=this.onDidSelectEmitter.event,this.onDidFocus=this.onDidFocusEmitter.event,this.onDidHide=this.onDidHideEmitter.event,this.onDidShow=this.onDidShowEmitter.event,this.maxWidgetWidth=660,this.listWidth=330,this.firstFocusInCurrentList=!1,this.preferDocPositionTop=!1,this.docsPositionPreviousWidgetY=null,this.explainMode=!1,this._onDetailsKeydown=new bt.a,this.onDetailsKeyDown=this._onDetailsKeydown.event,this._lastAriaAlertLabel=null;var u=r.lookupKeybinding("editor.action.triggerSuggest"),d=u?" ("+u.getLabel()+")":"",h=this.toDispose.add(new no(e,s,a));this.isAuto=!1,this.focusedItem=null,this.storageService=o,this.element=Object(ft.a)(".editor-widget.suggest-widget"),this.toDispose.add(Object(ft.i)(this.element,"click",(function(e){e.target===l.element&&l.hideWidget()}))),this.messageElement=Object(ft.p)(this.element,Object(ft.a)(".message")),this.listElement=Object(ft.p)(this.element,Object(ft.a)(".tree")),this.details=c.createInstance(Ed,this.element,this,this.editor,h,d);var p=function(){return Object(ft.U)(l.element,"no-icons",!l.editor.getOption(85).showIcons)};p();var g=c.createInstance(Pd,this,this.editor,d);this.list=new hd.c("SuggestWidget",this.listElement,this,[g],{useShadows:!1,openController:{shouldOpen:function(){return!1}},mouseSupport:!1}),this.toDispose.add(Object(la.b)(this.list,n,{listInactiveFocusBackground:kd,listInactiveFocusOutline:le.b})),this.toDispose.add(n.onThemeChange((function(e){return l.onThemeChange(e)}))),this.toDispose.add(e.onDidLayoutChange((function(){return l.onEditorLayoutChange()}))),this.toDispose.add(this.list.onMouseDown((function(e){return l.onListMouseDownOrTap(e)}))),this.toDispose.add(this.list.onTap((function(e){return l.onListMouseDownOrTap(e)}))),this.toDispose.add(this.list.onSelectionChange((function(e){return l.onListSelection(e)}))),this.toDispose.add(this.list.onFocusChange((function(e){return l.onListFocus(e)}))),this.toDispose.add(this.editor.onDidChangeCursorSelection((function(){return l.onCursorSelectionChanged()}))),this.toDispose.add(this.editor.onDidChangeConfiguration((function(e){return e.hasChanged(85)&&p()}))),this.suggestWidgetVisible=Cl.Visible.bindTo(i),this.suggestWidgetMultipleSuggestions=Cl.MultipleSuggestions.bindTo(i),this.editor.addContentWidget(this),this.setState(0),this.onThemeChange(n.getTheme()),this.toDispose.add(Object(ft.n)(this.details.element,"keydown",(function(e){l._onDetailsKeydown.fire(e)}))),this.toDispose.add(this.editor.onMouseDown((function(e){return l.onEditorMouseDown(e)})))}return e.prototype.onEditorMouseDown=function(e){this.details.element.contains(e.target.element)?this.details.element.focus():this.element.contains(e.target.element)&&this.editor.focus()},e.prototype.onCursorSelectionChanged=function(){0!==this.state&&this.editor.layoutContentWidget(this)},e.prototype.onEditorLayoutChange=function(){3!==this.state&&5!==this.state||!this.expandDocsSettingFromStorage()||this.expandSideOrBelow()},e.prototype.onListMouseDownOrTap=function(e){void 0!==e.element&&void 0!==e.index&&(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this.select(e.element,e.index))},e.prototype.onListSelection=function(e){e.elements.length&&this.select(e.elements[0],e.indexes[0])},e.prototype.select=function(e,t){var i=this.completionModel;i&&(this.onDidSelectEmitter.fire({item:e,index:t,model:i}),this.editor.focus())},e.prototype._getSuggestionAriaAlertLabel=function(e){return this.expandDocsSettingFromStorage()?Q.a("ariaCurrenttSuggestionReadDetails","Item {0}, docs: {1}",e.completion.label,this.details.getAriaLabel()):e.completion.label},e.prototype._ariaAlert=function(e){this._lastAriaAlertLabel!==e&&(this._lastAriaAlertLabel=e,this._lastAriaAlertLabel&&Object(Tt.a)(this._lastAriaAlertLabel,!0))},e.prototype.onThemeChange=function(e){var t=e.getColor(Cd);t&&(this.listElement.style.backgroundColor=t.toString(),this.details.element.style.backgroundColor=t.toString(),this.messageElement.style.backgroundColor=t.toString());var i=e.getColor(Sd);i&&(this.listElement.style.borderColor=i.toString(),this.details.element.style.borderColor=i.toString(),this.messageElement.style.borderColor=i.toString(),this.detailsBorderColor=i.toString());var n=e.getColor(le.U);n&&(this.detailsFocusBorderColor=n.toString()),this.details.setBorderWidth("hc"===e.type?2:1)},e.prototype.onListFocus=function(e){var t=this;if(!this.ignoreFocusEvents){if(!e.elements.length)return this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null,this.focusedItem=null),void this._ariaAlert(null);if(this.completionModel){var i=e.elements[0],n=e.indexes[0];this.firstFocusInCurrentList=!this.focusedItem,i!==this.focusedItem&&(this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null),this.focusedItem=i,this.list.reveal(n),this.currentSuggestionDetails=Object(X.f)((function(e){return yd(t,void 0,void 0,(function(){var t,n,o=this;return wd(this,(function(r){switch(r.label){case 0:return t=Object(X.g)((function(){return o.showDetails(!0)}),250),e.onCancellationRequested((function(){return t.dispose()})),[4,i.resolve(e)];case 1:return n=r.sent(),t.dispose(),[2,n]}}))}))})),this.currentSuggestionDetails.then((function(){n>=t.list.length||i!==t.list.element(n)||(t.ignoreFocusEvents=!0,t.list.splice(n,1,[i]),t.list.setFocus([n]),t.ignoreFocusEvents=!1,t.expandDocsSettingFromStorage()?t.showDetails(!1):Object(ft.L)(t.element,"docs-side"),t._ariaAlert(t._getSuggestionAriaAlertLabel(i)))})).catch(Ft.e)),this.onDidFocusEmitter.fire({item:i,index:n,model:this.completionModel})}}},e.prototype.setState=function(t){if(this.element){var i=this.state!==t;switch(this.state=t,Object(ft.U)(this.element,"frozen",4===t),t){case 0:Object(ft.G)(this.messageElement,this.details.element,this.listElement),this.hide(),this.listHeight=0,i&&this.list.splice(0,this.list.length),this.focusedItem=null;break;case 1:this.messageElement.textContent=e.LOADING_MESSAGE,Object(ft.G)(this.listElement,this.details.element),Object(ft.T)(this.messageElement),Object(ft.L)(this.element,"docs-side"),this.show(),this.focusedItem=null;break;case 2:this.messageElement.textContent=e.NO_SUGGESTIONS_MESSAGE,Object(ft.G)(this.listElement,this.details.element),Object(ft.T)(this.messageElement),Object(ft.L)(this.element,"docs-side"),this.show(),this.focusedItem=null;break;case 3:case 4:Object(ft.G)(this.messageElement),Object(ft.T)(this.listElement),this.show();break;case 5:Object(ft.G)(this.messageElement),Object(ft.T)(this.details.element,this.listElement),this.show(),this._ariaAlert(this.details.getAriaLabel())}}},e.prototype.showTriggered=function(e,t){var i=this;0===this.state&&(this.isAuto=!!e,this.isAuto||(this.loadingTimeout=Object(X.g)((function(){return i.setState(1)}),t)))},e.prototype.showSuggestions=function(e,t,i,n){if(this.preferDocPositionTop=!1,this.docsPositionPreviousWidgetY=null,this.loadingTimeout.dispose(),this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null),this.completionModel!==e&&(this.completionModel=e),i&&2!==this.state&&0!==this.state)this.setState(4);else{var o=this.completionModel.items.length,r=0===o;if(this.suggestWidgetMultipleSuggestions.set(o>1),r)n?this.setState(0):this.setState(2),this.completionModel=null;else{if(3!==this.state){var s=this.completionModel.stats;s.wasAutomaticallyTriggered=!!n,this.telemetryService.publicLog("suggestWidget",_d({},s))}this.focusedItem=null,this.list.splice(0,this.list.length,this.completionModel.items),i?this.setState(4):this.setState(3),this.list.reveal(t,0),this.list.setFocus([t]),this.detailsBorderColor&&(this.details.element.style.borderColor=this.detailsBorderColor)}}},e.prototype.selectNextPage=function(){switch(this.state){case 0:return!1;case 5:return this.details.pageDown(),!0;case 1:return!this.isAuto;default:return this.list.focusNextPage(),!0}},e.prototype.selectNext=function(){switch(this.state){case 0:return!1;case 1:return!this.isAuto;default:return this.list.focusNext(1,!0),!0}},e.prototype.selectLast=function(){switch(this.state){case 0:return!1;case 5:return this.details.scrollBottom(),!0;case 1:return!this.isAuto;default:return this.list.focusLast(),!0}},e.prototype.selectPreviousPage=function(){switch(this.state){case 0:return!1;case 5:return this.details.pageUp(),!0;case 1:return!this.isAuto;default:return this.list.focusPreviousPage(),!0}},e.prototype.selectPrevious=function(){switch(this.state){case 0:return!1;case 1:return!this.isAuto;default:return this.list.focusPrevious(1,!0),!1}},e.prototype.selectFirst=function(){switch(this.state){case 0:return!1;case 5:return this.details.scrollTop(),!0;case 1:return!this.isAuto;default:return this.list.focusFirst(),!0}},e.prototype.getFocusedItem=function(){if(0!==this.state&&2!==this.state&&1!==this.state&&this.completionModel)return{item:this.list.getFocusedElements()[0],index:this.list.getFocus()[0],model:this.completionModel}},e.prototype.toggleDetailsFocus=function(){5===this.state?(this.setState(3),this.detailsBorderColor&&(this.details.element.style.borderColor=this.detailsBorderColor)):3===this.state&&this.expandDocsSettingFromStorage()&&(this.setState(5),this.detailsFocusBorderColor&&(this.details.element.style.borderColor=this.detailsFocusBorderColor)),this.telemetryService.publicLog2("suggestWidget:toggleDetailsFocus")},e.prototype.toggleDetails=function(){if(Id(this.list.getFocusedElements()[0]))if(this.expandDocsSettingFromStorage())this.updateExpandDocsSetting(!1),Object(ft.G)(this.details.element),Object(ft.L)(this.element,"docs-side"),Object(ft.L)(this.element,"docs-below"),this.editor.layoutContentWidget(this),this.telemetryService.publicLog2("suggestWidget:collapseDetails");else{if(3!==this.state&&5!==this.state&&4!==this.state)return;this.updateExpandDocsSetting(!0),this.showDetails(!1),this._ariaAlert(this.details.getAriaLabel()),this.telemetryService.publicLog2("suggestWidget:expandDetails")}},e.prototype.showDetails=function(e){this.expandSideOrBelow(),Object(ft.T)(this.details.element),this.details.element.style.maxHeight=this.maxWidgetHeight+"px",e?this.details.renderLoading():this.details.renderItem(this.list.getFocusedElements()[0],this.explainMode),this.listElement.style.marginTop="0px",this.editor.layoutContentWidget(this),this.adjustDocsPosition(),this.editor.focus()},e.prototype.toggleExplainMode=function(){this.list.getFocusedElements()[0]&&this.expandDocsSettingFromStorage()&&(this.explainMode=!this.explainMode,this.showDetails(!1))},e.prototype.show=function(){var e=this,t=this.updateListHeight();t!==this.listHeight&&(this.editor.layoutContentWidget(this),this.listHeight=t),this.suggestWidgetVisible.set(!0),this.showTimeout.cancelAndSet((function(){Object(ft.e)(e.element,"visible"),e.onDidShowEmitter.fire(e)}),100)},e.prototype.hide=function(){this.suggestWidgetVisible.reset(),this.suggestWidgetMultipleSuggestions.reset(),Object(ft.L)(this.element,"visible")},e.prototype.hideWidget=function(){this.loadingTimeout.dispose(),this.setState(0),this.onDidHideEmitter.fire(this)},e.prototype.getPosition=function(){if(0===this.state)return null;var e=[2,1];return this.preferDocPositionTop&&(e=[1]),{position:this.editor.getPosition(),preference:e}},e.prototype.getDomNode=function(){return this.element},e.prototype.getId=function(){return e.ID},e.prototype.isFrozen=function(){return 4===this.state},e.prototype.updateListHeight=function(){var e=0;if(2===this.state||1===this.state)e=this.unfocusedHeight;else{var t=this.list.contentHeight/this.unfocusedHeight,i=this.editor.getOption(85).maxVisibleSuggestions;e=Math.min(t,i)*this.unfocusedHeight}return this.element.style.lineHeight=this.unfocusedHeight+"px",this.listElement.style.height=e+"px",this.list.layout(e),e},e.prototype.adjustDocsPosition=function(){if(this.editor.hasModel()){var e=this.editor.getOption(47),t=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),i=Object(ft.A)(this.editor.getDomNode()),n=i.left+t.left,o=i.top+t.top+t.height,r=Object(ft.A)(this.element),s=r.left,a=r.top;if(this.docsPositionPreviousWidgetY&&this.docsPositionPreviousWidgetY<a&&!this.preferDocPositionTop)return this.preferDocPositionTop=!0,void this.adjustDocsPosition();this.docsPositionPreviousWidgetY=a,s<n-this.listWidth?Object(ft.e)(this.element,"list-right"):Object(ft.L)(this.element,"list-right"),Object(ft.F)(this.element,"docs-side")&&o-e>a&&this.details.element.offsetHeight>this.listElement.offsetHeight&&(this.listElement.style.marginTop=this.details.element.offsetHeight-this.listElement.offsetHeight+"px")}},e.prototype.expandSideOrBelow=function(){if(!Id(this.focusedItem)&&this.firstFocusInCurrentList)return Object(ft.L)(this.element,"docs-side"),void Object(ft.L)(this.element,"docs-below");var e=this.element.style.maxWidth.match(/(\d+)px/);!e||Number(e[1])<this.maxWidgetWidth?(Object(ft.e)(this.element,"docs-below"),Object(ft.L)(this.element,"docs-side")):Id(this.focusedItem)&&(Object(ft.e)(this.element,"docs-side"),Object(ft.L)(this.element,"docs-below"))},Object.defineProperty(e.prototype,"maxWidgetHeight",{get:function(){return this.unfocusedHeight*this.editor.getOption(85).maxVisibleSuggestions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unfocusedHeight",{get:function(){var e=this.editor.getOptions();return e.get(87)||e.get(32).lineHeight},enumerable:!0,configurable:!0}),e.prototype.getHeight=function(e){return this.unfocusedHeight},e.prototype.getTemplateId=function(e){return"suggestion"},e.prototype.expandDocsSettingFromStorage=function(){return this.storageService.getBoolean("expandSuggestionDocs",0,!1)},e.prototype.updateExpandDocsSetting=function(e){this.storageService.store("expandSuggestionDocs",e,0)},e.prototype.dispose=function(){this.details.dispose(),this.list.dispose(),this.toDispose.dispose(),this.loadingTimeout.dispose(),this.showTimeout.dispose()},e.ID="editor.widget.suggestWidget",e.LOADING_MESSAGE=Q.a("suggestWidget.loading","Loading..."),e.NO_SUGGESTIONS_MESSAGE=Q.a("suggestWidget.noSuggestions","No suggestions."),e=bd([vd(1,pd.a),vd(2,Ue.c),vd(3,ue.c),vd(4,Vi.a),vd(5,Li.a),vd(6,an.a),vd(7,Qn.a),vd(8,Fi.a)],e)}();Object(ue.e)((function(e,t){var i=e.getColor(xd);i&&t.addRule(".monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: "+i+"; }");var n=e.getColor(Od);n&&t.addRule(".monaco-editor .suggest-widget { color: "+n+"; }");var o=e.getColor(le.cc);o&&t.addRule(".monaco-editor .suggest-widget a { color: "+o+"; }");var r=e.getColor(le.bc);r&&t.addRule(".monaco-editor .suggest-widget code { background-color: "+r+"; }")}));var Nd=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Rd=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},jd=function(e,t){return function(i,n){t(i,n,e)}},Td=function(e){function t(i,n){var o=e.call(this)||this;return o._editor=i,o._enabled=!1,o._ckAtEnd=t.AtEnd.bindTo(n),o._register(o._editor.onDidChangeConfiguration((function(e){return e.hasChanged(90)&&o._update()}))),o._update(),o}return Nd(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),Object(ee.f)(this._selectionListener),this._ckAtEnd.reset()},t.prototype._update=function(){var e=this,t="on"===this._editor.getOption(90);if(this._enabled!==t)if(this._enabled=t,this._enabled){var i=function(){if(e._editor.hasModel()){var t=e._editor.getModel(),i=e._editor.getSelection(),n=t.getWordAtPosition(i.getStartPosition());n?e._ckAtEnd.set(n.endColumn===i.getStartPosition().column):e._ckAtEnd.set(!1)}else e._ckAtEnd.set(!1)};this._selectionListener=this._editor.onDidChangeCursorSelection(i),i()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)},t.AtEnd=new Ue.d("atEndOfWord",!1),t=Rd([jd(1,Ue.c)],t)}(ee.a),Ad=i(199),Fd=function(){function e(e,t,i){var n=this;this._disposables=new ee.b,this._disposables.add(t.onDidShow((function(){return n._onItem(t.getFocusedItem())}))),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType((function(o){if(n._active&&!t.isFrozen()){var r=o.charCodeAt(o.length-1);n._active.acceptCharacters.has(r)&&e.getOption(0)&&i(n._active.item)}})))}return e.prototype._onItem=function(e){if(e&&Object(ln.p)(e.item.completion.commitCharacters)){if(!this._active||this._active.item.item!==e.item){for(var t=new Wc.b,i=0,n=e.item.completion.commitCharacters;i<n.length;i++){var o=n[i];o.length>0&&t.add(o.charCodeAt(0))}this._active={acceptCharacters:t,item:e}}}else this.reset()},e.prototype.reset=function(){this._active=void 0},e.prototype.dispose=function(){this._disposables.dispose()},e}(),Ld=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Vd=function(){function e(e){var t=this;this._controller=e,this._disposables=new ee.b,this._decorations=[],this._disposables.add(e.model.onDidSuggest((function(e){if(!e.shy){var i=t._controller.widget.getValue(),n=i.getFocusedItem();n&&t._highlight(n.item),t._widgetListener||(t._widgetListener=i.onDidFocus((function(e){return t._highlight(e.item)})))}}))),this._disposables.add(e.model.onDidCancel((function(){t._reset()})))}return e.prototype.dispose=function(){this._reset(),this._disposables.dispose(),Object(ee.f)(this._widgetListener),Object(ee.f)(this._shiftKeyListener)},e.prototype._reset=function(){this._decorations=this._controller.editor.deltaDecorations(this._decorations,[]),this._shiftKeyListener&&(this._shiftKeyListener.dispose(),this._shiftKeyListener=void 0)},e.prototype._highlight=function(e){var t,i=this;this._currentItem=e;var n=this._controller.editor.getOption(85),o=[];if(n.insertHighlight){this._shiftKeyListener||(this._shiftKeyListener=Bd.event((function(){return i._highlight(i._currentItem)})));var r=this._controller.getOverwriteInfo(e,Bd.isPressed),s=this._controller.editor.getPosition();if("insert"===n.insertMode&&r.overwriteAfter>0)o=[{range:new ne.a(s.lineNumber,s.column,s.lineNumber,s.column+r.overwriteAfter),options:{inlineClassName:"suggest-insert-unexpected"}}];else if("replace"===n.insertMode&&0===r.overwriteAfter){var a=null===(t=this._controller.editor.getModel())||void 0===t?void 0:t.getWordAtPosition(s);a&&a.endColumn>s.column&&(o=[{range:new ne.a(s.lineNumber,s.column,s.lineNumber,a.endColumn),options:{inlineClassName:"suggest-insert-unexpected"}}])}}this._decorations=this._controller.editor.deltaDecorations(this._decorations,o)},e}(),Bd=new(function(e){function t(){var t=e.call(this)||this;return t._subscriptions=new ee.b,t._isPressed=!1,t._subscriptions.add(Object(qt.a)(document.body,"keydown")((function(e){return t.isPressed=e.shiftKey}))),t._subscriptions.add(Object(qt.a)(document.body,"keyup")((function(){return t.isPressed=!1}))),t._subscriptions.add(Object(qt.a)(document.body,"mouseleave")((function(){return t.isPressed=!1}))),t._subscriptions.add(Object(qt.a)(document.body,"blur")((function(){return t.isPressed=!1}))),t}return Ld(t,e),Object.defineProperty(t.prototype,"isPressed",{get:function(){return this._isPressed},set:function(e){this._isPressed!==e&&(this._isPressed=e,this.fire(e))},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._subscriptions.dispose(),e.prototype.dispose.call(this)},t}(bt.a)),Wd=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Hd=function(){return(Hd=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},zd=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Kd=function(e,t){return function(i,n){t(i,n,e)}},Ud=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<i;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)n[o]=r[s];return n},qd=function(){function e(e,t){if(this._model=e,this._position=t,e.getLineMaxColumn(t.lineNumber)!==t.column){var i=e.getOffsetAt(t),n=e.getPositionAt(i+1);this._marker=e.deltaDecorations([],[{range:ne.a.fromPositions(t,n),options:{stickiness:1}}])}}return e.prototype.dispose=function(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])},e.prototype.delta=function(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){var t=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(t.getStartPosition())-this._model.getOffsetAt(e)}return this._model.getLineMaxColumn(e.lineNumber)-e.column},e}(),Gd=function(){function e(e,t,i,n,o,r){var s=this;this._memoryService=i,this._commandService=n,this._contextKeyService=o,this._instantiationService=r,this._lineSuffix=new ee.d,this._toDispose=new ee.b,this.editor=e,this.model=new Mu(this.editor,t),this.widget=new X.b((function(){var e=s._instantiationService.createInstance(Md,s.editor);s._toDispose.add(e),s._toDispose.add(e.onDidSelect((function(e){return s._insertSuggestion(e,0)}),s));var t=new Fd(s.editor,e,(function(e){return s._insertSuggestion(e,2)}));s._toDispose.add(t),s._toDispose.add(s.model.onDidSuggest((function(e){0===e.completionModel.items.length&&t.reset()})));var i=Cl.MakesTextEdit.bindTo(s._contextKeyService);return s._toDispose.add(e.onDidFocus((function(e){var t=e.item,n=s.editor.getPosition(),o=t.editStart.column,r=n.column,a=!0;"smart"!==s.editor.getOption(1)||2!==s.model.state||t.completion.command||t.completion.additionalTextEdits||4&t.completion.insertTextRules||r-o!==t.completion.insertText.length||(a=s.editor.getModel().getValueInRange({startLineNumber:n.lineNumber,startColumn:o,endLineNumber:n.lineNumber,endColumn:r})!==t.completion.insertText);i.set(a)}))),s._toDispose.add(Object(ee.h)((function(){return i.reset()}))),e})),this._alternatives=new X.b((function(){return s._toDispose.add(new Ou(s.editor,s._contextKeyService))})),this._toDispose.add(r.createInstance(Td,e)),this._toDispose.add(this.model.onDidTrigger((function(e){s.widget.getValue().showTriggered(e.auto,e.shy?250:50),s._lineSuffix.value=new qd(s.editor.getModel(),e.position)}))),this._toDispose.add(this.model.onDidSuggest((function(e){if(!e.shy){var t=s._memoryService.select(s.editor.getModel(),s.editor.getPosition(),e.completionModel.items);s.widget.getValue().showSuggestions(e.completionModel,t,e.isFrozen,e.auto)}}))),this._toDispose.add(this.model.onDidCancel((function(e){e.retrigger||s.widget.getValue().hideWidget()}))),this._toDispose.add(this.editor.onDidBlurEditorWidget((function(){s.model.cancel(),s.model.clear()}))),this._toDispose.add(this.widget.getValue().onDetailsKeyDown((function(e){e.toKeybinding().equals(new sn.e(!0,!1,!1,!1,33))||ve.e&&e.toKeybinding().equals(new sn.e(!1,!1,!1,!0,33))?e.stopPropagation():e.toKeybinding().isModifierKey()||s.editor.focus()})));var a=Cl.AcceptSuggestionsOnEnter.bindTo(o),c=function(){var e=s.editor.getOption(1);a.set("on"===e||"smart"===e)};this._toDispose.add(this.editor.onDidChangeConfiguration((function(){return c()}))),c(),this._toDispose.add(new Vd(this))}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()},e.prototype._insertSuggestion=function(e,t){var i,n=this;if(!e||!e.item)return this._alternatives.getValue().reset(),this.model.cancel(),void this.model.clear();if(this.editor.hasModel()){var o=this.editor.getModel(),r=o.getAlternativeVersionId(),s=e.item,a=s.completion;1&t||this.editor.pushUndoStop();var c=this.getOverwriteInfo(s,Boolean(8&t));this._memoryService.memorize(o,this.editor.getPosition(),s),Array.isArray(a.additionalTextEdits)&&this.editor.executeEdits("suggestController.additionalTextEdits",a.additionalTextEdits.map((function(e){return vl.a.replace(ne.a.lift(e.range),e.text)})));var l=a.insertText;4&a.insertTextRules||(l=ql.escape(l)),uu.get(this.editor).insert(l,{overwriteBefore:c.overwriteBefore,overwriteAfter:c.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&a.insertTextRules)}),2&t||this.editor.pushUndoStop(),a.command?a.command.id===Zd.id?this.model.trigger({auto:!0,shy:!1},!0):((i=this._commandService).executeCommand.apply(i,Ud([a.command.id],a.command.arguments?Ud(a.command.arguments):[])).catch(Ft.e).finally((function(){return n.model.clear()})),this.model.cancel()):(this.model.cancel(),this.model.clear()),4&t&&this._alternatives.getValue().set(e,(function(e){for(;o.canUndo();){r!==o.getAlternativeVersionId()&&o.undo(),n._insertSuggestion(e,3|(8&t?8:0));break}})),this._alertCompletionItem(e.item)}},e.prototype.getOverwriteInfo=function(e,t){Object(Oa.a)(this.editor.hasModel());var i="replace"===this.editor.getOption(85).insertMode;t&&(i=!i);var n=e.position.column-e.editStart.column,o=(i?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column;return{overwriteBefore:n+(this.editor.getPosition().column-e.position.column),overwriteAfter:o+(this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0)}},e.prototype._alertCompletionItem=function(e){var t=e.completion;if(Object(ln.p)(t.additionalTextEdits)){var i=Q.a("arai.alert.snippet","Accepting '{0}' made {1} additional edits",t.label,t.additionalTextEdits.length);Object(Tt.a)(i)}},e.prototype.triggerSuggest=function(e){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,e),this.editor.revealLine(this.editor.getPosition().lineNumber,0),this.editor.focus())},e.prototype.triggerSuggestAndAcceptBest=function(e){var t=this;if(this.editor.hasModel()){var i=this.editor.getPosition(),n=function(){i.equals(t.editor.getPosition())&&t._commandService.executeCommand(e.fallback)};bt.b.once(this.model.onDidTrigger)((function(e){var i=[];bt.b.any(t.model.onDidTrigger,t.model.onDidCancel)((function(){Object(ee.f)(i),n()}),void 0,i),t.model.onDidSuggest((function(e){var o=e.completionModel;if(Object(ee.f)(i),0!==o.items.length){var r=t._memoryService.select(t.editor.getModel(),t.editor.getPosition(),o.items),s=o.items[r];!function(e){if(4&e.completion.insertTextRules||e.completion.additionalTextEdits)return!0;var i=t.editor.getPosition(),n=e.editStart.column,o=i.column;return o-n!==e.completion.insertText.length||t.editor.getModel().getValueInRange({startLineNumber:i.lineNumber,startColumn:n,endLineNumber:i.lineNumber,endColumn:o})!==e.completion.insertText}(s)?n():(t.editor.pushUndoStop(),t._insertSuggestion({index:r,item:s,model:o},7))}else n()}),void 0,i)})),this.model.trigger({auto:!1,shy:!0}),this.editor.revealLine(i.lineNumber,0),this.editor.focus()}},e.prototype.acceptSelectedSuggestion=function(e,t){var i=this.widget.getValue().getFocusedItem(),n=0;e&&(n|=4),t&&(n|=8),this._insertSuggestion(i,n)},e.prototype.acceptNextSuggestion=function(){this._alternatives.getValue().next()},e.prototype.acceptPrevSuggestion=function(){this._alternatives.getValue().prev()},e.prototype.cancelSuggestWidget=function(){this.model.cancel(),this.model.clear(),this.widget.getValue().hideWidget()},e.prototype.selectNextSuggestion=function(){this.widget.getValue().selectNext()},e.prototype.selectNextPageSuggestion=function(){this.widget.getValue().selectNextPage()},e.prototype.selectLastSuggestion=function(){this.widget.getValue().selectLast()},e.prototype.selectPrevSuggestion=function(){this.widget.getValue().selectPrevious()},e.prototype.selectPrevPageSuggestion=function(){this.widget.getValue().selectPreviousPage()},e.prototype.selectFirstSuggestion=function(){this.widget.getValue().selectFirst()},e.prototype.toggleSuggestionDetails=function(){this.widget.getValue().toggleDetails()},e.prototype.toggleExplainMode=function(){this.widget.getValue().toggleExplainMode()},e.prototype.toggleSuggestionFocus=function(){this.widget.getValue().toggleDetailsFocus()},e.ID="editor.contrib.suggestController",e=zd([Kd(1,Ad.a),Kd(2,wu),Kd(3,mo.b),Kd(4,Ue.c),Kd(5,Fi.a)],e)}(),Zd=function(e){function t(){return e.call(this,{id:t.id,label:Q.a("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:Ue.a.and(re.a.writable,re.a.hasCompletionItemProvider),kbOpts:{kbExpr:re.a.textInputFocus,primary:2058,mac:{primary:266,secondary:[521]},weight:100}})||this}return Wd(t,e),t.prototype.run=function(e,t){var i=Gd.get(t);i&&i.triggerSuggest()},t.id="editor.action.triggerSuggest",t}(te.b);Object(te.h)(Gd.ID,Gd),Object(te.f)(Zd);var $d=te.c.bindToContribution(Gd.get);Object(te.g)(new $d({id:"acceptSelectedSuggestion",precondition:Cl.Visible,handler:function(e,t){var i="object"==typeof t&&"boolean"==typeof t.alternative&&t.alternative;e.acceptSelectedSuggestion(!0,i)}})),ei.a.registerKeybindingRule({id:"acceptSelectedSuggestion",when:Ue.a.and(Cl.Visible,re.a.textInputFocus),primary:2,weight:190}),ei.a.registerKeybindingRule({id:"acceptSelectedSuggestion",when:Ue.a.and(Cl.Visible,re.a.textInputFocus,Cl.AcceptSuggestionsOnEnter,Cl.MakesTextEdit),primary:3,weight:190}),ei.a.registerKeybindingRule({id:"acceptSelectedSuggestion",when:Ue.a.and(Cl.Visible,re.a.textInputFocus),primary:1026,secondary:[1027],args:{alternative:!0},weight:190}),mo.a.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),Object(te.g)(new $d({id:"hideSuggestWidget",precondition:Cl.Visible,handler:function(e){return e.cancelSuggestWidget()},kbOpts:{weight:190,kbExpr:re.a.textInputFocus,primary:9,secondary:[1033]}})),Object(te.g)(new $d({id:"selectNextSuggestion",precondition:Ue.a.and(Cl.Visible,Cl.MultipleSuggestions),handler:function(e){return e.selectNextSuggestion()},kbOpts:{weight:190,kbExpr:re.a.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),Object(te.g)(new $d({id:"selectNextPageSuggestion",precondition:Ue.a.and(Cl.Visible,Cl.MultipleSuggestions),handler:function(e){return e.selectNextPageSuggestion()},kbOpts:{weight:190,kbExpr:re.a.textInputFocus,primary:12,secondary:[2060]}})),Object(te.g)(new $d({id:"selectLastSuggestion",precondition:Ue.a.and(Cl.Visible,Cl.MultipleSuggestions),handler:function(e){return e.selectLastSuggestion()}})),Object(te.g)(new $d({id:"selectPrevSuggestion",precondition:Ue.a.and(Cl.Visible,Cl.MultipleSuggestions),handler:function(e){return e.selectPrevSuggestion()},kbOpts:{weight:190,kbExpr:re.a.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),Object(te.g)(new $d({id:"selectPrevPageSuggestion",precondition:Ue.a.and(Cl.Visible,Cl.MultipleSuggestions),handler:function(e){return e.selectPrevPageSuggestion()},kbOpts:{weight:190,kbExpr:re.a.textInputFocus,primary:11,secondary:[2059]}})),Object(te.g)(new $d({id:"selectFirstSuggestion",precondition:Ue.a.and(Cl.Visible,Cl.MultipleSuggestions),handler:function(e){return e.selectFirstSuggestion()}})),Object(te.g)(new $d({id:"toggleSuggestionDetails",precondition:Cl.Visible,handler:function(e){return e.toggleSuggestionDetails()},kbOpts:{weight:190,kbExpr:re.a.textInputFocus,primary:2058,mac:{primary:266}}})),Object(te.g)(new $d({id:"toggleExplainMode",precondition:Cl.Visible,handler:function(e){return e.toggleExplainMode()},kbOpts:{weight:100,primary:2133}})),Object(te.g)(new $d({id:"toggleSuggestionFocus",precondition:Cl.Visible,handler:function(e){return e.toggleSuggestionFocus()},kbOpts:{weight:190,kbExpr:re.a.textInputFocus,primary:2570,mac:{primary:778}}})),Object(te.g)(new $d({id:"insertBestCompletion",precondition:Ue.a.and(Ue.a.equals("config.editor.tabCompletion","on"),Td.AtEnd,Cl.Visible.toNegated(),Ou.OtherSuggestions.toNegated(),uu.InSnippetMode.toNegated()),handler:function(e,t){e.triggerSuggestAndAcceptBest(Object(Oa.i)(t)?Hd({fallback:"tab"},t):{fallback:"tab"})},kbOpts:{weight:190,primary:2}})),Object(te.g)(new $d({id:"insertNextSuggestion",precondition:Ue.a.and(Ue.a.equals("config.editor.tabCompletion","on"),Ou.OtherSuggestions,Cl.Visible.toNegated(),uu.InSnippetMode.toNegated()),handler:function(e){return e.acceptNextSuggestion()},kbOpts:{weight:190,kbExpr:re.a.textInputFocus,primary:2}})),Object(te.g)(new $d({id:"insertPrevSuggestion",precondition:Ue.a.and(Ue.a.equals("config.editor.tabCompletion","on"),Ou.OtherSuggestions,Cl.Visible.toNegated(),uu.InSnippetMode.toNegated()),handler:function(e){return e.acceptPrevSuggestion()},kbOpts:{weight:190,kbExpr:re.a.textInputFocus,primary:1026}}));i(1110);var Yd=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Jd=function(e){function t(t){var i=e.call(this)||this;return i.editor=t,i.widget=null,be.j&&(i._register(t.onDidChangeConfiguration((function(){return i.update()}))),i.update()),i}return Yd(t,e),t.prototype.update=function(){var e=!this.editor.getOption(65);!this.widget&&e?this.widget=new Qd(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.widget&&(this.widget.dispose(),this.widget=null)},t.ID="editor.contrib.iPadShowKeyboard",t}(ee.a),Qd=function(e){function t(t){var i=e.call(this)||this;return i.editor=t,i._domNode=document.createElement("textarea"),i._domNode.className="iPadShowKeyboard",i._register(ft.i(i._domNode,"touchstart",(function(e){i.editor.focus()}))),i._register(ft.i(i._domNode,"focus",(function(e){i.editor.focus()}))),i.editor.addOverlayWidget(i),i}return Yd(t,e),t.prototype.dispose=function(){this.editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},t.prototype.getId=function(){return t.ID},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return{preference:1}},t.ID="editor.contrib.ShowKeyboardWidget",t}(ee.a);Object(te.h)(Jd.ID,Jd);var Xd="undefined"==typeof monaco?self.monaco:monaco,eh={},th={},ih=function(){function e(e){var t=this;this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((function(e,i){t._lazyLoadPromiseResolve=e,t._lazyLoadPromiseReject=i}))}return e.getOrCreate=function(t){return th[t]||(th[t]=new e(t)),th[t]},e.prototype.whenLoaded=function(){return this._lazyLoadPromise},e.prototype.load=function(){var e=this;return this._loadingTriggered||(this._loadingTriggered=!0,eh[this._languageId].loader().then((function(t){return e._lazyLoadPromiseResolve(t)}),(function(t){return e._lazyLoadPromiseReject(t)}))),this._lazyLoadPromise},e}();!function(e){var t=e.id;eh[t]=e,Xd.languages.register(e);var i=ih.getOrCreate(t);Xd.languages.setMonarchTokensProvider(t,i.whenLoaded().then((function(e){return e.language}))),Xd.languages.onLanguage(t,(function(){i.load().then((function(e){Xd.languages.setLanguageConfiguration(t,e.conf)}))}))}({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml"],loader:function(){return i.e(16).then(i.bind(null,1126))}});var nh=i(1111),oh=i.n(nh),rh=i(1112),sh=i.n(rh);function ah(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){o=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ch(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ch(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ch(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}window.MonacoEnvironment={getWorker:function(e,t){return"yaml"===t?new sh.a:new oh.a}};var lh=(null!==Y.languages&&void 0!==Y.languages?Y.languages:{}).yaml,uh=function(e){var t=e.name,i=e.schemas,o=Object(G.a)(),s=ah(Object(r.c)(t),3),a=s[0].value,c=s[2].setValue;Object(n.useEffect)((function(){null==lh||lh.yamlDefaults.setDiagnosticsOptions({validate:!0,schemas:i,enableSchemaRequest:!0,hover:!0,completion:!0})}),[i]);var l=Object(n.useCallback)((function(e){return c(e)}),[c]);return Object(P.e)($.a,{language:"yaml",theme:o.palette.type,options:{selectOnLineNumbers:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,tabSize:2},value:a,onChange:l})};function dh(){return(dh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function hh(e,t){if(null==e)return{};var i,n,o=function(e,t){if(null==e)return{};var i,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(o[i]=e[i]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}var ph=function(e){var t=e.loading,i=e.children,o=hh(e,["loading","children"]),s=Object(r.d)(),a=s.submitForm,l=s.isSubmitting,u=s.setSubmitting;return Object(n.useEffect)((function(){u(t)}),[t,u]),Object(P.e)(c.a,dh({},o,{variant:"contained",color:"primary",onClick:a,disabled:l,type:"submit"}),i)},gh=function(e){var t=e.initialValues,i=Object(r.d)().resetForm;return Object(n.useEffect)((function(){i({values:t})}),[t,i]),null};function fh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){o=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mh(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return mh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mh(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var _h=function(e){return Object(P.d)("display:flex;align-items:center;padding:",e.typography.pxToRem(e.spacing(2))," ",e.typography.pxToRem(e.spacing(4)),";")},bh=function(e){return Object(P.d)("margin:",e.typography.pxToRem(e.spacing(2))," ",e.typography.pxToRem(e.spacing(4)),";margin-bottom:0;")},vh=function(e){return Object(P.d)("margin-right:",e.typography.pxToRem(e.spacing(2)),";")},yh={name:"1rr4qq7",styles:"flex:1;"};t.default=function(){var e;Object(s.d)("Config Editor");var t=fh(Object(n.useState)("config"),2),i=t[0],o=t[1],l=fh(function(){var e=z(Object(N.b)("/server/raw_config"),2),t=e[0],i=e[1],o=z(Object(N.b)("/server/raw_config",R.a.Post),2),r=o[0],s=o[1],a=z(Object(n.useState)(""),2),c=a[0],l=a[1],u=Object(L.b)(F.a).refresh,d=Object(D.c)();return Object(n.useEffect)((function(){(function(){var e=H(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:(t=e.sent).ok&&l(A(t.data.rawConfig));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i]),[{config:c,state:{get:t,post:r}},Object(n.useCallback)(function(){var e=H(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({rawConfig:T(t)});case 2:return(i=e.sent).ok&&(l(t),d(i.data.message),u()),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s,d,u])]}(),2),u=l[0],d=u.config,h=u.state,p=l[1],g=fh(function(){var e=z(Object(N.b)("/variables"),2),t=e[0],i=e[1],o=z(Object(N.b)("/variables",R.a.Put),2),r=o[0],s=o[1],a=z(Object(n.useState)(""),2),c=a[0],l=a[1],u=Object(D.c)();return Object(n.useEffect)((function(){(function(){var e=H(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:(t=e.sent).ok&&l(M.a.stringify(t.data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i]),[{variables:c,state:{get:t,post:r}},Object(n.useCallback)(function(){var e=H(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(M.a.parse(t));case 2:return(i=e.sent).ok&&(l(t),u("Variables successfully saved")),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s,u])]}(),2),f=g[0],m=f.variables,_=f.state,b=g[1],v=q().schemas,y=Object(n.useCallback)((function(){return o((function(e){return"config"===e?"variables":"config"}))}),[]),w="config"===i?{loadText:"Load Variables",submitText:"Save Config",yaml:d,save:p,getState:h.get,saveState:h.post}:{loadText:"Load Config",submitText:"Save Variables",yaml:m,save:b,getState:_.get,saveState:_.post},C=w.yaml,S=w.save,O=w.loadText,k=w.submitText,E=w.getState,j=w.saveState;Object(D.d)(E.loading,null!==(e=E.error)&&void 0!==e?e:j.error);var V=Object(n.useMemo)((function(){return{yaml:C}}),[C]),B=Object(n.useCallback)((function(e){return S(e.yaml)}),[S]),W=Object(n.useMemo)((function(){return"config"===i?v:void 0}),[i,v]);return Object(P.e)(r.b,{initialValues:V,onSubmit:B},Object(P.e)(I.b,null,Object(P.e)(gh,{initialValues:V}),Object(P.e)("p",{css:bh},"Variables allow you reuse sections of your config file. They are also useful for hiding sensitive information like passwords.",Object(P.e)("br",null)," Any variables you create in the WebUI are saved in the DB and not to a file. You can find out more ",Object(P.e)(a.a,{href:"https://flexget.com/Plugins/variables"},"here"),"."),Object(P.e)("div",{css:_h},Object(P.e)("div",null,Object(P.e)(c.a,{css:vh,variant:"contained",onClick:y,disabled:E.loading,type:"button"},O),Object(P.e)(ph,{loading:j.loading,css:vh},k)),Object(P.e)(x,{severity:"warning",css:yh},"Taking a backup is recommended before saving a new config.")),Object(P.e)(uh,{name:"yaml",schemas:W})))}},1136:function(e,t,i){"use strict";var n,o,r,s,a,c,l,u,d,h,p,g,f,m,_;i.r(t),i.d(t,"LanguageServiceDefaultsImpl",(function(){return fe})),function(e){e.create=function(e,t){return{line:e,character:t}},e.is=function(e){var t=e;return U.objectLiteral(t)&&U.number(t.line)&&U.number(t.character)}}(n||(n={})),function(e){e.create=function(e,t,i,o){if(U.number(e)&&U.number(t)&&U.number(i)&&U.number(o))return{start:n.create(e,t),end:n.create(i,o)};if(n.is(e)&&n.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+i+", "+o+"]")},e.is=function(e){var t=e;return U.objectLiteral(t)&&n.is(t.start)&&n.is(t.end)}}(o||(o={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return U.defined(t)&&o.is(t.range)&&(U.string(t.uri)||U.undefined(t.uri))}}(r||(r={})),function(e){e.create=function(e,t,i,n){return{red:e,green:t,blue:i,alpha:n}},e.is=function(e){var t=e;return U.number(t.red)&&U.number(t.green)&&U.number(t.blue)&&U.number(t.alpha)}}(s||(s={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return o.is(t.range)&&s.is(t.color)}}(a||(a={})),function(e){e.create=function(e,t,i){return{label:e,textEdit:t,additionalTextEdits:i}},e.is=function(e){var t=e;return U.string(t.label)&&(U.undefined(t.textEdit)||f.is(t))&&(U.undefined(t.additionalTextEdits)||U.typedArray(t.additionalTextEdits,f.is))}}(c||(c={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(l||(l={})),function(e){e.create=function(e,t,i,n,o){var r={startLine:e,endLine:t};return U.defined(i)&&(r.startCharacter=i),U.defined(n)&&(r.endCharacter=n),U.defined(o)&&(r.kind=o),r},e.is=function(e){var t=e;return U.number(t.startLine)&&U.number(t.startLine)&&(U.undefined(t.startCharacter)||U.number(t.startCharacter))&&(U.undefined(t.endCharacter)||U.number(t.endCharacter))&&(U.undefined(t.kind)||U.string(t.kind))}}(u||(u={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return U.defined(t)&&r.is(t.location)&&U.string(t.message)}}(d||(d={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(h||(h={})),function(e){e.create=function(e,t,i,n,o,r){var s={range:e,message:t};return U.defined(i)&&(s.severity=i),U.defined(n)&&(s.code=n),U.defined(o)&&(s.source=o),U.defined(r)&&(s.relatedInformation=r),s},e.is=function(e){var t=e;return U.defined(t)&&o.is(t.range)&&U.string(t.message)&&(U.number(t.severity)||U.undefined(t.severity))&&(U.number(t.code)||U.string(t.code)||U.undefined(t.code))&&(U.string(t.source)||U.undefined(t.source))&&(U.undefined(t.relatedInformation)||U.typedArray(t.relatedInformation,d.is))}}(p||(p={})),function(e){e.create=function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var o={title:e,command:t};return U.defined(i)&&i.length>0&&(o.arguments=i),o},e.is=function(e){var t=e;return U.defined(t)&&U.string(t.title)&&U.string(t.command)}}(g||(g={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return U.objectLiteral(t)&&U.string(t.newText)&&o.is(t.range)}}(f||(f={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return U.defined(t)&&v.is(t.textDocument)&&Array.isArray(t.edits)}}(m||(m={})),function(e){e.is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||U.typedArray(t.documentChanges,m.is))}}(_||(_={}));var b,v,y,w,C,S,O,k,x,D,I,P,E,M,N,R,j,T=function(){function e(e){this.edits=e}return e.prototype.insert=function(e,t){this.edits.push(f.insert(e,t))},e.prototype.replace=function(e,t){this.edits.push(f.replace(e,t))},e.prototype.delete=function(e){this.edits.push(f.del(e))},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e}();!function(){function e(e){var t=this;this._textEditChanges=Object.create(null),e&&(this._workspaceEdit=e,e.documentChanges?e.documentChanges.forEach((function(e){var i=new T(e.edits);t._textEditChanges[e.textDocument.uri]=i})):e.changes&&Object.keys(e.changes).forEach((function(i){var n=new T(e.changes[i]);t._textEditChanges[i]=n})))}Object.defineProperty(e.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),e.prototype.getTextEditChange=function(e){if(v.is(e)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for versioned document changes.");var t=e;if(!(n=this._textEditChanges[t.uri])){var i={textDocument:t,edits:o=[]};this._workspaceEdit.documentChanges.push(i),n=new T(o),this._textEditChanges[t.uri]=n}return n}if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var n;if(!(n=this._textEditChanges[e])){var o=[];this._workspaceEdit.changes[e]=o,n=new T(o),this._textEditChanges[e]=n}return n}}();!function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return U.defined(t)&&U.string(t.uri)}}(b||(b={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return U.defined(t)&&U.string(t.uri)&&U.number(t.version)}}(v||(v={})),function(e){e.create=function(e,t,i,n){return{uri:e,languageId:t,version:i,text:n}},e.is=function(e){var t=e;return U.defined(t)&&U.string(t.uri)&&U.string(t.languageId)&&U.number(t.version)&&U.string(t.text)}}(y||(y={})),function(e){e.PlainText="plaintext",e.Markdown="markdown"}(w||(w={})),function(e){e.is=function(t){var i=t;return i===e.PlainText||i===e.Markdown}}(w||(w={})),function(e){e.is=function(e){var t=e;return U.objectLiteral(e)&&w.is(t.kind)&&U.string(t.value)}}(C||(C={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(S||(S={})),function(e){e.PlainText=1,e.Snippet=2}(O||(O={})),function(e){e.create=function(e){return{label:e}}}(k||(k={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(x||(x={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return U.string(t)||U.objectLiteral(t)&&U.string(t.language)&&U.string(t.value)}}(D||(D={})),function(e){e.is=function(e){var t=e;return U.objectLiteral(t)&&(C.is(t.contents)||D.is(t.contents)||U.typedArray(t.contents,D.is))&&(void 0===e.range||o.is(e.range))}}(I||(I={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(P||(P={})),function(e){e.create=function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var o={label:e};return U.defined(t)&&(o.documentation=t),U.defined(i)?o.parameters=i:o.parameters=[],o}}(E||(E={})),function(e){e.Text=1,e.Read=2,e.Write=3}(M||(M={})),function(e){e.create=function(e,t){var i={range:e};return U.number(t)&&(i.kind=t),i}}(N||(N={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(R||(R={})),function(e){e.create=function(e,t,i,n,o){var r={name:e,kind:t,location:{uri:n,range:i}};return o&&(r.containerName=o),r}}(j||(j={}));var A,F,L,V,B,W=function(){};!function(e){e.create=function(e,t,i,n,o,r){var s={name:e,detail:t,kind:i,range:n,selectionRange:o};return void 0!==r&&(s.children=r),s},e.is=function(e){var t=e;return t&&U.string(t.name)&&U.number(t.kind)&&o.is(t.range)&&o.is(t.selectionRange)&&(void 0===t.detail||U.string(t.detail))&&(void 0===t.deprecated||U.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))}}(W||(W={})),function(e){e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports"}(A||(A={})),function(e){e.create=function(e,t){var i={diagnostics:e};return null!=t&&(i.only=t),i},e.is=function(e){var t=e;return U.defined(t)&&U.typedArray(t.diagnostics,p.is)&&(void 0===t.only||U.typedArray(t.only,U.string))}}(F||(F={})),function(e){e.create=function(e,t,i){var n={title:e};return g.is(t)?n.command=t:n.edit=t,void 0!==i&&(n.kind=i),n},e.is=function(e){var t=e;return t&&U.string(t.title)&&(void 0===t.diagnostics||U.typedArray(t.diagnostics,p.is))&&(void 0===t.kind||U.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||g.is(t.command))&&(void 0===t.edit||_.is(t.edit))}}(L||(L={})),function(e){e.create=function(e,t){var i={range:e};return U.defined(t)&&(i.data=t),i},e.is=function(e){var t=e;return U.defined(t)&&o.is(t.range)&&(U.undefined(t.command)||g.is(t.command))}}(V||(V={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return U.defined(t)&&U.number(t.tabSize)&&U.boolean(t.insertSpaces)}}(B||(B={}));var H=function(){};!function(e){e.create=function(e,t,i){return{range:e,target:t,data:i}},e.is=function(e){var t=e;return U.defined(t)&&o.is(t.range)&&(U.undefined(t.target)||U.string(t.target))}}(H||(H={}));var z,K;!function(e){e.create=function(e,t,i,n){return new q(e,t,i,n)},e.is=function(e){var t=e;return!!(U.defined(t)&&U.string(t.uri)&&(U.undefined(t.languageId)||U.string(t.languageId))&&U.number(t.lineCount)&&U.func(t.getText)&&U.func(t.positionAt)&&U.func(t.offsetAt))},e.applyEdits=function(e,t){for(var i=e.getText(),n=function e(t,i){if(t.length<=1)return t;var n=t.length/2|0,o=t.slice(0,n),r=t.slice(n);e(o,i),e(r,i);var s=0,a=0,c=0;for(;s<o.length&&a<r.length;){var l=i(o[s],r[a]);t[c++]=l<=0?o[s++]:r[a++]}for(;s<o.length;)t[c++]=o[s++];for(;a<r.length;)t[c++]=r[a++];return t}(t,(function(e,t){var i=e.range.start.line-t.range.start.line;return 0===i?e.range.start.character-t.range.start.character:i})),o=i.length,r=n.length-1;r>=0;r--){var s=n[r],a=e.offsetAt(s.range.start),c=e.offsetAt(s.range.end);if(!(c<=o))throw new Error("Ovelapping edit");i=i.substring(0,a)+s.newText+i.substring(c,i.length),o=a}return i}}(z||(z={})),function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3}(K||(K={}));var U,q=function(){function e(e,t,i,n){this._uri=e,this._languageId=t,this._version=i,this._content=n,this._lineOffsets=null}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),i=this.offsetAt(e.end);return this._content.substring(t,i)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=null},e.prototype.getLineOffsets=function(){if(null===this._lineOffsets){for(var e=[],t=this._content,i=!0,n=0;n<t.length;n++){i&&(e.push(n),i=!1);var o=t.charAt(n);i="\r"===o||"\n"===o,"\r"===o&&n+1<t.length&&"\n"===t.charAt(n+1)&&n++}i&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),i=0,o=t.length;if(0===o)return n.create(0,e);for(;i<o;){var r=Math.floor((i+o)/2);t[r]>e?o=r:i=r+1}var s=i-1;return n.create(s,e-t[s])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var i=t[e.line],n=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(i+e.character,n),i)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(U||(U={}));var G=function(){return(G=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Z=monaco.Range,$=function(){function e(e,t,i){var n=this;this._languageId=e,this._worker=t,this._disposables=[],this._listener=Object.create(null);var o=function(e){var t,i=e.getModeId();i===n._languageId&&(n._listener[e.uri.toString()]=e.onDidChangeContent((function(){clearTimeout(t),t=setTimeout((function(){return n._doValidate(e.uri,i)}),500)})),n._doValidate(e.uri,i))},r=function(e){monaco.editor.setModelMarkers(e,n._languageId,[]);var t=e.uri.toString(),i=n._listener[t];i&&(i.dispose(),delete n._listener[t])};this._disposables.push(monaco.editor.onDidCreateModel(o)),this._disposables.push(monaco.editor.onWillDisposeModel((function(e){r(e),n._resetSchema(e.uri)}))),this._disposables.push(monaco.editor.onDidChangeModelLanguage((function(e){r(e.model),o(e.model),n._resetSchema(e.model.uri)}))),this._disposables.push(i.onDidChange((function(e){monaco.editor.getModels().forEach((function(e){e.getModeId()===n._languageId&&(r(e),o(e))}))}))),this._disposables.push({dispose:function(){for(var e in monaco.editor.getModels().forEach(r),n._listener)n._listener[e].dispose()}}),monaco.editor.getModels().forEach(o)}return e.prototype.dispose=function(){this._disposables.forEach((function(e){return e&&e.dispose()})),this._disposables=[]},e.prototype._resetSchema=function(e){this._worker().then((function(t){t.resetSchema(e.toString())}))},e.prototype._doValidate=function(e,t){this._worker(e).then((function(i){return i.doValidation(e.toString()).then((function(i){var n=i.map((function(e){return i="number"==typeof(t=e).code?String(t.code):t.code,{severity:Y(t.severity),startLineNumber:t.range.start.line+1,startColumn:t.range.start.character+1,endLineNumber:t.range.end.line+1,endColumn:t.range.end.character+1,message:t.message,code:i,source:t.source};var t,i})),o=monaco.editor.getModel(e);o.getModeId()===t&&monaco.editor.setModelMarkers(o,t,n)}))})).then(void 0,(function(e){console.error(e)}))},e}();function Y(e){switch(e){case h.Error:return monaco.MarkerSeverity.Error;case h.Warning:return monaco.MarkerSeverity.Warning;case h.Information:return monaco.MarkerSeverity.Info;case h.Hint:return monaco.MarkerSeverity.Hint;default:return monaco.MarkerSeverity.Info}}function J(e){if(e)return{character:e.column-1,line:e.lineNumber-1}}function Q(e){if(e)return new Z(e.start.line+1,e.start.character+1,e.end.line+1,e.end.character+1)}function X(e){var t=monaco.languages.CompletionItemKind;switch(e){case S.Text:return t.Text;case S.Method:return t.Method;case S.Function:return t.Function;case S.Constructor:return t.Constructor;case S.Field:return t.Field;case S.Variable:return t.Variable;case S.Class:return t.Class;case S.Interface:return t.Interface;case S.Module:return t.Module;case S.Property:return t.Property;case S.Unit:return t.Unit;case S.Value:return t.Value;case S.Enum:return t.Enum;case S.Keyword:return t.Keyword;case S.Snippet:return t.Snippet;case S.Color:return t.Color;case S.File:return t.File;case S.Reference:return t.Reference}return t.Property}function ee(e){if(e)return{range:Q(e.range),text:e.newText}}var te=function(){function e(e){this._worker=e}return Object.defineProperty(e.prototype,"triggerCharacters",{get:function(){return[" ",":"]},enumerable:!0,configurable:!0}),e.prototype.provideCompletionItems=function(e,t,i,n){e.getWordUntilPosition(t);var o=e.uri;return this._worker(o).then((function(e){return e.doComplete(o.toString(),J(t))})).then((function(e){if(e){var t=e.items.map((function(e){var t={label:e.label,insertText:e.insertText||e.label,sortText:e.sortText,filterText:e.filterText,documentation:e.documentation,detail:e.detail,kind:X(e.kind)};return e.textEdit&&(t.range=Q(e.textEdit.range),t.insertText=e.textEdit.newText),e.additionalTextEdits&&(t.additionalTextEdits=e.additionalTextEdits.map(ee)),e.insertTextFormat===O.Snippet&&(t.insertTextRules=monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet),t}));return{isIncomplete:e.isIncomplete,suggestions:t}}}))},e}();function ie(e){return"string"==typeof e?{value:e}:(t=e)&&"object"==typeof t&&"string"==typeof t.kind?"plaintext"===e.kind?{value:e.value.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}:{value:e.value}:{value:"```"+e.language+"\n"+e.value+"\n```\n"};var t}function ne(e){if(e)return Array.isArray(e)?e.map(ie):[ie(e)]}var oe=function(){function e(e){this._worker=e}return e.prototype.provideHover=function(e,t,i){var n=e.uri;return this._worker(n).then((function(e){return e.doHover(n.toString(),J(t))})).then((function(e){if(e)return{range:Q(e.range),contents:ne(e.contents)}}))},e}();function re(e){var t=monaco.languages.SymbolKind;switch(e){case R.File:return t.Array;case R.Module:return t.Module;case R.Namespace:return t.Namespace;case R.Package:return t.Package;case R.Class:return t.Class;case R.Method:return t.Method;case R.Property:return t.Property;case R.Field:return t.Field;case R.Constructor:return t.Constructor;case R.Enum:return t.Enum;case R.Interface:return t.Interface;case R.Function:return t.Function;case R.Variable:return t.Variable;case R.Constant:return t.Constant;case R.String:return t.String;case R.Number:return t.Number;case R.Boolean:return t.Boolean;case R.Array:return t.Array}return t.Function}var se=function(){function e(e){this._worker=e}return e.prototype.provideDocumentSymbols=function(e,t){var i=e.uri;return this._worker(i).then((function(e){return e.findDocumentSymbols(i.toString())})).then((function(e){if(e)return e.map((function(e){return function e(t){return{detail:"",range:Q(t.range),name:t.name,kind:re(t.kind),selectionRange:Q(t.selectionRange),children:t.children.map((function(t){return e(t)}))}}(e)}))}))},e}();function ae(e){return G({tabSize:e.tabSize,insertSpaces:e.insertSpaces},e)}var ce=function(){function e(e){this._worker=e}return e.prototype.provideDocumentFormattingEdits=function(e,t,i){var n=e.uri;return this._worker(n).then((function(e){return e.format(n.toString(),null,ae(t)).then((function(e){if(e&&0!==e.length)return e.map(ee)}))}))},e}(),le=function(){function e(e){this._worker=e}return e.prototype.provideDocumentRangeFormattingEdits=function(e,t,i,n){var o=e.uri;return this._worker(o).then((function(e){return e.format(o.toString(),function(e){if(e)return{start:{line:e.startLineNumber-1,character:e.startColumn-1},end:{line:e.endLineNumber-1,character:e.endColumn-1}}}(t),ae(i)).then((function(e){if(e&&0!==e.length)return e.map(ee)}))}))},e}(),ue=function(){function e(e){var t=this;this._defaults=e,this._worker=null,this._idleCheckInterval=setInterval((function(){return t._checkIfIdle()}),3e4),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange((function(){return t._stopWorker()}))}return e.prototype.dispose=function(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()},e.prototype.getLanguageServiceWorker=function(){for(var e,t=this,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return this._getClient().then((function(t){e=t})).then((function(e){return t._worker.withSyncedResources(i)})).then((function(t){return e}))},e.prototype._stopWorker=function(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null},e.prototype._checkIfIdle=function(){this._worker&&(Date.now()-this._lastUsedTime>12e4&&this._stopWorker())},e.prototype._getClient=function(){return this._lastUsedTime=Date.now(),this._client||(this._worker=monaco.editor.createWebWorker({moduleId:"vs/language/yaml/yamlWorker",label:this._defaults.languageId,createData:{languageSettings:this._defaults.diagnosticsOptions,languageId:this._defaults.languageId,enableSchemaRequest:this._defaults.diagnosticsOptions.enableSchemaRequest,prefix:this._defaults.diagnosticsOptions.prefix,isKubernetes:this._defaults.diagnosticsOptions.isKubernetes}}),this._client=this._worker.getProxy()),this._client},e}(),de=function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,o,r=i.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(o)throw o.error}}return s},he=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(de(arguments[t]));return e};var pe={comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],onEnterRules:[{beforeText:/:\s*$/,action:{indentAction:monaco.languages.IndentAction.Indent}}]},ge=monaco.Emitter,fe=function(){function e(e,t){this._onDidChange=new ge,this._languageId=e,this.setDiagnosticsOptions(t)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!0,configurable:!0}),e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},e}(),me=new fe("yaml",{validate:!0,schemas:[],enableSchemaRequest:!1});monaco.languages.yaml={yamlDefaults:me},monaco.languages.register({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml"]}),monaco.languages.onLanguage("yaml",(function(){!function(e){var t=[],i=new ue(e);t.push(i);var n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.getLanguageServiceWorker.apply(i,he(e))},o=e.languageId;t.push(monaco.languages.registerCompletionItemProvider(o,new te(n))),t.push(monaco.languages.registerHoverProvider(o,new oe(n))),t.push(monaco.languages.registerDocumentSymbolProvider(o,new se(n))),t.push(monaco.languages.registerDocumentFormattingEditProvider(o,new ce(n))),t.push(monaco.languages.registerDocumentRangeFormattingEditProvider(o,new le(n))),t.push(new $(o,n,e)),t.push(monaco.languages.setLanguageConfiguration(o,pe))}(me)}))},978:function(e,t,i){"use strict";var n=i(0),o=i.n(n),r=i(394);t.a=Object(r.a)(o.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")}}]);
//# sourceMappingURL=ConfigPlugin.9606f3e989a99c15fd49.js.map